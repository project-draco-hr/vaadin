{
  ComponentContainer main=getContent();
  tf.setDebugId("tf");
  userInfo.setDebugId("userInfo");
  portletEdit.setDebugId("portletEdit");
  portletMax.setDebugId("portletMax");
  Embedded appResourceTest=new Embedded("Test of ApplicationResources with full path",new FlagSeResource(getApplication()));
  main.addComponent(appResourceTest);
  Embedded specialNameResourceTest=new Embedded("Test ApplicationResources with special names",new SpecialNameResource(getApplication()));
  main.addComponent(specialNameResourceTest);
  userInfo.setCaption("User info");
  userInfo.setContentMode(ContentMode.PREFORMATTED);
  main.addComponent(userInfo);
  tf.setEnabled(false);
  tf.setImmediate(true);
  main.addComponent(tf);
  portletEdit.setEnabled(false);
  main.addComponent(portletEdit);
  portletMax.setEnabled(false);
  main.addComponent(portletMax);
  Upload upload=new Upload("Upload a file",new Receiver(){
    @Override public OutputStream receiveUpload(    String filename,    String mimeType){
      return new ByteArrayOutputStream();
    }
  }
);
  main.addComponent(upload);
  if (getApplication().getContext() instanceof PortletApplicationContext2) {
    PortletApplicationContext2 ctx=(PortletApplicationContext2)getApplication().getContext();
    ctx.addPortletListener(getApplication(),new DemoPortletListener());
  }
 else {
    Notification.show("Not inited via Portal!",Notification.TYPE_ERROR_MESSAGE);
  }
}
