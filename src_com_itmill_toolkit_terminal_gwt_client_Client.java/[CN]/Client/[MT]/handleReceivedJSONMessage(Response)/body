{
  JSONValue json=JSONParser.parse(response.getText().substring(3) + "}");
  JSONArray changes=(JSONArray)((JSONObject)json).get("changes");
  for (int i=0; i < changes.size(); i++) {
    try {
      UIDL change=new UIDL((JSONArray)changes.get(i));
      console.log("Received the following change: " + change);
      UIDL uidl=change.getChildUIDL(0);
      Paintable paintable=getPaintable(uidl.getId());
      if (paintable != null)       paintable.updateFromUIDL(uidl,this);
 else {
        if (!uidl.getTag().equals("window"))         throw new IllegalStateException("Received update for " + uidl.getTag() + ", but there is no such paintable ("+ uidl.getId()+ ") registered yet.");
        Widget window=createWidgetFromUIDL(uidl);
        RootPanel.get("itmtk-ajax-window").add(window);
      }
    }
 catch (    Throwable e) {
      e.printStackTrace();
    }
  }
}
