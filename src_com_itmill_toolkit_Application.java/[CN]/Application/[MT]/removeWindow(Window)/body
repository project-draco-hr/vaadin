{
  if (window != null && windows.contains(window)) {
    windows.remove(window.getName());
    if (getMainWindow() == window) {
      setMainWindow(null);
    }
    if (window.getApplication() == this) {
      window.setApplication(null);
    }
    fireWindowDetachEvent(window);
  }
}
