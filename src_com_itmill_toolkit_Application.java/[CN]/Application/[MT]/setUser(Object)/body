{
  final Object prevUser=this.user;
  if (user == prevUser || (user != null && user.equals(prevUser))) {
    return;
  }
  this.user=user;
  if (userChangeListeners != null) {
    final Object[] listeners=userChangeListeners.toArray();
    final UserChangeEvent event=new UserChangeEvent(this,user,prevUser);
    for (int i=0; i < listeners.length; i++) {
      ((UserChangeListener)listeners[i]).applicationUserChanged(event);
    }
  }
}
