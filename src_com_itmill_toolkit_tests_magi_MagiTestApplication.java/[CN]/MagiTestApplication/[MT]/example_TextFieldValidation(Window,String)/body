{
  TextField username=new TextField("Username");
  main.addComponent(username);
  username.setColumns(16);
  username.addValidator(new StringLengthValidator("Must be 6 to 16 characters long",6,16,false));
  username.setImmediate(true);
  username.addListener(new ValueChangeListener(){
    public void valueChange(    ValueChangeEvent event){
      TextField username=(TextField)(event.getProperty());
      try {
        username.validate();
        username.setComponentError(null);
      }
 catch (      Validator.InvalidValueException e) {
        username.setComponentError(new UserError(e.getMessage()));
      }
    }
  }
);
}
