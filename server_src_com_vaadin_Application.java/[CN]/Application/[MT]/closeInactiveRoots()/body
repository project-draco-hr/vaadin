{
  long now=System.currentTimeMillis();
  for (Iterator<Root> i=roots.values().iterator(); i.hasNext(); ) {
    Root root=i.next();
    if (now - root.getLastHeartbeat() > 1000 * getHeartbeatTimeout()) {
      i.remove();
      retainOnRefreshRoots.values().remove(root.getRootId());
      root.fireCloseEvent();
    }
  }
}
