{
  JSONArray keys=new JSONArray();
  JSONArray values=new JSONArray();
  for (  Entry<?,?> entry : map.entrySet()) {
    EncodeResult encodedKey=encode(entry.getKey(),null,keyType,connectorTracker);
    EncodeResult encodedValue=encode(entry.getValue(),null,valueType,connectorTracker);
    keys.put(encodedKey.getEncodedValue());
    values.put(encodedValue.getEncodedValue());
  }
  return new JSONArray(Arrays.asList(keys,values));
}
