{
  LegacyDateField df=new LegacyDateField("Date field");
  df.setId("datefield" + debugIdCounter++);
  df.setValue(cal.getTime());
  if (caption != null) {
    df.setCaption(caption);
  }
  if (primaryStyleName != null) {
    df.addStyleName(primaryStyleName);
  }
  if (width != null) {
    df.setWidth(width);
  }
  addComponent(df);
}
