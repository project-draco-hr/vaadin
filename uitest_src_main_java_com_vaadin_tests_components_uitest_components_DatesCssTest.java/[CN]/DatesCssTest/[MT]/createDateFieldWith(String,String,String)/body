{
  AbstractDateField df=new TestDateField("Date field");
  df.setId("datefield" + debugIdCounter++);
  df.setValue(date);
  if (caption != null) {
    df.setCaption(caption);
  }
  if (primaryStyleName != null) {
    df.addStyleName(primaryStyleName);
  }
  if (width != null) {
    df.setWidth(width);
  }
  addComponent(df);
}
