{
  int internalIndex=-1;
  if (getFilteredItemIds() == null) {
    internalIndex=index;
  }
 else   if (index == 0) {
    internalIndex=0;
  }
 else   if (index == size()) {
    Object id=getIdByIndex(index - 1);
    internalIndex=allItemIds.indexOf(id) + 1;
  }
 else   if (index > 0 && index < size()) {
    Object id=getIdByIndex(index);
    internalIndex=allItemIds.indexOf(id);
  }
  if (internalIndex >= 0) {
    return addItemAtInternalIndex(internalIndex,newItemId);
  }
 else {
    return null;
  }
}
