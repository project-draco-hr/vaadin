{
  final Map<Object,Object> propertySet=items.get(itemId);
  if (newValue == null) {
    propertySet.remove(propertyId);
  }
 else   if (getType().isAssignableFrom(newValue.getClass())) {
    propertySet.put(propertyId,newValue);
  }
 else {
    try {
      final Constructor<?> constr=getType().getConstructor(new Class[]{String.class});
      propertySet.put(propertyId,constr.newInstance(new Object[]{newValue.toString()}));
    }
 catch (    final java.lang.Exception e) {
      throw new Property.ConversionException("Conversion for value '" + newValue + "' of class "+ newValue.getClass().getName()+ " to "+ getType().getName()+ " failed");
    }
  }
  updateContainerFiltering(propertyId);
  firePropertyValueChange(this);
}
