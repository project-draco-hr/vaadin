{
  try {
    Class<? extends Application> applicationClass=ServletPortletHelper.getApplicationClass(getDeploymentConfiguration());
    final Application application=applicationClass.newInstance();
    application.addUIProvider(new DefaultUIProvider());
    return application;
  }
 catch (  final IllegalAccessException e) {
    throw new ServletException("getNewApplication failed",e);
  }
catch (  final InstantiationException e) {
    throw new ServletException("getNewApplication failed",e);
  }
catch (  ApplicationClassException e) {
    throw new ServletException("getNewApplication failed",e);
  }
}
