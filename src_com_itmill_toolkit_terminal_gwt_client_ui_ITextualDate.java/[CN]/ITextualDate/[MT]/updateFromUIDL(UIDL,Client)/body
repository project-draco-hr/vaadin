{
  super.updateFromUIDL(uidl,client);
  if (uidl.hasVariable("year")) {
    int selectedYear=uidl.getIntVariable("year");
    int y=container.getWidgetIndex(year);
    if (y > -1 || !currentLocale.equals(uidl.getStringAttribute("locale"))) {
      year=(ListBox)container.getWidget(y);
      year.setItemSelected(year.getSelectedIndex(),false);
      for (int i=0; i < year.getItemCount(); i++)       if (year.getValue(i).equals("" + selectedYear)) {
        year.setSelectedIndex(i);
        break;
      }
    }
 else {
      year=new ListBox();
      year.setStyleName(ISelect.CLASSNAME);
      int today=1900 + (new Date()).getYear();
      for (int i=1970; i < today + 400; i++) {
        year.addItem("" + i,"" + i);
        if (i == selectedYear)         year.setSelectedIndex(year.getItemCount() - 1);
      }
      year.addChangeListener(this);
      container.add(year);
    }
  }
  if (uidl.hasVariable("month")) {
    int selectedMonth=uidl.getIntVariable("month");
    int y=container.getWidgetIndex(month);
    if (y > -1) {
      month=(ListBox)container.getWidget(y);
      month.setItemSelected(month.getSelectedIndex(),false);
      for (int i=0; i < month.getItemCount(); i++)       if (month.getValue(i).equals("" + selectedMonth)) {
        month.setSelectedIndex(i);
        break;
      }
    }
 else {
      month=new ListBox();
      month.setStyleName(ISelect.CLASSNAME);
      int today=(new Date()).getMonth();
      for (int i=0; i < 12; i++) {
        month.addItem("" + (i + 1),"" + i);
        if (i == selectedMonth)         month.setSelectedIndex(month.getItemCount() - 1);
      }
      month.addChangeListener(this);
      container.add(month);
    }
  }
  if (uidl.hasVariable("day")) {
    int selectedMonth=uidl.getIntVariable("day");
    int y=container.getWidgetIndex(day);
    if (y > -1) {
      day=(ListBox)container.getWidget(y);
      day.setItemSelected(day.getSelectedIndex(),false);
      for (int i=0; i < day.getItemCount(); i++)       if (day.getValue(i).equals("" + selectedMonth)) {
        day.setSelectedIndex(i);
        break;
      }
    }
 else {
      day=new ListBox();
      day.setStyleName(ISelect.CLASSNAME);
      int today=(new Date()).getDay();
      for (int i=0; i < 31; i++) {
        day.addItem("" + (i + 1),"" + i);
        if (i == selectedMonth)         day.setSelectedIndex(day.getItemCount() - 1);
      }
      day.addChangeListener(this);
      container.add(day);
    }
  }
}
