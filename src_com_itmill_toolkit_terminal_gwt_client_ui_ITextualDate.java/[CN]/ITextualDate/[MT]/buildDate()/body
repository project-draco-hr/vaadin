{
  removeStyleName(ERROR_CLASSNAME);
  String dateText;
  if (date != null) {
    dateText=DateTimeFormat.getFormat(getFormatString()).format(date);
  }
 else {
    dateText="";
  }
  text.setText(dateText);
  text.setEnabled(enabled && !readonly);
  if (readonly) {
    text.addStyleName("i-readonly");
  }
 else {
    text.removeStyleName("i-readonly");
  }
}
