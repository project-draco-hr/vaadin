{
  final Object id=tree.addItem();
  final Item item=tree.getItem(id);
  @SuppressWarnings("unchecked") final Property<String> p=(Property<String>)item.getItemProperty(CAPTION_PROPERTY);
  p.setValue(caption);
  if (parent != null) {
    tree.setChildrenAllowed(parent,true);
    tree.setParent(id,parent);
    tree.setChildrenAllowed(id,false);
  }
  return id;
}
