{
  String paintableId=getPaintableId((Paintable)owner);
  String key=paintableId + "/" + name;
  if (pidToNameToReceiver == null) {
    pidToNameToReceiver=new HashMap<String,Map<String,Receiver>>();
  }
  Map<String,Receiver> nameToReceiver=pidToNameToReceiver.get(paintableId);
  if (nameToReceiver == null) {
    nameToReceiver=new HashMap<String,Receiver>();
    pidToNameToReceiver.put(paintableId,nameToReceiver);
  }
  nameToReceiver.put(name,value);
  if (receiverToSeckey == null) {
    receiverToSeckey=new HashMap<Receiver,String>();
  }
  String seckey=UUID.randomUUID().toString();
  receiverToSeckey.put(value,seckey);
  return getApplication().getURL() + AbstractApplicationServlet.UPLOAD_URL_PREFIX + key+ "/"+ seckey;
}
