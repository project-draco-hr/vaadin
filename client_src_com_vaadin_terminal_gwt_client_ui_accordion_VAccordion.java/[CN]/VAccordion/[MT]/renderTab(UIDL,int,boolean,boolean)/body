{
  StackItem item;
  int itemIndex;
  if (getWidgetCount() <= index) {
    item=new StackItem(tabUidl);
    if (getWidgetCount() == 0) {
      item.addStyleDependentName("first");
    }
    itemIndex=getWidgetCount();
    add(item,getElement());
  }
 else {
    item=getStackItem(index);
    item=moveStackItemIfNeeded(item,index,tabUidl);
    itemIndex=index;
  }
  item.updateCaption(tabUidl);
  item.setVisible(!hidden);
  if (selected) {
    selectedUIDLItemIndex=itemIndex;
  }
  if (tabUidl.getChildCount() > 0) {
    lazyUpdateMap.put(item,tabUidl.getChildUIDL(0));
  }
}
