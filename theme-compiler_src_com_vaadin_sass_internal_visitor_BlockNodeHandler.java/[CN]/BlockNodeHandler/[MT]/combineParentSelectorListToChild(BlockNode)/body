{
  ArrayList<String> newList=new ArrayList<String>();
  BlockNode parentBlock=(BlockNode)node.getParentNode();
  for (  String parentSelector : parentBlock.getSelectorList()) {
    for (    String childSelector : node.getSelectorList()) {
      if (childSelector.contains("&")) {
        newList.add(childSelector.replace("&",parentSelector));
      }
 else {
        newList.add(parentSelector + " " + childSelector);
      }
    }
  }
  node.setSelectorList(newList);
  Node oldParent=node.getParentNode();
  HashMap<Node,Node> lastNodeAdded=ScssStylesheet.getLastNodeAdded();
  if (lastNodeAdded.get(oldParent) != null) {
    oldParent.getParentNode().appendChild(node,lastNodeAdded.get(oldParent));
  }
 else {
    oldParent.getParentNode().appendChild(node,oldParent);
  }
  lastNodeAdded.put(oldParent,node);
}
