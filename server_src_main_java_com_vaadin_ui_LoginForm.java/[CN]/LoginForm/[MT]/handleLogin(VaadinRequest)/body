{
  Map<String,String[]> parameters=VaadinService.getCurrentRequest().getParameterMap();
  HashMap<String,String> params=new HashMap<String,String>();
  for (Iterator<String> it=parameters.keySet().iterator(); it.hasNext(); ) {
    String key=it.next();
    String value=(parameters.get(key))[0];
    params.put(key,value);
  }
  LoginEvent event=new LoginEvent(LoginForm.this,params);
  fireEvent(event);
  return "<html><body>Login form handled." + "<script type='text/javascript'>parent.parent.vaadin.forceSync();" + "</script></body></html>";
}
