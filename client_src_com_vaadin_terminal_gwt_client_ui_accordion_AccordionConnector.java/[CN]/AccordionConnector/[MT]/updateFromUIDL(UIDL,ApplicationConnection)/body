{
  getWidget().selectedUIDLItemIndex=-1;
  super.updateFromUIDL(uidl,client);
  if (getWidget().selectedUIDLItemIndex >= 0) {
    StackItem selectedItem=getWidget().getStackItem(getWidget().selectedUIDLItemIndex);
    UIDL selectedTabUIDL=getWidget().lazyUpdateMap.remove(selectedItem);
    getWidget().open(getWidget().selectedUIDLItemIndex);
    selectedItem.setContent(selectedTabUIDL);
  }
 else   if (isRealUpdate(uidl) && getWidget().openTab != null) {
    getWidget().close(getWidget().openTab);
  }
  getWidget().iLayout();
  if (getWidget().lazyUpdateMap.size() > 0) {
    for (Iterator iterator=getWidget().lazyUpdateMap.keySet().iterator(); iterator.hasNext(); ) {
      StackItem item=(StackItem)iterator.next();
      item.setContent(getWidget().lazyUpdateMap.get(item));
    }
    getWidget().lazyUpdateMap.clear();
  }
}
