{
  FormLayout formLayout=new FormLayout();
  CheckBox control=new CheckBox("Messages On/Off");
  control.addListener(new ValueChangeListener(){
    @Override public void valueChange(    ValueChangeEvent event){
      messages.setVisible((Boolean)event.getProperty().getValue());
      messages.setRequired(true);
      messages.setCaption("Messages visible");
    }
  }
);
  control.setImmediate(true);
  formLayout.addComponent(control);
  messages=new TextArea("Messages hidden");
  messages.setRows(10);
  messages.setColumns(40);
  messages.setVisible(false);
  messages.setEnabled(false);
  formLayout.addComponent(messages);
  addComponent(formLayout);
}
