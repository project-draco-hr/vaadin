{
  if (uidl.hasAttribute("primarystyle")) {
    setStyleName(uidl.getStringAttribute("primarystyle"));
    captionElement.setPropertyString("className",getStylePrimaryName() + "-caption");
  }
  if (client.updateComponent(this,uidl,false)) {
    return;
  }
  this.client=client;
  id=uidl.getId();
  setText(uidl.getStringAttribute("caption"));
  if (uidl.hasAttribute("error")) {
    if (errorIndicatorElement == null) {
      errorIndicatorElement=DOM.createSpan();
      DOM.setElementProperty(errorIndicatorElement,"className","v-errorindicator");
    }
    DOM.insertChild(getElement(),errorIndicatorElement,0);
    if (BrowserInfo.get().isIE()) {
      DOM.setInnerText(errorIndicatorElement," ");
    }
  }
 else   if (errorIndicatorElement != null) {
    DOM.removeChild(getElement(),errorIndicatorElement);
    errorIndicatorElement=null;
  }
  if (uidl.hasAttribute("readonly")) {
    setEnabled(false);
  }
  if (uidl.hasAttribute("icon")) {
    if (icon == null) {
      icon=new Icon(client);
      DOM.insertChild(getElement(),icon.getElement(),0);
    }
    icon.setUri(uidl.getStringAttribute("icon"));
  }
 else {
    if (icon != null) {
      DOM.removeChild(getElement(),icon.getElement());
      icon=null;
    }
  }
  if (BrowserInfo.get().isIE7()) {
    if (width.equals("")) {
      DeferredCommand.addCommand(new Command(){
        public void execute(){
          setWidth("");
          setWidth(getOffsetWidth() + "px");
        }
      }
);
    }
  }
}
