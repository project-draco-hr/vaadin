{
  if (client.updateComponent(this,uidl,false)) {
    return;
  }
  focusHandlerRegistration=EventHelper.updateFocusHandler(this,client,focusHandlerRegistration);
  blurHandlerRegistration=EventHelper.updateBlurHandler(this,client,blurHandlerRegistration);
  this.client=client;
  id=uidl.getId();
  htmlCaption=uidl.hasAttribute("html-caption") && uidl.getBooleanAttribute("html-caption");
  setText(uidl.getStringAttribute("caption"));
  disableOnClick=uidl.hasAttribute(ATTR_DISABLE_ON_CLICK);
  if (uidl.hasAttribute("error")) {
    if (errorIndicatorElement == null) {
      errorIndicatorElement=DOM.createSpan();
      errorIndicatorElement.setClassName("v-errorindicator");
    }
    wrapper.insertBefore(errorIndicatorElement,captionElement);
    if (BrowserInfo.get().isIE6() || BrowserInfo.get().isIE7()) {
      errorIndicatorElement.setInnerText(" ");
    }
  }
 else   if (errorIndicatorElement != null) {
    wrapper.removeChild(errorIndicatorElement);
    errorIndicatorElement=null;
  }
  if (uidl.hasAttribute("icon")) {
    if (icon == null) {
      icon=new Icon(client);
      wrapper.insertBefore(icon.getElement(),captionElement);
    }
    icon.setUri(uidl.getStringAttribute("icon"));
  }
 else {
    if (icon != null) {
      wrapper.removeChild(icon.getElement());
      icon=null;
    }
  }
  if (uidl.hasAttribute("keycode")) {
    clickShortcut=uidl.getIntAttribute("keycode");
  }
}
