{
  Tab tab=tb.getTab(index);
  if (tab == null) {
    tab=tb.addTab();
  }
  tab.updateFromState(tabState);
  tab.setEnabledOnServer((!disabledTabKeys.contains(tabKeys.get(index))));
  tab.setHiddenOnServer(!tabState.visible);
  if (scrolledOutOfView(index)) {
    tabState.visible=false;
  }
  tab.setVisible(tabState.visible);
  tab.recalculateCaptionWidth();
}
