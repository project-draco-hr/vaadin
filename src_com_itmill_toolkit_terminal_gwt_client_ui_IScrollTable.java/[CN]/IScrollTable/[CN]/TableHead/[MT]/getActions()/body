{
  Object[] cols;
  if (IScrollTable.this.columnReordering) {
    cols=columnOrder;
  }
 else {
    cols=visibleColOrder;
    cols=new Object[visibleColOrder.length + collapsedColumns.size()];
    int i;
    for (i=0; i < visibleColOrder.length; i++) {
      cols[i]=visibleColOrder[i];
    }
    for (Iterator it=collapsedColumns.iterator(); it.hasNext(); )     cols[i++]=it.next();
  }
  Action[] actions=new Action[cols.length];
  for (int i=0; i < cols.length; i++) {
    String cid=(String)cols[i];
    HeaderCell c=getHeaderCell(cid);
    VisibleColumnAction a=new VisibleColumnAction(c.getColKey());
    a.setCaption(c.getCaption());
    if (!c.isEnabled())     a.setCollapsed(true);
    actions[i]=a;
  }
  return actions;
}
