{
  getWidgetForPaintable().isRendering=true;
  super.updateFromUIDL(uidl,client);
  if (uidl.getBooleanAttribute("cached") || uidl.getBooleanAttribute("invisible")) {
    getWidgetForPaintable().isRendering=false;
    return;
  }
  clickEventHandler.handleEventHandlerRegistration(client);
  ArrayList<Widget> uidlWidgets=new ArrayList<Widget>(uidl.getChildCount());
  ArrayList<ChildComponentContainer> relativeSizeComponents=new ArrayList<ChildComponentContainer>();
  ArrayList<UIDL> relativeSizeComponentUIDL=new ArrayList<UIDL>();
  int pos=0;
  for (final Iterator<Object> it=uidl.getChildIterator(); it.hasNext(); ) {
    final UIDL childUIDL=(UIDL)it.next();
    final VPaintableWidget childPaintable=client.getPaintable(childUIDL);
    Widget widget=childPaintable.getWidgetForPaintable();
    ChildComponentContainer childComponentContainer=getWidgetForPaintable().getComponentContainer(widget);
    if (childComponentContainer == null) {
      childComponentContainer=getWidgetForPaintable().createChildContainer(childPaintable);
    }
 else {
      childComponentContainer.setPaintable(childPaintable);
    }
    getWidgetForPaintable().addOrMoveChild(childComponentContainer,pos++);
    if (!Util.isCached(childUIDL)) {
      FloatSize relativeSize=Util.parseRelativeSize(childUIDL);
      childComponentContainer.setRelativeSize(relativeSize);
    }
    if (childComponentContainer.isComponentRelativeSized(getWidgetForPaintable().orientation)) {
      relativeSizeComponents.add(childComponentContainer);
      relativeSizeComponentUIDL.add(childUIDL);
    }
 else {
      if (getWidgetForPaintable().isDynamicWidth()) {
        childComponentContainer.renderChild(childUIDL,client,-1);
      }
 else {
        childComponentContainer.renderChild(childUIDL,client,getWidgetForPaintable().activeLayoutSize.getWidth());
      }
      if (getWidgetForPaintable().sizeHasChangedDuringRendering && Util.isCached(childUIDL)) {
        client.handleComponentRelativeSize(childComponentContainer.getWidget());
      }
    }
    uidlWidgets.add(widget);
  }
  getWidgetForPaintable().removeChildrenAfter(pos);
  getWidgetForPaintable().updateAlignmentsAndExpandRatios(uidl,uidlWidgets);
  getWidgetForPaintable().updateWidgetSizes();
  getWidgetForPaintable().recalculateLayout();
  for (int i=0; i < relativeSizeComponents.size(); i++) {
    ChildComponentContainer childComponentContainer=relativeSizeComponents.get(i);
    UIDL childUIDL=relativeSizeComponentUIDL.get(i);
    if (getWidgetForPaintable().isDynamicWidth()) {
      childComponentContainer.renderChild(childUIDL,client,-1);
    }
 else {
      childComponentContainer.renderChild(childUIDL,client,getWidgetForPaintable().activeLayoutSize.getWidth());
    }
    if (Util.isCached(childUIDL)) {
      client.handleComponentRelativeSize(childComponentContainer.getWidget());
    }
  }
  for (  ChildComponentContainer childComponentContainer : getWidgetForPaintable().getComponentContainers()) {
    childComponentContainer.updateWidgetSize();
  }
  if ((getWidgetForPaintable().isHorizontal() && getWidgetForPaintable().isDynamicHeight()) || (getWidgetForPaintable().isVertical() && getWidgetForPaintable().isDynamicWidth())) {
    getWidgetForPaintable().layoutSizeMightHaveChanged();
  }
  getWidgetForPaintable().updateContainerMargins();
  if (getWidgetForPaintable().updateRelativeSizesInNonMainDirection()) {
    getWidgetForPaintable().updateWidgetSizes();
    getWidgetForPaintable().layoutSizeMightHaveChanged();
  }
  getWidgetForPaintable().calculateAlignments();
  getWidgetForPaintable().setRootSize();
  if (BrowserInfo.get().isIE()) {
    getWidgetForPaintable().root.getStyle().setProperty("zoom","1");
  }
  getWidgetForPaintable().isRendering=false;
  getWidgetForPaintable().sizeHasChangedDuringRendering=false;
}
