{
  if (client.updateComponent(this,uidl,true)) {
    return;
  }
  this.client=client;
  boolean clearBrowserElement=true;
  if (uidl.hasAttribute("type")) {
    final String type=uidl.getStringAttribute("type");
    if (type.equals("image")) {
      Element el=null;
      boolean created=false;
      NodeList nodes=getElement().getChildNodes();
      if (nodes != null && nodes.getLength() == 1) {
        Node n=nodes.getItem(0);
        if (n.getNodeType() == Node.ELEMENT_NODE) {
          Element e=(Element)n;
          if (e.getTagName().equals("IMG")) {
            el=e;
          }
        }
      }
      if (el == null) {
        setHTML("");
        el=DOM.createImg();
        created=true;
        client.addPngFix(el);
        DOM.sinkEvents(el,Event.ONLOAD);
      }
      Style style=el.getStyle();
      String w=uidl.getStringAttribute("width");
      if (w != null) {
        style.setProperty("width",w);
      }
 else {
        style.setProperty("width","");
      }
      String h=uidl.getStringAttribute("height");
      if (h != null) {
        style.setProperty("height",h);
      }
 else {
        style.setProperty("height","");
      }
      DOM.setElementProperty(el,"src",getSrc(uidl,client));
      if (created) {
        getElement().appendChild(el);
      }
      sinkEvents(VTooltip.TOOLTIP_EVENTS);
    }
 else     if (type.equals("browser")) {
      if (browserElement == null) {
        setHTML("<iframe width=\"100%\" height=\"100%\" frameborder=\"0\" src=\"" + getSrc(uidl,client) + "\" name=\""+ uidl.getId()+ "\"></iframe>");
        browserElement=DOM.getFirstChild(getElement());
      }
 else {
        DOM.setElementAttribute(browserElement,"src",getSrc(uidl,client));
      }
      clearBrowserElement=false;
    }
 else {
      ApplicationConnection.getConsole().log("Unknown Embedded type '" + type + "'");
    }
  }
 else   if (uidl.hasAttribute("mimetype")) {
    final String mime=uidl.getStringAttribute("mimetype");
    if (mime.equals("application/x-shockwave-flash")) {
      setHTML("<object width=\"" + width + "\" height=\""+ height+ "\"><param name=\"movie\" value=\""+ getSrc(uidl,client)+ "\"><embed src=\""+ getSrc(uidl,client)+ "\" width=\""+ width+ "\" height=\""+ height+ "\"></embed></object>");
    }
 else     if (mime.equals("image/svg+xml")) {
      String data;
      if (getParameter("data",uidl) == null) {
        data=getSrc(uidl,client);
      }
 else {
        data="data:image/svg+xml," + getParameter("data",uidl);
      }
      setHTML("");
      ObjectElement obj=Document.get().createObjectElement();
      obj.setType(mime);
      obj.setData(data);
      if (width != null) {
        obj.getStyle().setProperty("width","100%");
      }
      if (height != null) {
        obj.getStyle().setProperty("height","100%");
      }
      getElement().appendChild(obj);
    }
 else {
      ApplicationConnection.getConsole().log("Unknown Embedded mimetype '" + mime + "'");
    }
  }
 else {
    ApplicationConnection.getConsole().log("Unknown Embedded; no type or mimetype attribute");
  }
  if (clearBrowserElement) {
    browserElement=null;
  }
}
