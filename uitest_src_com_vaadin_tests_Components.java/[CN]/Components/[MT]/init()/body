{
  mainWindow=new LegacyWindow();
  setTheme("tests-components");
  mainWindow.getContent().setSizeFull();
  setMainWindow(mainWindow);
  sp=new HorizontalSplitPanel();
  sp.setSizeFull();
  VerticalLayout naviLayout=new VerticalLayout();
  naviLayout.addComponent(new Label("Click to open a test case.<br/>Right click to open test in a new window<br/><br/>",ContentMode.XHTML));
  naviLayout.addComponent(createMenu());
  naviLayout.addComponent(createMissingTestsList());
  sp.setFirstComponent(naviLayout);
  sp.setSplitPosition(250,Sizeable.UNITS_PIXELS);
  VerticalLayout embeddingLayout=new VerticalLayout();
  embeddingLayout.setSizeFull();
  embeddingLayout.addComponent(new Label("<b>Do not use the embedded version for creating automated tests. Open the test in a new window before recording.</b><br/>",ContentMode.XHTML));
  applicationEmbedder.setSizeFull();
  embeddingLayout.addComponent(applicationEmbedder);
  embeddingLayout.setExpandRatio(applicationEmbedder,1);
  sp.setSecondComponent(embeddingLayout);
  mainWindow.addComponent(sp);
  applicationEmbedder.setType(Embedded.TYPE_BROWSER);
  baseUrl=getURL().toString().replace(getClass().getName(),"").replaceAll("//$","/");
}
