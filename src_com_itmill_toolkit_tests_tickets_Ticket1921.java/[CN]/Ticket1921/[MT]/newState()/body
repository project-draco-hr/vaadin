{
  if (state >= 8) {
    state=0;
    round++;
  }
 else {
    state++;
  }
  button.setCaption("state " + round + "."+ state);
switch (state) {
case 0:
    outer.setMargin(true);
  inner.setMargin(true);
inner.setSizeFull();
outer.setSizeFull();
button.setSizeFull();
break;
case 1:
button.setSizeUndefined();
break;
case 2:
inner.setMargin(false);
break;
case 3:
outer.setMargin(false);
break;
case 4:
inner.setMargin(true);
break;
case 5:
inner.addComponent(new Label("Added at " + button.getCaption()));
break;
case 6:
inner.setOrientation(inner.getOrientation() == OrderedLayout.ORIENTATION_HORIZONTAL ? OrderedLayout.ORIENTATION_VERTICAL : OrderedLayout.ORIENTATION_HORIZONTAL);
getMainWindow().showNotification("inner swithed to " + (inner.getOrientation() == OrderedLayout.ORIENTATION_HORIZONTAL ? "horizontal" : "vertical"));
break;
case 7:
outer.addComponent(new Label("Added at " + button.getCaption()));
break;
case 8:
outer.setOrientation(outer.getOrientation() == OrderedLayout.ORIENTATION_HORIZONTAL ? OrderedLayout.ORIENTATION_VERTICAL : OrderedLayout.ORIENTATION_HORIZONTAL);
getMainWindow().showNotification("outer swithed to " + (outer.getOrientation() == OrderedLayout.ORIENTATION_HORIZONTAL ? "horizontal" : "vertical"));
break;
}
}
