{
  Page page=EasyMock.createMock(Page.class);
  UriFragmentManager manager=new UriFragmentManager(page,null);
  EasyMock.expect(page.getFragment()).andReturn("");
  page.setFragment("test",false);
  EasyMock.expect(page.getFragment()).andReturn("test");
  EasyMock.replay(page);
  assertEquals("Incorrect fragment value","",manager.getState());
  manager.setState("test");
  assertEquals("Incorrect fragment value","test",manager.getState());
}
