{
  if (!isSelected(itemId) && this.items.containsId(itemId)) {
    if (isMultiSelect()) {
      Set s=new HashSet((Set)getValue());
      s.add(itemId);
      setValue(s);
    }
 else     if (itemId.equals(getNullSelectionItemId())) {
      setValue(null);
    }
 else {
      setValue(itemId);
    }
  }
}
