{
  try {
    Runnable runCompiler=new Runnable(){
      public void run(){
        try {
          String wsname=args[args.length - 1];
          WidgetSetBuilder.updateWidgetSet(wsname,"src");
          System.setProperty("gwt.nowarn.legacy.tools","true");
          Class<?> compilerClass=Class.forName("com.google.gwt.dev.GWTCompiler");
          Method method=compilerClass.getDeclaredMethod("main",String[].class);
          method.invoke(null,new Object[]{args});
        }
 catch (        Throwable thr) {
          thr.printStackTrace();
        }
      }
    }
;
    Thread runThread=new Thread(runCompiler);
    runThread.start();
    runThread.join();
    System.out.println("Widgetset compilation finished");
  }
 catch (  Throwable thr) {
    thr.printStackTrace();
  }
}
