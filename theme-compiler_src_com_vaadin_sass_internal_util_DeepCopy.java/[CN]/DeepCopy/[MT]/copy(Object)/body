{
  Object obj=null;
  if (!(orig instanceof Clonable)) {
    try {
      FastByteArrayOutputStream fbos=new FastByteArrayOutputStream();
      ObjectOutputStream out=new ObjectOutputStream(fbos);
      out.writeObject(orig);
      out.flush();
      out.close();
      ObjectInputStream in=new ObjectInputStream(fbos.getInputStream());
      obj=in.readObject();
      in.close();
    }
 catch (    IOException e) {
      log(e);
    }
catch (    ClassNotFoundException cnfe) {
      log(cnfe);
    }
    return obj;
  }
 else {
    try {
      obj=((Clonable)orig).clone();
    }
 catch (    ClassCastException e2) {
    }
catch (    CloneNotSupportedException e2) {
    }
    return obj;
  }
}
