{
  BeanItemContainer<ClassName> container=getContainer();
  ItemSetChangeCounter counter=new ItemSetChangeCounter();
  container.addListener(counter);
  ClassName cn1=new ClassName("com.example.Test",1111);
  ClassName cn2=new ClassName("com.example.Test2",2222);
  initializeContainer(container);
  counter.reset();
  container.addBean(cn1);
  counter.assertOnce();
  initializeContainer(container);
  counter.reset();
  container.addItem(cn1);
  counter.assertOnce();
  container.addItem(cn1);
  counter.assertNone();
  container.addItem(cn2);
  counter.assertOnce();
  initializeContainer(container);
  counter.reset();
  container.addItemAfter(null,cn1);
  counter.assertOnce();
  Assert.assertEquals("com.example.Test",container.getContainerProperty(container.firstItemId(),FULLY_QUALIFIED_NAME).getValue());
  initializeContainer(container);
  counter.reset();
  container.addItemAfter(container.firstItemId(),cn1);
  counter.assertOnce();
  Assert.assertEquals("com.example.Test",container.getContainerProperty(container.getIdByIndex(1),FULLY_QUALIFIED_NAME).getValue());
  initializeContainer(container);
  counter.reset();
  container.addItemAfter(container.lastItemId(),cn1);
  counter.assertOnce();
  Assert.assertEquals("com.example.Test",container.getContainerProperty(container.lastItemId(),FULLY_QUALIFIED_NAME).getValue());
  initializeContainer(container);
  counter.reset();
  container.addItemAt(0,cn1);
  counter.assertOnce();
  Assert.assertEquals("com.example.Test",container.getContainerProperty(container.firstItemId(),FULLY_QUALIFIED_NAME).getValue());
  initializeContainer(container);
  counter.reset();
  container.addItemAt(1,cn1);
  counter.assertOnce();
  Assert.assertEquals("com.example.Test",container.getContainerProperty(container.getIdByIndex(1),FULLY_QUALIFIED_NAME).getValue());
  initializeContainer(container);
  counter.reset();
  container.addItemAt(container.size(),cn1);
  counter.assertOnce();
  Assert.assertEquals("com.example.Test",container.getContainerProperty(container.lastItemId(),FULLY_QUALIFIED_NAME).getValue());
  initializeContainer(container);
  counter.reset();
  container.removeItem(nameToBean.get(sampleData[0]));
  counter.assertOnce();
  initializeContainer(container);
  counter.reset();
  container.removeItem(cn1);
  counter.assertNone();
  initializeContainer(container);
  counter.reset();
  container.removeAllItems();
  counter.assertOnce();
  container.removeAllItems();
  counter.assertNone();
}
