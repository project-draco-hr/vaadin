{
  VMeasuringOrderedLayout layout=getWidget();
  if (VCaption.isNeeded(component.getState())) {
    VLayoutSlot layoutSlot=layout.getSlotForChild(component.getWidget());
    VCaption caption=layoutSlot.getCaption();
    if (caption == null) {
      caption=new VCaption(component,getConnection());
      Widget widget=component.getWidget();
      layout.setCaption(widget,caption);
    }
    caption.updateCaption();
  }
 else {
    layout.setCaption(component.getWidget(),null);
    getLayoutManager().setNeedsLayout(this);
  }
}
