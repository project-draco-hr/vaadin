{
  if (newValue == null && !uiHasInvalidDateString) {
    setInternalValue(null);
    notifyFormOfValidityChange();
    requestRepaint();
    return;
  }
  if (newValue == null || newValue instanceof Date) {
    super.setValue(newValue,repaintIsNotNeeded);
  }
 else {
    try {
      final SimpleDateFormat parser=new SimpleDateFormat();
      final Date val=parser.parse(newValue.toString());
      super.setValue(val,repaintIsNotNeeded);
    }
 catch (    final ParseException e) {
      uiHasInvalidDateString=false;
      throw new Property.ConversionException(getParseErrorMessage());
    }
  }
}
