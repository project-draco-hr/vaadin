{
  Upload u=new Upload("Upload",new Upload.Receiver(){
    @Override public OutputStream receiveUpload(    String filename,    String mimeType){
      return baos;
    }
  }
);
  u.setDebugId("UPL");
  u.addListener(new Upload.FinishedListener(){
    @Override public void uploadFinished(    FinishedEvent event){
      String hash=DigestUtils.md5Hex(baos.toByteArray());
      log.log("Upload finished. Name: " + event.getFilename() + ", Size: "+ baos.size()+ ", md5: "+ hash);
      baos.reset();
    }
  }
);
  addComponent(log);
  addComponent(u);
}
