{
  if (client.updateComponent(this,uidl,true)) {
    return;
  }
  this.client=client;
  id=uidl.getId();
  disabled=uidl.hasAttribute("disabled");
  final UIDL tabs=uidl.getChildUIDL(0);
  if (keepCurrentTabs(uidl)) {
    int index=0;
    for (final Iterator it=tabs.getChildIterator(); it.hasNext(); ) {
      final UIDL tab=(UIDL)it.next();
      final boolean selected=tab.getBooleanAttribute("selected");
      if (selected) {
        selectTab(index,tab.getChildUIDL(0));
      }
 else       if (tab.getChildCount() > 0) {
        Paintable paintable=client.getPaintable(tab.getChildUIDL(0));
        paintable.updateFromUIDL(tab.getChildUIDL(0),client);
        ((Widget)paintable).setVisible(false);
      }
      index++;
    }
  }
 else {
    ArrayList oldPaintables=new ArrayList();
    for (Iterator iterator=getPaintableIterator(); iterator.hasNext(); ) {
      oldPaintables.add(iterator.next());
    }
    tabKeys.clear();
    captions.clear();
    disabledTabKeys.clear();
    clearPaintables();
    int index=0;
    for (final Iterator it=tabs.getChildIterator(); it.hasNext(); ) {
      final UIDL tab=(UIDL)it.next();
      final String key=tab.getStringAttribute("key");
      final boolean selected=tab.getBooleanAttribute("selected");
      String caption=tab.getStringAttribute("caption");
      if (caption == null) {
        caption=" ";
      }
      if (tab.getBooleanAttribute("disabled")) {
        disabledTabKeys.add(key);
      }
      captions.add(caption);
      tabKeys.add(key);
      if (selected) {
        activeTabIndex=index;
      }
      if (tab.getChildCount() > 0) {
        Paintable p=client.getPaintable(tab.getChildUIDL(0));
        oldPaintables.remove(p);
      }
      renderTab(tab,index,selected);
      index++;
    }
    for (Iterator iterator=oldPaintables.iterator(); iterator.hasNext(); ) {
      Object oldPaintable=iterator.next();
      if (oldPaintable instanceof Paintable) {
        client.unregisterPaintable((Paintable)oldPaintable);
      }
    }
  }
}
