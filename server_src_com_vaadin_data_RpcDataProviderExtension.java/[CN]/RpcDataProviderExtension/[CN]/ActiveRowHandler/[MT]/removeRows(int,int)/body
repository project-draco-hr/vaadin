{
  Range removed=Range.withLength(firstIndex,count);
  if (removed.intersects(activeRange)) {
    final Range deprecated=removed.restrictTo(activeRange);
    for (int i=deprecated.getStart(); i < deprecated.getEnd(); ++i) {
      Object itemId=keyMapper.itemIdAtIndex(i);
      valueChangeListeners.remove(itemId);
    }
    activeRange=Range.withLength(activeRange.getStart(),activeRange.length() - deprecated.length());
  }
 else {
    if (removed.getEnd() < activeRange.getStart()) {
      activeRange=activeRange.offsetBy(-count);
    }
  }
}
