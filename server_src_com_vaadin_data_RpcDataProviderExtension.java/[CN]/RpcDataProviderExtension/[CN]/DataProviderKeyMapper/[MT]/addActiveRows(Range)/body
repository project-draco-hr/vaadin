{
  if (added.isEmpty()) {
    return;
  }
  List<?> newItemIds=container.getItemIds(added.getStart(),added.length());
  for (int i=0; i < newItemIds.size(); i++) {
    final Integer index=Integer.valueOf(i + added.getStart());
    if (indexToItemId.containsKey(index)) {
      continue;
    }
    final Object itemId=newItemIds.get(i);
    if (!itemIdToKey.containsKey(itemId)) {
      itemIdToKey.put(itemId,nextKey());
    }
    indexToItemId.forcePut(index,itemId);
  }
}
