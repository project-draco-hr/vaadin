{
  Set<Object> itemSet=new HashSet<Object>(itemIds);
  Set<Object> itemsRemoved=new HashSet<Object>();
  for (  Object itemId : itemIdToKey.keySet()) {
    if (!itemSet.contains(itemId) && !isPinned(itemId)) {
      itemsRemoved.add(itemId);
    }
  }
  for (  Object itemId : itemsRemoved) {
    detailComponentManager.destroyDetails(itemId);
    itemIdToKey.remove(itemId);
  }
  for (  Object itemId : itemSet) {
    itemIdToKey.put(itemId,getKey(itemId));
    if (detailComponentManager.visibleDetails.contains(itemId)) {
      detailComponentManager.createDetails(itemId,indexOf(itemId));
    }
  }
}
