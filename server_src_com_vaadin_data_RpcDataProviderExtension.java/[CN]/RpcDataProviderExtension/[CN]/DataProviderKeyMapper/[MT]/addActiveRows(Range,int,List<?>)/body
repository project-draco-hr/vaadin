{
  for (int i=added.getStart(); i < added.getEnd(); i++) {
    final Integer ii=Integer.valueOf(i);
    if (indexToItemId.containsKey(ii)) {
      continue;
    }
    final Object itemId=newItemIds.get(i - firstNewIndex);
    if (!itemIdToKey.containsKey(itemId)) {
      itemIdToKey.put(itemId,nextKey());
    }
    indexToItemId.forcePut(ii,itemId);
  }
}
