{
  Range active=Range.withLength(firstRowToPush,numberOfRows);
  if (cacheSize != 0) {
    Range cached=Range.withLength(firstCachedRowIndex,cacheSize);
    active=active.combineWith(cached);
  }
  List<?> itemIds=RpcDataProviderExtension.this.container.getItemIds(firstRowToPush,numberOfRows);
  keyMapper.preActiveRowsChange(active,firstRowToPush,itemIds);
  JsonArray rows=Json.createArray();
  for (int i=0; i < itemIds.size(); ++i) {
    rows.set(i,getRowData(getGrid().getColumns(),itemIds.get(i)));
  }
  rpc.setRowData(firstRowToPush,rows.toJson());
  activeRowHandler.setActiveRows(active.getStart(),active.length());
}
