{
  final boolean modified;
  if (visible) {
    modified=detailComponentManager.visibleDetails.add(itemId);
  }
 else {
    modified=detailComponentManager.visibleDetails.remove(itemId);
    detailComponentManager.destroyDetails(itemId);
  }
  int rowIndex=indexOf(itemId);
  boolean modifiedRowIsActive=activeRowHandler.activeRange.contains(rowIndex);
  if (modified && modifiedRowIsActive) {
    updateRowData(itemId);
  }
}
