{
  Label l=new Label("Label");
  Button b=new Button("Enable/disable caption and watch button move",new ClickListener(){
    public void buttonClick(    ClickEvent event){
      System.out.println("Enable caption");
      AbstractComponent l=tf1;
      if (l.getCaption() == null) {
        l.setCaption("Expand layout caption");
      }
 else {
        l.setCaption(null);
      }
    }
  }
);
  b.setData(layout);
  Label l2=new Label("This should always be visible");
  layout.addComponent(l);
  layout.addComponent(b);
  layout.addComponent(l2);
  if (layout instanceof ExpandLayout) {
    ((ExpandLayout)layout).expand(l);
  }
}
