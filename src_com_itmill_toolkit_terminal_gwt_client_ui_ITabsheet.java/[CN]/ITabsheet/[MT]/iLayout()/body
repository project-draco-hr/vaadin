{
  if (height != null && height != "") {
    int scrollTop=DOM.getElementPropertyInt(contentNode,"scrollTop");
    int scrollLeft=DOM.getElementPropertyInt(contentNode,"scrollLeft");
    final String originalPositioning=DOM.getStyleAttribute(tp.getElement(),"position");
    DOM.setStyleAttribute(tp.getElement(),"position","absolute");
    DOM.setStyleAttribute(contentNode,"overflow","hidden");
    super.setHeight(height);
    final int targetHeight=getOffsetHeight();
    super.setHeight("");
    final int usedHeight=DOM.getElementPropertyInt(deco,"offsetTop") + DOM.getElementPropertyInt(deco,"offsetHeight") - DOM.getElementPropertyInt(getElement(),"offsetTop");
    int h=targetHeight - usedHeight;
    if (h < 0) {
      h=0;
    }
    tp.setHeight(h + "px");
    DOM.setStyleAttribute(tp.getElement(),"position",originalPositioning);
    DOM.setStyleAttribute(contentNode,"overflow","auto");
    DOM.setElementPropertyInt(contentNode,"scrollTop",scrollTop);
    DOM.setElementPropertyInt(contentNode,"scrollLeft",scrollLeft);
  }
 else {
    tp.setHeight("");
  }
  Util.runDescendentsLayout(this);
}
