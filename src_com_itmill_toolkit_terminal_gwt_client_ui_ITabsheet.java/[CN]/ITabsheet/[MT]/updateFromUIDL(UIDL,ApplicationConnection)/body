{
  this.client=client;
  id=uidl.getId();
  if (client.updateComponent(this,uidl,false))   return;
  String h=uidl.hasAttribute("height") ? uidl.getStringAttribute("height") : null;
  String w=uidl.hasAttribute("width") ? uidl.getStringAttribute("width") : null;
  setWidth(w != null ? w : "auto");
  if (h != null) {
    setHeight(h);
  }
 else {
    this.height=null;
    tp.setHeight("auto");
    DOM.setStyleAttribute(tp.getElement(),"overflow","hidden");
  }
  UIDL tabs=uidl.getChildUIDL(0);
  boolean keepCurrentTabs=tabKeys.size() == tabs.getNumberOfChildren();
  for (int i=0; keepCurrentTabs && i < tabKeys.size(); i++)   keepCurrentTabs=tabKeys.get(i).equals(tabs.getChildUIDL(i).getStringAttribute("key")) && captions.get(i).equals(tabs.getChildUIDL(i).getStringAttribute("caption"));
  if (keepCurrentTabs) {
    int index=0;
    for (Iterator it=tabs.getChildIterator(); it.hasNext(); ) {
      UIDL tab=(UIDL)it.next();
      if (tab.getBooleanAttribute("selected")) {
        activeTabIndex=index;
        UIDL contentUIDL=tab.getChildUIDL(0);
        Widget content=client.getWidget(contentUIDL);
        ((Paintable)content).updateFromUIDL(contentUIDL,client);
        tp.remove(index);
        tp.insert(content,index);
      }
      index++;
    }
  }
 else {
    tabKeys.clear();
    captions.clear();
    clearTabs();
    int index=0;
    for (Iterator it=tabs.getChildIterator(); it.hasNext(); ) {
      UIDL tab=(UIDL)it.next();
      String key=tab.getStringAttribute("key");
      String caption=tab.getStringAttribute("caption");
      captions.add(caption);
      tabKeys.add(key);
      tb.addTab(caption);
      if (tab.getBooleanAttribute("selected")) {
        Widget content=client.getWidget(tab.getChildUIDL(0));
        tp.add(content);
        activeTabIndex=index;
        ((Paintable)content).updateFromUIDL(tab.getChildUIDL(0),client);
      }
 else       tp.add(new ILabel(""));
      index++;
    }
  }
  tb.selectTab(activeTabIndex);
  tp.showWidget(activeTabIndex);
}
