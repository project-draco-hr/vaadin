{
  boolean first=true;
  for (Iterator<Button> it=layout.getComponentIterator(); it.hasNext(); ) {
    Button b=it.next();
    String isOn=(b.getData() == mode ? "-on" : "");
    if (first) {
      first=false;
      b.setStyleName("first" + isOn);
    }
 else     if (!it.hasNext()) {
      b.setStyleName("last" + isOn);
    }
 else {
      b.setStyleName("mid" + isOn);
    }
  }
}
