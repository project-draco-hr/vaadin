{
  Profiler.enter("updateVaadin6StyleConnectors");
  JsArray<ValueMap> changes=json.getJSValueMapArray("changes");
  int length=changes.length();
  if (length != 0) {
    onlyNoLayoutUpdates=false;
  }
  getLogger().info(" * Passing UIDL to Vaadin 6 style connectors");
  for (int i=0; i < length; i++) {
    try {
      final UIDL change=changes.get(i).cast();
      final UIDL uidl=change.getChildUIDL(0);
      String connectorId=uidl.getId();
      final ComponentConnector legacyConnector=(ComponentConnector)connectorMap.getConnector(connectorId);
      if (legacyConnector instanceof Paintable) {
        String key=null;
        if (Profiler.isEnabled()) {
          key="updateFromUIDL for " + legacyConnector.getClass().getSimpleName();
          Profiler.enter(key);
        }
        ((Paintable)legacyConnector).updateFromUIDL(uidl,ApplicationConnection.this);
        if (Profiler.isEnabled()) {
          Profiler.leave(key);
        }
      }
 else       if (legacyConnector == null) {
        getLogger().severe("Received update for " + uidl.getTag() + ", but there is no such paintable ("+ connectorId+ ") rendered.");
      }
 else {
        getLogger().severe("Server sent Vaadin 6 style updates for " + Util.getConnectorString(legacyConnector) + " but this is not a Vaadin 6 Paintable");
      }
    }
 catch (    final Throwable e) {
      getLogger().log(Level.SEVERE,"Error handling UIDL",e);
    }
  }
  Profiler.leave("updateVaadin6StyleConnectors");
}
