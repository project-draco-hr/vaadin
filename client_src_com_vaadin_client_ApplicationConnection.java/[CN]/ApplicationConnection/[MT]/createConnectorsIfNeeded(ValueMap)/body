{
  getLogger().info(" * Creating connectors (if needed)");
  JsArrayString createdConnectors=JavaScriptObject.createArray().cast();
  if (!json.containsKey("types")) {
    return createdConnectors;
  }
  Profiler.enter("Creating connectors");
  ValueMap types=json.getValueMap("types");
  JsArrayString keyArray=types.getKeyArray();
  for (int i=0; i < keyArray.length(); i++) {
    try {
      String connectorId=keyArray.get(i);
      ServerConnector connector=connectorMap.getConnector(connectorId);
      if (connector != null) {
        continue;
      }
      onlyNoLayoutUpdates=false;
      int connectorType=Integer.parseInt(types.getString(connectorId));
      Class<? extends ServerConnector> connectorClass=configuration.getConnectorClassByEncodedTag(connectorType);
      if (connectorClass != uIConnector.getClass()) {
        Profiler.enter("ApplicationConnection.getConnector");
        connector=getConnector(connectorId,connectorType);
        Profiler.leave("ApplicationConnection.getConnector");
        createdConnectors.push(connectorId);
      }
 else {
        connectorMap.registerConnector(connectorId,uIConnector);
        uIConnector.doInit(connectorId,ApplicationConnection.this);
        createdConnectors.push(connectorId);
      }
    }
 catch (    final Throwable e) {
      getLogger().log(Level.SEVERE,"Error handling type data",e);
    }
  }
  Profiler.leave("Creating connectors");
  return createdConnectors;
}
