{
  if (opening) {
    showTimer.cancel();
    opening=false;
  }
  if (!isAttached()) {
    return;
  }
  if (closing) {
    return;
  }
  closeTimer.schedule(getCloseTimeout());
  closing=true;
  justClosed=true;
  justClosedTimer.schedule(getQuickOpenTimeout());
}
