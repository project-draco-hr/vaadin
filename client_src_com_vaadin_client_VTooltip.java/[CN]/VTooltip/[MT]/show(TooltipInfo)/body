{
  boolean hasContent=false;
  if (info.getErrorMessage() != null) {
    em.setVisible(true);
    em.updateMessage(info.getErrorMessage());
    hasContent=true;
  }
 else {
    em.setVisible(false);
  }
  if (info.getTitle() != null && !"".equals(info.getTitle())) {
    DOM.setInnerHTML(description,info.getTitle());
    description.getStyle().clearDisplay();
    hasContent=true;
  }
 else {
    DOM.setInnerHTML(description,"");
    description.getStyle().setDisplay(Display.NONE);
  }
  if (hasContent) {
    setPopupPosition(0,0);
    setPopupPositionAndShow(new PositionCallback(){
      @Override public void setPosition(      int offsetWidth,      int offsetHeight){
        if (offsetWidth > getMaxWidth()) {
          setWidth(getMaxWidth() + "px");
          offsetWidth=getOffsetWidth();
          offsetHeight=getOffsetHeight();
        }
        int x=tooltipEventMouseX + 10 + Window.getScrollLeft();
        int y=tooltipEventMouseY + 10 + Window.getScrollTop();
        if (x + offsetWidth + MARGIN - Window.getScrollLeft() > Window.getClientWidth()) {
          x=Window.getClientWidth() - offsetWidth - MARGIN + Window.getScrollLeft();
        }
        if (y + offsetHeight + MARGIN - Window.getScrollTop() > Window.getClientHeight()) {
          y=tooltipEventMouseY - 5 - offsetHeight + Window.getScrollTop();
          if (y - Window.getScrollTop() < 0) {
            y=Window.getScrollTop();
          }
        }
        setPopupPosition(x,y);
        sinkEvents(Event.ONMOUSEOVER | Event.ONMOUSEOUT);
      }
    }
);
  }
 else {
    hide();
  }
}
