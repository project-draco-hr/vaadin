{
  ErrorMessage validationError=null;
  if (isValidationVisible()) {
    for (final Iterator i=propertyIds.iterator(); i.hasNext(); ) {
      Object f=fields.get(i.next());
      if (f instanceof AbstractComponent) {
        AbstractComponent field=(AbstractComponent)f;
        validationError=field.getErrorMessage();
        if (validationError != null) {
          if ("".equals(validationError.toString())) {
            continue;
          }
          break;
        }
      }
    }
  }
  if (getComponentError() == null && validationError == null && currentBufferedSourceException == null) {
    return null;
  }
  return new CompositeErrorMessage(new ErrorMessage[]{getComponentError(),validationError,currentBufferedSourceException});
}
