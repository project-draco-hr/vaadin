{
  VerticalLayout ol=new VerticalLayout();
  Panel p=new Panel(ol);
  p.setWidth("300px");
  p.setHeight("300px");
  ol.setSizeFull();
  LegacyTextField tf=new LegacyTextField("Long caption, longer than 100 pixels");
  tf.setWidth("100px");
  ol.addComponent(tf);
  ol.setComponentAlignment(tf,Alignment.TOP_RIGHT);
  tf=new LegacyTextField("Short caption");
  tf.setWidth("100px");
  tf.setComponentError(new UserError("error message"));
  ol.addComponent(tf);
  ol.setComponentAlignment(tf,Alignment.TOP_RIGHT);
  tf=new LegacyTextField("Short caption");
  tf.setComponentError(new UserError("error message"));
  tf.setIcon(new ThemeResource("icons/16/calendar.png"));
  tf.setWidth("100px");
  tf.setComponentError(new UserError("error message"));
  ol.addComponent(tf);
  ol.setComponentAlignment(tf,Alignment.TOP_RIGHT);
  tf=new LegacyTextField();
  tf.setValue("No caption");
  tf.setWidth("100px");
  ol.addComponent(tf);
  ol.setComponentAlignment(tf,Alignment.TOP_RIGHT);
  layout.addComponent(p);
}
