{
  final OptionGroup optionGroup=new OptionGroup("test field",Collections.singletonList("Option"));
  optionGroup.setNewItemsAllowed(true);
  final CheckBox readOnlyCheckbox=new CheckBox("read-only");
  readOnlyCheckbox.setImmediate(true);
  readOnlyCheckbox.addValueChangeListener(new Property.ValueChangeListener(){
    @Override public void valueChange(    Property.ValueChangeEvent event){
      optionGroup.setReadOnly(readOnlyCheckbox.getValue());
    }
  }
);
  readOnlyCheckbox.setValue(Boolean.TRUE);
  addComponent(optionGroup);
  addComponent(readOnlyCheckbox);
}
