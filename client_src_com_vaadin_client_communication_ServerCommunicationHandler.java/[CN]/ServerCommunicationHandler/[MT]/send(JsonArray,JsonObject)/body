{
  startRequest();
  JsonObject payload=Json.createObject();
  String csrfToken=getServerMessageHandler().getCsrfToken();
  if (!csrfToken.equals(ApplicationConstants.CSRF_TOKEN_DEFAULT_VALUE)) {
    payload.put(ApplicationConstants.CSRF_TOKEN,csrfToken);
  }
  payload.put(ApplicationConstants.RPC_INVOCATIONS,reqInvocations);
  payload.put(ApplicationConstants.SERVER_SYNC_ID,getServerMessageHandler().getLastSeenServerSyncId());
  payload.put(ApplicationConstants.CLIENT_TO_SERVER_ID,clientToServerMessageId++);
  getLogger().info("Making UIDL Request with params: " + payload.toJson());
  if (extraJson != null) {
    for (    String key : extraJson.keys()) {
      payload.put(key,extraJson.get(key));
    }
  }
  send(payload);
}
