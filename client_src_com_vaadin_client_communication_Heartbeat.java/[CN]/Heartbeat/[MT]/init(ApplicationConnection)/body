{
  this.connection=connection;
  interval=connection.getConfiguration().getHeartbeatInterval();
  setInterval(interval);
  schedule();
  connection.addHandler(ApplicationConnection.ApplicationStoppedEvent.TYPE,new ApplicationConnection.ApplicationStoppedHandler(){
    @Override public void onApplicationStopped(    ApplicationStoppedEvent event){
      setInterval(-1);
      schedule();
    }
  }
);
}
