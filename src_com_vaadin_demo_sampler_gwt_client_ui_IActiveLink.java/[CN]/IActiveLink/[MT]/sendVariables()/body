{
  Event e=DOM.eventGetCurrentEvent();
  boolean opened=(e.getCtrlKey() || e.getAltKey() || e.getShiftKey()|| e.getMetaKey()|| e.getButton() == Event.BUTTON_MIDDLE);
  if (listening) {
    if (opened) {
      client.updateVariable(id,"opened",true,false);
    }
 else {
      e.preventDefault();
    }
    client.updateVariable(id,"activated",true,true);
  }
  return !listening || opened;
}
