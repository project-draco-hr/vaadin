{
  Window sub=new Window("Login");
  sub.setModal(true);
  main.addWindow(sub);
  final CustomLayout custom=new CustomLayout("layoutname");
  sub.setLayout(custom);
  TextField username=new TextField();
  custom.addComponent(username,"username");
  TextField password=new TextField();
  custom.addComponent(password,"password");
  final Button ok=new Button("Login");
  custom.addComponent(ok,"okbutton");
  final Button deny=new Button("No can do!");
  Button.ClickListener listener=new Button.ClickListener(){
    public void buttonClick(    ClickEvent event){
      if (custom.getComponent("okbutton") == ok) {
        System.out.println("Changing to deny button.");
        custom.addComponent(deny,"okbutton");
      }
 else {
        System.out.println("Changing to ok button.");
        custom.addComponent(ok,"okbutton");
      }
    }
  }
;
  ok.addListener(listener);
  deny.addListener(listener);
}
