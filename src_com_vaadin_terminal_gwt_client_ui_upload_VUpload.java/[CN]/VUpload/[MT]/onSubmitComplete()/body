{
  Scheduler.get().scheduleDeferred(new Command(){
    @Override public void execute(){
      if (submitted) {
        if (client != null) {
          if (t != null) {
            t.cancel();
          }
          VConsole.log("VUpload:Submit complete");
          client.sendPendingVariableChanges();
        }
        rebuildPanel();
        submitted=false;
        enableUpload();
        if (!isAttached()) {
          cleanTargetFrame();
        }
      }
    }
  }
);
}
