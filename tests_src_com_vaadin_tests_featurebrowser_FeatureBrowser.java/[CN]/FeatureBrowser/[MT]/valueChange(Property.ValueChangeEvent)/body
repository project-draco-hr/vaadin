{
  try {
    if ((event.getProperty().toString() == null) && (event.getProperty() instanceof Tree)) {
    }
 else {
      FeatureUtil.debug(getApplication().getUser().toString(),"valueChange " + event.getProperty().getClass().getSimpleName() + ", "+ event.getProperty());
    }
  }
 catch (  final Exception e) {
  }
  if (event.getProperty() == features) {
    final Object id=features.getValue();
    if (id != null) {
      if (features.areChildrenAllowed(id)) {
        features.expandItem(id);
      }
      final Property p=features.getContainerProperty(id,"feature");
      final Feature feature=p != null ? ((Feature)p.getValue()) : null;
      if (feature != null) {
        mainlayout.removeComponent(currentFeature);
        mainlayout.removeComponent(currentFeature.getTabSheet());
        mainlayout.addComponent(feature,"demo");
        mainlayout.addComponent(feature.getTabSheet(),"tabsheet");
        currentFeature=feature;
        properties=feature.getPropertyPanel();
        if (properties != null) {
          mainlayout.addComponent(properties,"properties");
        }
        getWindow().setCaption("Vaadin Features / " + features.getContainerProperty(id,"name"));
      }
    }
  }
 else   if (event.getProperty() == themeSelector) {
    getApplication().setTheme(themeSelector.toString());
  }
}
