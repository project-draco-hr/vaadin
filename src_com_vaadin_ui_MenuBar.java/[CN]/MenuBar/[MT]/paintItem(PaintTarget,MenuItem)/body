{
  if (!item.isVisible()) {
    return;
  }
  target.startTag("item");
  target.addAttribute("id",item.getId());
  if (item.getStyleName() != null) {
    target.addAttribute("style",item.getStyleName());
  }
  if (item.isSeparator()) {
    target.addAttribute("separator",true);
  }
 else {
    target.addAttribute("text",item.getText());
    Command command=item.getCommand();
    if (command != null) {
      target.addAttribute("command",true);
    }
    Resource icon=item.getIcon();
    if (icon != null) {
      target.addAttribute("icon",icon);
    }
    if (!item.isEnabled()) {
      target.addAttribute("disabled",true);
    }
    String description=item.getDescription();
    if (description != null && description.length() > 0) {
      target.addAttribute("description",description);
    }
    if (item.isSelectable()) {
      target.addAttribute(VMenuBar.ATTRIBUTE_CHECKED,item.isSelected());
    }
    if (item.hasChildren()) {
      for (      MenuItem child : item.getChildren()) {
        paintItem(target,child);
      }
    }
  }
  target.endTag("item");
}
