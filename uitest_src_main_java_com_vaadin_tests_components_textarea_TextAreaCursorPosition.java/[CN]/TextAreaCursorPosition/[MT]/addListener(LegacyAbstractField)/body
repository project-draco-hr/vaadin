{
  LegacyAbstractTextField newTextField=(LegacyAbstractTextField)newField;
  newTextField.setTextChangeEventMode(TextChangeEventMode.EAGER);
  newTextField.addTextChangeListener(new TextChangeListener(){
    @Override public void textChange(    TextChangeEvent event){
      LegacyAbstractTextField component=(LegacyAbstractTextField)event.getComponent();
      cursorPosition.setValue(String.valueOf(component.getCursorPosition()));
    }
  }
);
}
