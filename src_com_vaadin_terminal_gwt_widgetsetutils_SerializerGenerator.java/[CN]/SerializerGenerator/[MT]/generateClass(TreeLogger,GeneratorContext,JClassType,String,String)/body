{
  PrintWriter printWriter=null;
  printWriter=context.tryCreate(logger,serializerPackageName,serializerClassName);
  if (printWriter == null) {
    return;
  }
  boolean isEnum=(beanType.isEnum() != null);
  Date date=new Date();
  TypeOracle typeOracle=context.getTypeOracle();
  String beanQualifiedSourceName=beanType.getQualifiedSourceName();
  logger.log(Type.DEBUG,"Processing serializable type " + beanQualifiedSourceName + "...");
  ClassSourceFileComposerFactory composer=null;
  composer=new ClassSourceFileComposerFactory(serializerPackageName,serializerClassName);
  composer.addImport(GWT.class.getName());
  composer.addImport(JSONValue.class.getName());
  composer.addImport(com.vaadin.terminal.gwt.client.communication.Type.class.getName());
  composer.addImport(JsonDecoder.class.getName());
  if (isEnum) {
    composer.addImplementedInterface(JSONSerializer.class.getName() + "<" + beanQualifiedSourceName+ ">");
  }
 else {
    composer.addImplementedInterface(DiffJSONSerializer.class.getName() + "<" + beanQualifiedSourceName+ ">");
  }
  SourceWriter sourceWriter=composer.createSourceWriter(context,printWriter);
  sourceWriter.indent();
  sourceWriter.println("public " + JSONValue.class.getName() + " serialize("+ beanQualifiedSourceName+ " value, "+ ApplicationConnection.class.getName()+ " connection) {");
  sourceWriter.indent();
  sourceWriter.println(beanQualifiedSourceName + " castedValue = (" + beanQualifiedSourceName+ ") value;");
  if (isEnum) {
    writeEnumSerializer(logger,sourceWriter,beanType);
  }
 else {
    writeBeanSerializer(logger,sourceWriter,beanType);
  }
  sourceWriter.outdent();
  sourceWriter.println("}");
  sourceWriter.println();
  if (!isEnum) {
    sourceWriter.println("public void update(" + beanQualifiedSourceName + " target, Type type, "+ JSONValue.class.getName()+ " jsonValue, "+ ApplicationConnection.class.getName()+ " connection) {");
    sourceWriter.indent();
    writeBeanDeserializer(logger,sourceWriter,beanType,true);
    sourceWriter.outdent();
    sourceWriter.println("}");
  }
  sourceWriter.println("public " + beanQualifiedSourceName + " deserialize(Type type, "+ JSONValue.class.getName()+ " jsonValue, "+ ApplicationConnection.class.getName()+ " connection) {");
  sourceWriter.indent();
  if (isEnum) {
    writeEnumDeserializer(logger,sourceWriter,beanType.isEnum());
  }
 else {
    writeBeanDeserializer(logger,sourceWriter,beanType,false);
  }
  sourceWriter.println("}");
  sourceWriter.outdent();
  sourceWriter.println("}");
  sourceWriter.outdent();
  context.commit(logger,printWriter);
  logger.log(TreeLogger.INFO,"Generated Serializer class " + getFullyQualifiedSerializerClassName(beanType));
}
