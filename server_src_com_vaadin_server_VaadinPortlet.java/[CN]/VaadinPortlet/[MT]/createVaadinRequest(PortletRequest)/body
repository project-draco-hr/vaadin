{
  if (isLiferay(request)) {
    return new VaadinLiferayRequest(request,getService());
  }
 else   if (isGateIn(request)) {
    return new VaadinGateinRequest(request,getService());
  }
 else   if (isWebSphere(request)) {
    return new WebSpherePortalRequest(request,getService());
  }
 else {
    return new VaadinPortletRequest(request,getService());
  }
}
