{
  PortletRequest request=vaadinRequest.getPortletRequest();
  if (request instanceof RenderRequest) {
    return RequestType.RENDER;
  }
 else   if (request instanceof ResourceRequest) {
    ResourceRequest resourceRequest=(ResourceRequest)request;
    if (ServletPortletHelper.isUIDLRequest(vaadinRequest)) {
      return RequestType.UIDL;
    }
 else     if (isBrowserDetailsRequest(resourceRequest)) {
      return RequestType.BROWSER_DETAILS;
    }
 else     if (ServletPortletHelper.isFileUploadRequest(vaadinRequest)) {
      return RequestType.FILE_UPLOAD;
    }
 else     if (ServletPortletHelper.isDependencyResourceRequest(vaadinRequest)) {
      return RequestType.DEPENDENCY_RESOURCE;
    }
 else     if (ServletPortletHelper.isAppRequest(vaadinRequest)) {
      return RequestType.APP;
    }
 else     if (ServletPortletHelper.isHeartbeatRequest(vaadinRequest)) {
      return RequestType.HEARTBEAT;
    }
 else     if (isDummyRequest(resourceRequest)) {
      return RequestType.DUMMY;
    }
 else {
      return RequestType.STATIC_FILE;
    }
  }
 else   if (request instanceof ActionRequest) {
    return RequestType.ACTION;
  }
 else   if (request instanceof EventRequest) {
    return RequestType.EVENT;
  }
  return RequestType.UNKNOWN;
}
