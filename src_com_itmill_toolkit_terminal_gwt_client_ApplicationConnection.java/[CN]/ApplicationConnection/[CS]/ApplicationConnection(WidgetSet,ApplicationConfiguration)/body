{
  this.widgetSet=widgetSet;
  configuration=cnf;
  windowName=configuration.getInitialWindowName();
  if (isDebugMode()) {
    console=new IDebugConsole(this,cnf,!isQuietDebugMode());
  }
 else {
    console=new NullConsole();
  }
  if (checkTestingMode()) {
    usePaintableIdsInDOM=true;
    initializeTestingTools();
    Window.addWindowCloseListener(new WindowCloseListener(){
      public void onWindowClosed(){
        uninitializeTestingTools();
      }
      public String onWindowClosing(){
        return null;
      }
    }
);
  }
  initializeClientHooks();
  view=new IView(cnf.getRootPanelId());
  showLoadingIndicator();
}
