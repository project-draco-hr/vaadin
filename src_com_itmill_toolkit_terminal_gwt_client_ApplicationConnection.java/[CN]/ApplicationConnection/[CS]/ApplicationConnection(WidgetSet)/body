{
  this.widgetSet=widgetSet;
  String tmp=getAppUri();
  if (!tmp.endsWith("/")) {
    appUri=tmp + "/";
  }
 else {
    appUri=tmp;
  }
  if (isDebugMode()) {
    console=new DebugConsole(this);
  }
 else {
    console=new NullConsole();
  }
  if (checkTestingMode()) {
    usePaintableIdsInDOM=true;
    initializeTestingTools();
    Window.addWindowCloseListener(new WindowCloseListener(){
      public void onWindowClosed(){
        uninitializeTestingTools();
      }
      public String onWindowClosing(){
        return null;
      }
    }
);
  }
  initializeClientHooks();
  view=new IView("itmill-ajax-window");
  makeUidlRequest("repaintAll=1");
  applicationRunning=true;
}
