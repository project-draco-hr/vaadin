{
  Widget widget=child;
  FloatSize relativeSize=componentRelativeSizes.get(widget);
  if (relativeSize == null) {
    return;
  }
  boolean horizontalScrollBar=false;
  boolean verticalScrollBar=false;
  RenderSpace renderSpace=Util.getLayout(widget).getAllocatedSpace(widget);
  if (relativeSize.getHeight() >= 0) {
    if (renderSpace != null) {
      if (renderSpace.getScrollbarSize() > 0) {
        if (relativeSize.getWidth() > 100) {
          horizontalScrollBar=true;
        }
 else         if (relativeSize.getWidth() < 0 && renderSpace.getWidth() > 0) {
          int offsetWidth=widget.getOffsetWidth();
          int width=renderSpace.getWidth();
          if (offsetWidth > width) {
            horizontalScrollBar=true;
          }
        }
      }
      int height=renderSpace.getHeight();
      if (horizontalScrollBar) {
        height-=renderSpace.getScrollbarSize();
      }
      height=(int)(height * relativeSize.getHeight() / 100.0);
      if (height < 0) {
        height=0;
      }
      widget.setHeight(height + "px");
    }
 else {
      widget.setHeight(relativeSize.getHeight() + "%");
      ApplicationConnection.getConsole().error(Util.getLayout(widget).getClass().getName() + " did not produce allocatedSpace for " + widget.getClass().getName());
    }
  }
  if (relativeSize.getWidth() >= 0) {
    if (renderSpace != null) {
      int width=renderSpace.getWidth();
      if (renderSpace.getScrollbarSize() > 0) {
        if (relativeSize.getHeight() > 100) {
          verticalScrollBar=true;
        }
 else         if (relativeSize.getHeight() < 0 && renderSpace.getHeight() > 0 && widget.getOffsetHeight() > renderSpace.getHeight()) {
          verticalScrollBar=true;
        }
      }
      if (verticalScrollBar) {
        width-=renderSpace.getScrollbarSize();
      }
      width=(int)(width * relativeSize.getWidth() / 100.0);
      if (width < 0) {
        width=0;
      }
      widget.setWidth(width + "px");
    }
 else {
      widget.setWidth(relativeSize.getWidth() + "%");
      ApplicationConnection.getConsole().error(Util.getLayout(widget).getClass().getName() + " did not produce allocatedSpace for " + widget.getClass().getName());
    }
  }
}
