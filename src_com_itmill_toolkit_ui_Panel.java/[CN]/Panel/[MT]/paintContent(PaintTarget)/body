{
  layout.paint(target);
  if (height > -1)   target.addVariable(this,"height",getHeight() + UNIT_SYMBOLS[getHeightUnits()]);
  if (width > -1)   target.addVariable(this,"width",getWidth() + UNIT_SYMBOLS[getWidthUnits()]);
  if (isScrollable()) {
    target.addVariable(this,"scrollleft",getScrollOffsetX());
    target.addVariable(this,"scrolldown",getScrollOffsetY());
  }
  if (actionHandlers != null && !actionHandlers.isEmpty()) {
    target.addVariable(this,"action","");
    target.startTag("actions");
    for (Iterator ahi=actionHandlers.iterator(); ahi.hasNext(); ) {
      Action[] aa=((Action.Handler)ahi.next()).getActions(null,this);
      if (aa != null) {
        for (int ai=0; ai < aa.length; ai++) {
          Action a=aa[ai];
          target.startTag("action");
          String akey=actionMapper.key(aa[ai]);
          target.addAttribute("key",akey);
          if (a.getCaption() != null)           target.addAttribute("caption",a.getCaption());
          if (a.getIcon() != null)           target.addAttribute("icon",a.getIcon());
          if (a instanceof ShortcutAction) {
            ShortcutAction sa=(ShortcutAction)a;
            target.addAttribute("kc",sa.getKeyCode());
            int[] modifiers=sa.getModifiers();
            if (modifiers != null) {
              String[] smodifiers=new String[modifiers.length];
              for (int i=0; i < modifiers.length; i++)               smodifiers[i]=String.valueOf(modifiers[i]);
              target.addAttribute("mk",smodifiers);
            }
          }
          target.endTag("action");
        }
      }
    }
    target.endTag("actions");
  }
}
