{
  Integer rootId=null;
  try {
    UI uI=application.getRootForRequest(request);
    if (uI == null) {
      writeError(response,new Throwable("No UI found"));
      return true;
    }
    rootId=Integer.valueOf(uI.getRootId());
  }
 catch (  UIRequiresMoreInformationException e) {
  }
  try {
    BootstrapContext context=createContext(request,response,application,rootId);
    setupMainDiv(context);
    BootstrapFragmentResponse fragmentResponse=context.getBootstrapResponse();
    application.modifyBootstrapResponse(fragmentResponse);
    String html=getBootstrapHtml(context);
    writeBootstrapPage(response,html);
  }
 catch (  JSONException e) {
    writeError(response,e);
  }
  return true;
}
