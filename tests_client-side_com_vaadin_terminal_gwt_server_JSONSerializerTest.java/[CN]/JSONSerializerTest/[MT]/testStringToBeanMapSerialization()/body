{
  Type mapType=getClass().getDeclaredField("stringToStateMap").getGenericType();
  stringToStateMap=new HashMap<String,AbstractSplitPanelState>();
  AbstractSplitPanelState s=new AbstractSplitPanelState();
  AbstractSplitPanelState s2=new AbstractSplitPanelState();
  s.setCaption("State 1");
  s.setDebugId("foo");
  s2.setCaption("State 2");
  s2.setDebugId("bar");
  stringToStateMap.put("string - state 1",s);
  stringToStateMap.put("String - state 2",s2);
  JSONArray encodedMap=JsonCodec.encode(stringToStateMap,null,mapType,null);
  ensureDecodedCorrectly(stringToStateMap,encodedMap,mapType);
}
