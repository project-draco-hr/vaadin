{
  Type mapType=getClass().getDeclaredField("stateToStringMap").getGenericType();
  stateToStringMap=new HashMap<AbstractSplitPanelState,String>();
  AbstractSplitPanelState s=new AbstractSplitPanelState();
  AbstractSplitPanelState s2=new AbstractSplitPanelState();
  s.setCaption("State 1");
  s2.setCaption("State 2");
  stateToStringMap.put(s,"string - state 1");
  stateToStringMap.put(s2,"String - state 2");
  Object encodedMap=JsonCodec.encode(stateToStringMap,null,mapType,null);
  ensureDecodedCorrectly(stateToStringMap,encodedMap,mapType);
}
