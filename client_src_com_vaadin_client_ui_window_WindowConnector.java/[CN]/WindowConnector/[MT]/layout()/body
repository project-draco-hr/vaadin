{
  LayoutManager lm=getLayoutManager();
  VWindow window=getWidget();
  ComponentConnector content=getContent();
  boolean hasContent=(content != null);
  Element contentElement=window.contentPanel.getElement();
  if (!minWidthChecked) {
    boolean needsMinWidth=!isUndefinedWidth() || !hasContent || content.isRelativeWidth();
    int minWidth=window.getMinWidth();
    if (needsMinWidth && lm.getInnerWidth(contentElement) < minWidth) {
      minWidthChecked=true;
      window.setWidth(minWidth + "px");
    }
    minWidthChecked=true;
  }
  boolean needsMinHeight=!isUndefinedHeight() || !hasContent || content.isRelativeHeight();
  int minHeight=window.getMinHeight();
  if (needsMinHeight && lm.getInnerHeight(contentElement) < minHeight) {
    window.setHeight(minHeight + "px");
  }
  Style contentStyle=window.contents.getStyle();
  int headerHeight=lm.getOuterHeight(window.header);
  contentStyle.setPaddingTop(headerHeight,Unit.PX);
  contentStyle.setMarginTop(-headerHeight,Unit.PX);
  int footerHeight=lm.getOuterHeight(window.footer);
  contentStyle.setPaddingBottom(footerHeight,Unit.PX);
  contentStyle.setMarginBottom(-footerHeight,Unit.PX);
  if (hasContent) {
    Element layoutElement=content.getWidget().getElement();
    Style childStyle=layoutElement.getStyle();
    Util.forceIE8Redraw((com.google.gwt.user.client.Element)layoutElement);
    if (content.isRelativeHeight() && !BrowserInfo.get().isIE9()) {
      childStyle.setPosition(Position.ABSOLUTE);
      Style wrapperStyle=contentElement.getStyle();
      if (window.getElement().getStyle().getWidth().length() == 0 && !content.isRelativeWidth()) {
        int contentWidth=lm.getOuterWidth(layoutElement);
        wrapperStyle.setWidth(contentWidth,Unit.PX);
      }
 else {
        wrapperStyle.clearWidth();
      }
    }
 else {
      childStyle.clearPosition();
    }
  }
}
