{
  if (event.getSource() == popup) {
    buildDate();
    if (!BrowserInfo.get().isTouchDevice() && textFieldEnabled) {
      focus();
    }
    open=false;
    if (cursorOverCalendarToggleButton) {
      preventOpenPopupCalendar=true;
      Timer unPreventClickTimer=new Timer(){
        @Override public void run(){
          preventOpenPopupCalendar=false;
        }
      }
;
      unPreventClickTimer.schedule(300);
    }
  }
}
