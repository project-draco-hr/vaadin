{
  final OrderedLayout main=new OrderedLayout();
  main.setMargin(true);
  setCompositionRoot(main);
  final Label l=new Label(txt);
  l.setContentMode(Label.CONTENT_XHTML);
  main.addComponent(l);
  Button b=new Button("Create a new subwindow",new Button.ClickListener(){
    public void buttonClick(    ClickEvent event){
      final Window w=new Window("Subwindow");
      final Label l=new Label(txt);
      l.setContentMode(Label.CONTENT_XHTML);
      w.addComponent(l);
      getApplication().getMainWindow().addWindow(w);
    }
  }
);
  b.setStyleName(Button.STYLE_LINK);
  main.addComponent(b);
  b=new Button("Create a new modal window",new Button.ClickListener(){
    public void buttonClick(    ClickEvent event){
      final Window w=new Window("Modal window");
      w.setModal(true);
      final Label l=new Label(txt);
      l.setContentMode(Label.CONTENT_XHTML);
      w.addComponent(l);
      getApplication().getMainWindow().addWindow(w);
    }
  }
);
  b.setStyleName(Button.STYLE_LINK);
  main.addComponent(b);
  b=new Button("Open a application-level window, with shared state",new Button.ClickListener(){
    public void buttonClick(    ClickEvent event){
      if (windowUrl == null) {
        final Window w=new Window("Subwindow");
        final Label l=new Label(txt);
        l.setContentMode(Label.CONTENT_XHTML);
        w.addComponent(l);
        getApplication().addWindow(w);
        windowUrl=w.getURL();
      }
      getApplication().getMainWindow().open(new ExternalResource(windowUrl),"_new");
    }
  }
);
  b.setStyleName(Button.STYLE_LINK);
  main.addComponent(b);
  b=new Button("Create a new application-level window, with it's own state",new Button.ClickListener(){
    public void buttonClick(    ClickEvent event){
      final Window w=new Window("Subwindow");
      getApplication().addWindow(w);
      final Label l=new Label("Each opened window has its own" + " name, and is accessed trough its own uri.");
      l.setCaption("Window " + w.getName());
      w.addComponent(l);
      getApplication().getMainWindow().open(new ExternalResource(w.getURL()),"_new");
    }
  }
);
  b.setStyleName(Button.STYLE_LINK);
  main.addComponent(b);
}
