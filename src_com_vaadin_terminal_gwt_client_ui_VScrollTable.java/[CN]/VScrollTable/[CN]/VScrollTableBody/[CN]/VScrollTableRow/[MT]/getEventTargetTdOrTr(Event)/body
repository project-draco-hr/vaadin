{
  Element targetTdOrTr=null;
  final Element eventTarget=DOM.eventGetTarget(event);
  final Element eventTargetParent=DOM.getParent(eventTarget);
  final Element eventTargetGrandParent=DOM.getParent(eventTargetParent);
  final Element thisTrElement=getElement();
  if (eventTarget == thisTrElement) {
    targetTdOrTr=eventTarget;
  }
 else   if (thisTrElement == eventTargetParent) {
    targetTdOrTr=eventTarget;
  }
 else   if (thisTrElement == eventTargetGrandParent) {
    targetTdOrTr=eventTargetParent;
  }
 else {
    Element tdElement=eventTargetParent;
    while (DOM.getParent(tdElement) != thisTrElement) {
      tdElement=DOM.getParent(tdElement);
    }
    Element componentElement=tdElement.getFirstChildElement().getFirstChildElement().cast();
    Widget widget=(Widget)client.getPaintable(componentElement);
    if (widget instanceof VLabel || widget instanceof VEmbedded) {
      targetTdOrTr=tdElement;
    }
  }
  return targetTdOrTr;
}
