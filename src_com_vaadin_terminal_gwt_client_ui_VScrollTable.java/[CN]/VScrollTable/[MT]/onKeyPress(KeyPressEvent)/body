{
  if (!BrowserInfo.get().isGecko()) {
    return;
  }
  if (!enabled) {
    event.preventDefault();
  }
 else   if (hasFocus) {
    NativeEvent nativeEvent=event.getNativeEvent();
    int keyCode=nativeEvent.getKeyCode();
    if (keyCode == 0 && nativeEvent.getCharCode() == ' ') {
      keyCode=CHARCODE_SPACE;
    }
    if (handleNavigation(keyCode,event.isControlKeyDown() || event.isMetaKeyDown(),event.isShiftKeyDown())) {
      event.preventDefault();
    }
    if (scrollingVelocityTimer == null) {
      scrollingVelocityTimer=new Timer(){
        @Override public void run(){
          scrollingVelocity++;
        }
      }
;
      scrollingVelocityTimer.scheduleRepeating(100);
    }
  }
}
