{
  if (!selectionChanged) {
    return;
  }
  selectionChanged=false;
  if (multiselectmode == MULTISELECT_MODE_DEFAULT) {
    Set<String> ranges=new HashSet<String>();
    for (    SelectionRange range : selectedRowRanges) {
      ranges.add(range.toString());
    }
    if (immediate) {
      selectedRowRanges.clear();
    }
    client.updateVariable(paintableId,"selectedRanges",ranges.toArray(new String[selectedRowRanges.size()]),false);
  }
  client.updateVariable(paintableId,"selected",selectedRowKeys.toArray(new String[selectedRowKeys.size()]),immediate);
}
