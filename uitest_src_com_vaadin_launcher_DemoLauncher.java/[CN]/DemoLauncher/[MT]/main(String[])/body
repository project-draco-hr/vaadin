{
  final Map<String,String> serverArgs=DevelopmentServerLauncher.parseArguments(args);
  boolean deployed=false;
  try {
    deployed=deployEmbeddedWarfile(serverArgs);
  }
 catch (  final IOException e1) {
    e1.printStackTrace();
    deployed=false;
  }
  if (!deployed && !serverArgs.containsKey("webroot")) {
    if (new File("WebContent").exists()) {
      serverArgs.put("webroot","WebContent");
    }
 else {
      System.err.print("Failed to deploy Vaadin application. " + "Please add --webroot parameter. Exiting.");
      return;
    }
  }
  final String url=DevelopmentServerLauncher.runServer(serverArgs,"Demo Server");
  if (!serverArgs.containsKey("nogui") && url != null) {
    BrowserLauncher.openBrowser(url);
    java.awt.EventQueue.invokeLater(new Runnable(){
      @Override public void run(){
        try {
          openServerControlDialog(url);
        }
 catch (        HeadlessException e) {
        }
      }
    }
);
  }
}
