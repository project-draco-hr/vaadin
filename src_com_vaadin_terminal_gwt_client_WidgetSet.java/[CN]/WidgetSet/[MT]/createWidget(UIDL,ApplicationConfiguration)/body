{
  final Class<? extends VPaintableWidget> classType=resolveWidgetType(uidl,conf);
  if (classType == null || classType == VUnknownComponent.class) {
    String serverSideName=conf.getUnknownServerClassNameByEncodedTagName(uidl.getTag());
    VUnknownComponent c=GWT.create(VUnknownComponent.class);
    c.setServerSideClassName(serverSideName);
    return c;
  }
 else   if (VWindow.class == classType) {
    return GWT.create(VWindow.class);
  }
 else {
    return widgetMap.instantiate(classType);
  }
}
