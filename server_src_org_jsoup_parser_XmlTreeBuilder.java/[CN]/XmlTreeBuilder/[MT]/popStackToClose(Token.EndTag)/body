{
  String elName=endTag.name();
  Element firstFound=null;
  Iterator<Element> it=stack.descendingIterator();
  while (it.hasNext()) {
    Element next=it.next();
    if (next.nodeName().equals(elName)) {
      firstFound=next;
      break;
    }
  }
  if (firstFound == null) {
    return;
  }
  it=stack.descendingIterator();
  while (it.hasNext()) {
    Element next=it.next();
    if (next == firstFound) {
      it.remove();
      break;
    }
 else {
      it.remove();
    }
  }
}
