{
  final OrderedLayout main=new OrderedLayout();
  main.setMargin(true);
  setCompositionRoot(main);
  source=new Table("All creatures");
  source.setPageLength(7);
  source.setWidth(550);
  source.setColumnCollapsingAllowed(true);
  source.setColumnReorderingAllowed(true);
  source.setSelectable(true);
  source.setMultiSelect(true);
  source.setRowHeaderMode(Table.ROW_HEADER_MODE_ID);
  fillTable(source);
  source.addActionHandler(this);
  main.addComponent(source);
  final OrderedLayout horiz=new OrderedLayout(OrderedLayout.ORIENTATION_HORIZONTAL);
  horiz.setMargin(false,false,true,false);
  main.addComponent(horiz);
  saveSelected=new Button("Save selected");
  saveSelected.setStyleName(Button.STYLE_LINK);
  saveSelected.addListener(this);
  horiz.addComponent(saveSelected);
  hireSelected=new Button("Hire selected");
  hireSelected.setStyleName(Button.STYLE_LINK);
  hireSelected.addListener(this);
  horiz.addComponent(hireSelected);
  deleteSelected=new Button("Delete selected");
  deleteSelected.setStyleName(Button.STYLE_LINK);
  deleteSelected.addListener(this);
  horiz.addComponent(deleteSelected);
  deselect=new Button("Deselect all");
  deselect.setStyleName(Button.STYLE_LINK);
  deselect.addListener(this);
  horiz.addComponent(deselect);
  saved=new Table("Saved creatures");
  saved.setPageLength(5);
  saved.setWidth(550);
  saved.setSelectable(false);
  saved.setColumnHeaderMode(Table.COLUMN_HEADER_MODE_HIDDEN);
  saved.setRowHeaderMode(Table.ROW_HEADER_MODE_ID);
  initProperties(saved);
  saved.addActionHandler(this);
  main.addComponent(saved);
  final CheckBox b=new CheckBox("Modify saved creatures");
  b.addListener(new CheckBox.ClickListener(){
    public void buttonClick(    ClickEvent event){
      saved.setEditable(((Boolean)event.getButton().getValue()).booleanValue());
    }
  }
);
  b.setImmediate(true);
  main.addComponent(b);
}
