{
  try {
    final Item resource=getActiveResource();
    if (resource != null) {
      db.addReservation(resource,0,(Date)reservedFrom.getValue(),(Date)reservedTo.getValue(),(String)description.getValue());
      getMainWindow().showNotification("Success!","You have reserved the resource for the selected period.",Notification.TYPE_WARNING_MESSAGE);
      refreshReservations();
      refreshSelectedResources(false);
    }
 else {
      getMainWindow().showNotification("Oops!","Please select a resource (or category) to reserve.",Notification.TYPE_WARNING_MESSAGE);
    }
  }
 catch (  final ResourceNotAvailableException e) {
    getMainWindow().showNotification("Not available!","The selected resource is already reserved for the selected period.",Notification.TYPE_ERROR_MESSAGE);
    refreshReservations();
  }
}
