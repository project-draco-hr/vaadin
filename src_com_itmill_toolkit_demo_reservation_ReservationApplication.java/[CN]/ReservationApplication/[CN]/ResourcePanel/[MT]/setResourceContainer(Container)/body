{
  this.removeAllComponents();
  categoryLayouts.clear();
  categoryResources.clear();
  if (resources != null && resources.size() > 0) {
    for (Iterator it=resources.getItemIds().iterator(); it.hasNext(); ) {
      Item resource=(Item)resources.getItem(it.next());
      Integer id=(Integer)resource.getItemProperty(SampleDB.Resource.PROPERTY_ID_ID).getValue();
      String category=(String)resource.getItemProperty(SampleDB.Resource.PROPERTY_ID_CATEGORY).getValue();
      String name=(String)resource.getItemProperty(SampleDB.Resource.PROPERTY_ID_NAME).getValue();
      String description=(String)resource.getItemProperty(SampleDB.Resource.PROPERTY_ID_DESCRIPTION).getValue();
      Button rButton=new Button(name,this);
      rButton.setStyle("link");
      rButton.setDescription(description);
      rButton.setData(id);
      Layout resourceLayout=(Layout)categoryLayouts.get(category);
      LinkedList resourceList=(LinkedList)categoryResources.get(category);
      if (resourceLayout == null) {
        resourceLayout=new OrderedLayout();
        this.addComponent(resourceLayout);
        categoryLayouts.put(category,resourceLayout);
        resourceList=new LinkedList();
        categoryResources.put(category,resourceList);
        Button cButton=new Button(category + " (any)",this);
        cButton.setStyle("link");
        cButton.setData(category);
        resourceLayout.addComponent(cButton);
      }
      resourceLayout.addComponent(rButton);
      resourceList.add(id);
    }
  }
}
