{
  if (ctrl) {
    return false;
  }
 else   if (keycode == getPreviousKey()) {
    selectNextYear(1);
    return true;
  }
 else   if (keycode == getForwardKey()) {
    selectNextMonth();
    return true;
  }
 else   if (keycode == getNextKey()) {
    selectPreviousYear(1);
    return true;
  }
 else   if (keycode == getBackwardKey()) {
    selectPreviousMonth();
    return true;
  }
 else   if (keycode == getSelectKey()) {
    dateClickHandler.selectDate(String.valueOf(datefield.getShowingDate().getDay()));
    notifyServerOfChanges();
    if (datefield instanceof VTextualDate) {
      ((VTextualDate)datefield).focus();
    }
    return true;
  }
 else   if (keycode == getResetKey()) {
    Date showing=datefield.getShowingDate();
    Date current=datefield.getCurrentDate();
    showing.setTime(current.getTime());
    updateCalendar();
    return true;
  }
 else   if (keycode == getCloseKey() || keycode == KeyCodes.KEY_TAB) {
    if (datefield instanceof VPopupCalendar) {
      Date showing=datefield.getShowingDate();
      Date current=datefield.getCurrentDate();
      if (current != null && current != null) {
        showing.setTime(current.getTime());
      }
      ((VPopupCalendar)datefield).closeCalendarPanel();
      ((VPopupCalendar)datefield).focus();
    }
    return true;
  }
  return false;
}
