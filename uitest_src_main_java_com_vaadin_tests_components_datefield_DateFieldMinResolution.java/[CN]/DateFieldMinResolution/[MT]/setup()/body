{
  final SimpleDateFormat dformat=new SimpleDateFormat("dd/MM/yyyy HH:mm");
  Calendar cal=Calendar.getInstance();
  cal.set(2019,1,1,1,1);
  LegacyDateField df=new LegacyDateField("foo");
  df.setResolution(LegacyDateField.RESOLUTION_MIN);
  df.setDateFormat(dformat.toPattern());
  df.setValue(cal.getTime());
  df.setImmediate(true);
  addComponent(df);
  final Label lbl=new Label(dformat.format(cal.getTime()));
  lbl.setCaption("Selected date");
  LegacyInlineDateField idf=new LegacyInlineDateField("bar");
  idf.setResolution(LegacyDateField.RESOLUTION_MIN);
  idf.setDateFormat(dformat.toPattern());
  idf.setValue(cal.getTime());
  idf.setImmediate(true);
  idf.addListener(new Property.ValueChangeListener(){
    @Override public void valueChange(    ValueChangeEvent event){
      lbl.setValue(dformat.format(event.getProperty().getValue()));
    }
  }
);
  addComponent(idf);
  addComponent(lbl);
}
