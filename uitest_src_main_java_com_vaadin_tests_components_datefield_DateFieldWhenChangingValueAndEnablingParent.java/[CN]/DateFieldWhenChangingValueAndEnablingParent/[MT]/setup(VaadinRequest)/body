{
  final VerticalLayout main=new VerticalLayout();
  final VerticalLayout sub=new VerticalLayout();
  final CheckBox chk=new CheckBox("Parent layout enabled");
  main.setMargin(true);
  setContent(main);
  final DateField df1=createDateField(true);
  final DateField df2=createDateField(false);
  final PopupDateField pdf1=createPopupDateField(true,true);
  final PopupDateField pdf2=createPopupDateField(true,false);
  final PopupDateField pdf3=createPopupDateField(false,true);
  final PopupDateField pdf4=createPopupDateField(false,false);
  sub.addComponent(df1);
  sub.addComponent(df2);
  sub.addComponent(pdf1);
  sub.addComponent(pdf2);
  sub.addComponent(pdf3);
  sub.addComponent(pdf4);
  sub.setEnabled(false);
  main.addComponent(chk);
  main.addComponent(sub);
  chk.addValueChangeListener(new ValueChangeListener(){
    @Override public void valueChange(    ValueChangeEvent event){
      df1.setValue(new Date());
      df2.setValue(new Date());
      pdf1.setValue(new Date());
      pdf2.setValue(new Date());
      pdf3.setValue(new Date());
      pdf4.setValue(new Date());
      sub.setEnabled(chk.getValue());
    }
  }
);
}
