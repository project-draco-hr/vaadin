{
  try {
    FeatureUtil.debug(getApplication().getUser().toString(),"valueChange " + ((AbstractComponent)event.getProperty()).getTag() + ", "+ event.getProperty());
  }
 catch (  final Exception e) {
  }
  if (event.getProperty() == addComponent) {
    final String value=(String)addComponent.getValue();
    if (value != null) {
      if (value.equals("Text field")) {
        ((AbstractComponentContainer)objectToConfigure).addComponent(new TextField("Test field"));
      }
      if (value.equals("Time")) {
        final DateField d=new DateField("Time",new Date());
        d.setDescription("This is a DateField-component with text-style");
        d.setResolution(DateField.RESOLUTION_MIN);
        d.setStyle("text");
        ((AbstractComponentContainer)objectToConfigure).addComponent(d);
      }
      if (value.equals("Calendar")) {
        final DateField c=new DateField("Calendar",new Date());
        c.setDescription("DateField-component with calendar-style and day-resolution");
        c.setStyle("calendar");
        c.setResolution(DateField.RESOLUTION_DAY);
        ((AbstractComponentContainer)objectToConfigure).addComponent(c);
      }
      if (value.equals("Option group")) {
        final Select s=new Select("Options");
        s.setDescription("Select-component with optiongroup-style");
        s.addItem("Linux");
        s.addItem("Windows");
        s.addItem("Solaris");
        s.addItem("Symbian");
        s.setStyle("optiongroup");
        ((AbstractComponentContainer)objectToConfigure).addComponent(s);
      }
      addComponent.setValue(null);
    }
  }
 else   if (event.getProperty() == getField("lazyLoading")) {
    final boolean newValue=((Boolean)event.getProperty().getValue()).booleanValue();
    final Field multiselect=getField("multiSelect");
    final Field newitems=getField("newItemsAllowed");
    if (newValue) {
      newitems.setValue(Boolean.FALSE);
      newitems.setVisible(false);
      multiselect.setValue(Boolean.FALSE);
      multiselect.setVisible(false);
    }
 else {
      newitems.setVisible(true);
      multiselect.setVisible(true);
    }
  }
}
