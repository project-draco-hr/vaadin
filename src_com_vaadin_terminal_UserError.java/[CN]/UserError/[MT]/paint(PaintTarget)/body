{
  target.startTag("error");
  target.addAttribute("level",level.getText());
switch (mode) {
case TEXT:
    target.addText(AbstractApplicationServlet.safeEscapeForHtml(msg));
  break;
case UIDL:
target.addUIDL(msg);
break;
case PREFORMATTED:
target.addText("<pre>" + AbstractApplicationServlet.safeEscapeForHtml(msg) + "</pre>");
break;
case XHTML:
target.addText(msg);
break;
}
target.endTag("error");
}
