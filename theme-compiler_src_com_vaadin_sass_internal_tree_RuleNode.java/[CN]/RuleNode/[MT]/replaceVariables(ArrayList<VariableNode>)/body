{
  for (  final VariableNode node : variables) {
    String interpolation="#{$" + node.getName() + "}";
    if (variable != null && variable.contains(interpolation)) {
      variable=variable.replaceAll(Pattern.quote(interpolation),node.getExpr().unquotedString());
    }
    if (value.getLexicalUnitType() == LexicalUnitImpl.SAC_FUNCTION) {
      if (value.getParameters() != null) {
        if (StringUtil.containsVariable(value.getParameters().printState(),node.getName())) {
          LexicalUnitImpl param=value.getParameters();
          while (param != null) {
            if (param.getLexicalUnitType() == LexicalUnitImpl.SCSS_VARIABLE && param.getValueAsString().equals(node.getName())) {
              param.replaceValue(node.getExpr());
            }
            param=param.getNextLexicalUnit();
          }
        }
      }
    }
 else     if (value.getStringValue() != null && value.getStringValue().contains(interpolation)) {
      LexicalUnitImpl current=value;
      while (current != null) {
        if (current.getValueAsString().contains(interpolation)) {
          current.setStringValue(current.getValueAsString().replaceAll(Pattern.quote(interpolation),node.getExpr().unquotedString()));
        }
        current=current.getNextLexicalUnit();
      }
    }
 else {
      LexicalUnitImpl current=value;
      while (current != null) {
        if (current.getLexicalUnitType() == LexicalUnitImpl.SCSS_VARIABLE && current.getValueAsString().equals(node.getName())) {
          current.replaceValue(node.getExpr());
        }
        current=current.getNextLexicalUnit();
      }
    }
  }
}
