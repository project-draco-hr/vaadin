{
  getPage().addFragmentChangedListener(new FragmentChangedListener(){
    public void fragmentChanged(    FragmentChangedEvent source){
      String newFragment=source.getFragment();
      log.log("Fragment changed from " + lastKnownFragment + " to "+ newFragment);
      lastKnownFragment=newFragment;
    }
  }
);
  addComponent(log);
  addComponent(new Button("Set fragment to 'foo'",new Button.ClickListener(){
    public void buttonClick(    ClickEvent event){
      setFragment("foo");
    }
  }
));
  addComponent(new Button("Set fragment to 'bar'",new Button.ClickListener(){
    public void buttonClick(    ClickEvent event){
      setFragment("bar");
    }
  }
));
}
