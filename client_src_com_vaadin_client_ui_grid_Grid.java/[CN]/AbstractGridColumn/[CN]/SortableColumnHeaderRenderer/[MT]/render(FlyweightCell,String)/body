{
  this.cellRenderer.render(cell,data);
  if (grid != null) {
    SortOrder sortingOrder=getSortingOrder();
    Element cellElement=cell.getElement();
    if (grid.getColumn(cell.getColumn()).isSortable()) {
      if (sortingOrder != null) {
        if (SortDirection.ASCENDING == sortingOrder.getDirection()) {
          cellElement.replaceClassName("sort-desc","sort-asc");
        }
 else {
          cellElement.replaceClassName("sort-asc","sort-desc");
        }
        int sortIndex=grid.getSortOrder().indexOf(sortingOrder);
        if (sortIndex > -1 && grid.getSortOrder().size() > 1) {
          cellElement.setAttribute("sort-order",String.valueOf(sortIndex + 1));
        }
 else {
          cellElement.removeAttribute("sort-order");
        }
      }
 else {
        cleanup(cell);
      }
    }
 else {
      cleanup(cell);
    }
  }
}
