{
  this.app=app;
  addStyleName("view");
  setCaption("Search contacts");
  setSizeFull();
  FormLayout formLayout=new FormLayout();
  setLayout(formLayout);
  tf=new TextField("Search term");
  fieldToSearch=new NativeSelect("Field to search");
  saveSearch=new CheckBox("Save search");
  searchName=new TextField("Search name");
  Button search=new Button("Search");
  for (int i=0; i < PersonContainer.NATURAL_COL_ORDER.length; i++) {
    fieldToSearch.addItem(PersonContainer.NATURAL_COL_ORDER[i]);
    fieldToSearch.setItemCaption(PersonContainer.NATURAL_COL_ORDER[i],PersonContainer.COL_HEADERS_ENGLISH[i]);
  }
  fieldToSearch.setValue("lastName");
  fieldToSearch.setNullSelectionAllowed(false);
  saveSearch.setValue(true);
  saveSearch.setImmediate(true);
  saveSearch.addListener(new ClickListener(){
    public void buttonClick(    ClickEvent event){
      searchName.setVisible(event.getButton().booleanValue());
    }
  }
);
  search.addListener(new Button.ClickListener(){
    public void buttonClick(    ClickEvent event){
      performSearch();
    }
  }
);
  addComponent(tf);
  addComponent(fieldToSearch);
  addComponent(saveSearch);
  addComponent(searchName);
  addComponent(search);
}
