{
  this.client=client;
  id=uidl.getId();
  if (client.updateComponent(this,uidl,false)) {
    return;
  }
  focusHandlerRegistration=EventHelper.updateFocusHandler(this,client,focusHandlerRegistration);
  blurHandlerRegistration=EventHelper.updateBlurHandler(this,client,blurHandlerRegistration);
  if (uidl.hasAttribute("error")) {
    if (errorIndicatorElement == null) {
      errorIndicatorElement=DOM.createSpan();
      errorIndicatorElement.setInnerHTML("&nbsp;");
      DOM.setElementProperty(errorIndicatorElement,"className","v-errorindicator");
      DOM.appendChild(getElement(),errorIndicatorElement);
      DOM.sinkEvents(errorIndicatorElement,VTooltip.TOOLTIP_EVENTS | Event.ONCLICK);
    }
  }
 else   if (errorIndicatorElement != null) {
    DOM.setStyleAttribute(errorIndicatorElement,"display","none");
  }
  if (uidl.hasAttribute("readonly")) {
    setEnabled(false);
  }
  if (uidl.hasAttribute("icon")) {
    if (icon == null) {
      icon=new Icon(client);
      DOM.insertChild(getElement(),icon.getElement(),1);
      icon.sinkEvents(VTooltip.TOOLTIP_EVENTS);
      icon.sinkEvents(Event.ONCLICK);
    }
    icon.setUri(uidl.getStringAttribute("icon"));
  }
 else   if (icon != null) {
    DOM.removeChild(getElement(),icon.getElement());
    icon=null;
  }
  setText(uidl.getStringAttribute("caption"));
  setValue(uidl.getBooleanVariable("state"));
  immediate=uidl.getBooleanAttribute("immediate");
}
