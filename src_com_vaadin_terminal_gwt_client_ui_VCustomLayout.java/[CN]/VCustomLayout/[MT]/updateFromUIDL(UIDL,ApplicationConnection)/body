{
  this.client=client;
  if (client.updateComponent(this,uidl,true)) {
    return;
  }
  pid=uidl.getId();
  if (!hasTemplate()) {
    initializeHTML(uidl,client);
  }
  eval(scripts);
  scripts=null;
  iLayout();
  client.runDescendentsLayout(this);
  Set<Widget> oldWidgets=new HashSet<Widget>();
  oldWidgets.addAll(locationToWidget.values());
  for (final Iterator<?> i=uidl.getChildIterator(); i.hasNext(); ) {
    final UIDL uidlForChild=(UIDL)i.next();
    if (uidlForChild.getTag().equals("location")) {
      final String location=uidlForChild.getStringAttribute("name");
      final Paintable child=client.getPaintable(uidlForChild.getChildUIDL(0));
      try {
        setWidget((Widget)child,location);
        child.updateFromUIDL(uidlForChild.getChildUIDL(0),client);
      }
 catch (      final IllegalArgumentException e) {
      }
      oldWidgets.remove(child);
    }
  }
  for (Iterator<Widget> iterator=oldWidgets.iterator(); iterator.hasNext(); ) {
    Widget oldWidget=iterator.next();
    if (oldWidget.isAttached()) {
      remove(oldWidget);
    }
  }
  iLayout();
  client.runDescendentsLayout(this);
}
