{
  if (client.updateComponent(this,uidl,false)) {
    return;
  }
  if (uidl.hasAttribute("caption")) {
    DOM.setInnerText(caption,uidl.getStringAttribute("caption"));
  }
 else {
    DOM.setInnerText(caption,"");
  }
  if (uidl.hasAttribute("icon")) {
    if (icon == null) {
      icon=new Icon(client);
      DOM.insertChild(legend,icon.getElement(),0);
    }
    icon.setUri(uidl.getStringAttribute("icon"));
  }
 else {
    if (icon != null) {
      DOM.removeChild(legend,icon.getElement());
    }
  }
  if (uidl.hasAttribute("error")) {
    final UIDL errorUidl=uidl.getErrors();
    errorMessage.updateFromUIDL(errorUidl);
    errorMessage.setVisible(true);
  }
 else {
    errorMessage.setVisible(false);
  }
  if (uidl.hasAttribute("description")) {
    DOM.setInnerHTML(desc,uidl.getStringAttribute("description"));
  }
 else {
    DOM.setInnerHTML(desc,"");
  }
  iLayout();
  final UIDL layoutUidl=uidl.getChildUIDL(0);
  if (lo == null) {
    lo=(Container)client.getPaintable(layoutUidl);
    add((Widget)lo,fieldContainer);
  }
  lo.updateFromUIDL(layoutUidl,client);
  if (uidl.getChildCount() > 1) {
    Container newFooter=(Container)client.getPaintable(uidl.getChildUIDL(1));
    if (footer == null) {
      add((Widget)newFooter,footerContainer);
      footer=newFooter;
    }
 else     if (newFooter != footer) {
      remove((Widget)footer);
      client.unregisterPaintable(footer);
      add((Widget)newFooter,footerContainer);
    }
    footer=newFooter;
    footer.updateFromUIDL(uidl.getChildUIDL(1),client);
  }
 else {
    if (footer != null) {
      remove((Widget)footer);
      client.unregisterPaintable(footer);
    }
  }
}
