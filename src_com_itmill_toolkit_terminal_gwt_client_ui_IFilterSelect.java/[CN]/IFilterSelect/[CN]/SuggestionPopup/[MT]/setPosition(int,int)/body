{
  ApplicationConnection.getConsole().log("callback");
  if (offsetHeight > Window.getClientHeight()) {
    offsetHeight=Window.getClientHeight();
    menu.setHeight(offsetHeight + "px");
    DOM.setStyleAttribute(menu.getElement(),"overflow","auto");
    menu.setWidth((menu.getOffsetWidth() * 2 - DOM.getElementPropertyInt(menu.getElement(),"clientWidth")) + "px");
  }
  if (offsetHeight + getPopupTop() > Window.getClientHeight()) {
    int top=Window.getClientHeight() - offsetHeight;
    setPopupPosition(getPopupLeft(),top);
  }
}
