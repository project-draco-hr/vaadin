{
  if (newIndex < 0) {
    newIndex=0;
  }
  if (newIndex >= size()) {
    newIndex=size() - 1;
  }
  if (this.items instanceof Container.Indexed) {
    try {
      this.currentPageFirstItemId=((Container.Indexed)this.items).getIdByIndex(newIndex);
    }
 catch (    IndexOutOfBoundsException e) {
      this.currentPageFirstItemId=null;
    }
    this.currentPageFirstItemIndex=newIndex;
  }
 else {
    this.currentPageFirstItemId=((Container.Ordered)this.items).firstItemId();
    while (this.currentPageFirstItemIndex < newIndex && !((Container.Ordered)this.items).isLastId(this.currentPageFirstItemId)) {
      this.currentPageFirstItemIndex++;
      this.currentPageFirstItemId=((Container.Ordered)this.items).nextItemId(this.currentPageFirstItemId);
    }
    if (((Container.Ordered)this.items).isLastId(this.currentPageFirstItemId)) {
      this.currentPageFirstItemIndex=size() - 1;
    }
    while (this.currentPageFirstItemIndex > newIndex && !((Container.Ordered)this.items).isFirstId(this.currentPageFirstItemId)) {
      this.currentPageFirstItemIndex--;
      this.currentPageFirstItemId=((Container.Ordered)this.items).prevItemId(this.currentPageFirstItemId);
    }
    if (((Container.Ordered)this.items).isFirstId(this.currentPageFirstItemId)) {
      this.currentPageFirstItemIndex=0;
    }
    while (this.currentPageFirstItemIndex < newIndex && !((Container.Ordered)this.items).isLastId(this.currentPageFirstItemId)) {
      this.currentPageFirstItemIndex++;
      this.currentPageFirstItemId=((Container.Ordered)this.items).nextItemId(this.currentPageFirstItemId);
    }
    if (((Container.Ordered)this.items).isLastId(this.currentPageFirstItemId)) {
      newIndex=this.currentPageFirstItemIndex=size() - 1;
    }
  }
  refreshCurrentPage();
}
