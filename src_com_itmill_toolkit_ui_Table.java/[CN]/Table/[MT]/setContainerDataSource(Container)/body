{
  if (newDataSource == null) {
    newDataSource=new IndexedContainer();
  }
  if (newDataSource instanceof Container.Ordered) {
    super.setContainerDataSource(newDataSource);
  }
 else {
    super.setContainerDataSource(new ContainerOrderedWrapper(newDataSource));
  }
  currentPageFirstItemId=null;
  currentPageFirstItemIndex=0;
  if (collapsedColumns != null) {
    collapsedColumns.clear();
  }
  setVisibleColumns(getContainerPropertyIds().toArray());
  refreshCurrentPage();
}
