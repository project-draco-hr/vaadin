{
  if (newDataSource == null) {
    newDataSource=new IndexedContainer();
  }
  if (newDataSource instanceof Container.Ordered) {
    super.setContainerDataSource(newDataSource);
  }
 else {
    super.setContainerDataSource(new ContainerOrderedWrapper(newDataSource));
  }
  this.currentPageFirstItemId=null;
  this.currentPageFirstItemIndex=0;
  if (this.collapsedColumns != null) {
    this.collapsedColumns.clear();
  }
  setVisibleColumns(getContainerPropertyIds().toArray());
  refreshCurrentPage();
}
