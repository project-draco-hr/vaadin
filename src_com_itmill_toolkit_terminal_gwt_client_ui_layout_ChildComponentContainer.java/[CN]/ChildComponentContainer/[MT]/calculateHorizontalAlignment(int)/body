{
  alignmentLeftOffsetForCaption=0;
  alignmentLeftOffsetForWidget=0;
  if (alignment.isLeft()) {
    return;
  }
  int captionSpace=emptySpace;
  int widgetSpace=emptySpace;
  if (caption != null) {
    if (caption.shouldBePlacedAfterComponent()) {
      captionSpace=0;
      widgetSpace-=widgetSize.getWidth();
      widgetSpace-=caption.getWidth();
    }
 else {
      widgetSpace-=widgetSize.getWidth();
      captionSpace-=caption.getWidth();
    }
  }
 else {
    captionSpace=0;
    widgetSpace-=widgetSize.getWidth();
  }
  if (alignment.isHorizontalCenter()) {
    alignmentLeftOffsetForCaption=captionSpace / 2;
    alignmentLeftOffsetForWidget=widgetSpace / 2;
  }
 else   if (alignment.isRight()) {
    alignmentLeftOffsetForCaption=captionSpace;
    alignmentLeftOffsetForWidget=widgetSpace;
  }
  if (alignmentLeftOffsetForCaption < 0) {
    alignmentLeftOffsetForCaption=0;
  }
  if (alignmentLeftOffsetForWidget < 0) {
    alignmentLeftOffsetForWidget=0;
  }
}
