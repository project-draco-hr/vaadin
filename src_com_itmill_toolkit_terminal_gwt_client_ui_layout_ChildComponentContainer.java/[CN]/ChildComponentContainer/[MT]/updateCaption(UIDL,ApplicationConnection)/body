{
  if (ICaption.isNeeded(uidl)) {
    ICaption newCaption=caption;
    if (newCaption == null) {
      newCaption=new ICaption((Paintable)widget,client);
    }
    boolean positionChanged=newCaption.updateCaption(uidl);
    if (newCaption != caption || positionChanged) {
      setCaption(newCaption);
    }
  }
 else {
    if (caption != null) {
      remove(caption);
    }
  }
}
