{
  if (ICaption.isNeeded(uidl)) {
    ICaption newCaption=caption;
    if (newCaption == null) {
      newCaption=new ICaption((Paintable)widget,client);
    }
    boolean positionChanged=newCaption.updateCaption(uidl);
    if (newCaption != caption || positionChanged) {
      setCaption(newCaption);
    }
  }
 else {
    if (caption != null) {
      remove(caption);
    }
  }
  int w=0;
  int h=0;
  if (caption != null) {
    w=caption.getWidth();
    h=caption.getHeight();
  }
  captionSize.setWidth(w);
  captionSize.setHeight(h);
}
