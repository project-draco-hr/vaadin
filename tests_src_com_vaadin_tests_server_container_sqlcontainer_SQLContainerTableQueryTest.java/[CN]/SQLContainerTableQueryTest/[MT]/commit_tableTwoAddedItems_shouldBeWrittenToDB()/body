{
  TableQuery query=new TableQuery("people",connectionPool,AllTests.sqlGen);
  SQLContainer container=new SQLContainer(query);
  Object id=container.addItem();
  Object id2=container.addItem();
  container.getContainerProperty(id,"NAME").setValue("Herbert");
  container.getContainerProperty(id2,"NAME").setValue("Larry");
  Assert.assertTrue(id2 instanceof TemporaryRowId);
  Assert.assertSame(id2,container.lastItemId());
  container.commit();
  Object nextToLast=container.getIdByIndex(container.size() - 2);
  Assert.assertFalse(nextToLast instanceof TemporaryRowId);
  Assert.assertEquals("Herbert",container.getContainerProperty(nextToLast,"NAME").getValue());
  Assert.assertFalse(container.lastItemId() instanceof TemporaryRowId);
  Assert.assertEquals("Larry",container.getContainerProperty(container.lastItemId(),"NAME").getValue());
}
