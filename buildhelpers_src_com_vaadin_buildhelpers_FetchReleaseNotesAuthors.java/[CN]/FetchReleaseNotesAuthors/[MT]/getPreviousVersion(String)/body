{
  String[] versionNumbers=version.split("\\.");
  if (versionNumbers.length > 4 || versionNumbers.length < 3) {
    throw new IllegalArgumentException("Cannot parse version: " + version);
  }
  int major=Integer.parseInt(versionNumbers[0]);
  int minor=Integer.parseInt(versionNumbers[1]);
  int maintenance=Integer.parseInt(versionNumbers[2]);
  if (minor == 0) {
    throw new IllegalArgumentException("Can't know what previous minor version was");
  }
  if (maintenance == 0) {
    return major + "." + (minor - 1);
  }
 else {
    return major + "." + minor+ "."+ (maintenance - 1);
  }
}
