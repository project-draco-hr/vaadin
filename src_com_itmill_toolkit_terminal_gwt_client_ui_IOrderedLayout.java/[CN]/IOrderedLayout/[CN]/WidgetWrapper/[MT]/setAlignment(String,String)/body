{
  if (BrowserInfo.get().isIE()) {
    DOM.setElementAttribute(getElement(),"vAlign",verticalAlignment);
  }
 else {
    DOM.setStyleAttribute(getElement(),"verticalAlign",verticalAlignment);
  }
  if (!horizontalAlignment.equals("left")) {
    if (td == null) {
      final Element table=DOM.createTable();
      final Element tBody=DOM.createTBody();
      final Element tr=DOM.createTR();
      td=DOM.createTD();
      final Element itable=DOM.createTable();
      final Element itBody=DOM.createTBody();
      final Element itr=DOM.createTR();
      final Element itd=DOM.createTD();
      DOM.appendChild(table,tBody);
      DOM.appendChild(tBody,tr);
      DOM.appendChild(tr,td);
      DOM.appendChild(td,itable);
      DOM.appendChild(itable,itBody);
      DOM.appendChild(itBody,itr);
      DOM.appendChild(itr,itd);
      DOM.setElementAttribute(table,"cellpadding","0");
      DOM.setElementAttribute(table,"cellspacing","0");
      DOM.setStyleAttribute(table,"width","100%");
      DOM.setElementAttribute(itable,"cellpadding","0");
      DOM.setElementAttribute(itable,"cellspacing","0");
      DOM.setElementAttribute(itd,"align","left");
      while (DOM.getChildCount(getElement()) > 0) {
        Element content=DOM.getFirstChild(getElement());
        if (content != null) {
          DOM.removeChild(getElement(),content);
          DOM.appendChild(itd,content);
        }
      }
      DOM.appendChild(getElement(),table);
    }
 else {
      if (BrowserInfo.get().isSafari()) {
        String prevValue=DOM.getElementAttribute(td,"align");
        if (!horizontalAlignment.equals(prevValue)) {
          Element parent=DOM.getParent(td);
          DOM.removeChild(parent,td);
          DOM.appendChild(parent,td);
        }
      }
    }
    DOM.setElementAttribute(td,"align",horizontalAlignment);
  }
 else   if (td != null) {
    Element itd=DOM.getFirstChild(DOM.getFirstChild(DOM.getFirstChild(DOM.getFirstChild(td))));
    while (DOM.getChildCount(itd) > 0) {
      Element content=DOM.getFirstChild(itd);
      if (content != null) {
        DOM.removeChild(itd,content);
        DOM.appendChild(getElement(),content);
      }
    }
    DOM.removeChild(getElement(),DOM.getFirstChild(getElement()));
    td=null;
  }
}
