{
  int activeLayoutWidth=0;
  int activeLayoutHeight=0;
  if (isHorizontal()) {
    if (isDynamicWidth()) {
      activeLayoutWidth=totalComponentWidth;
      setOuterLayoutWidth(activeLayoutWidth);
    }
 else {
      activeLayoutWidth=getOffsetWidth() - activeMargins.getHorizontal();
    }
    if (isDynamicHeight()) {
      activeLayoutHeight=maxComponentHeight;
      setOuterLayoutHeight(maxComponentHeight);
    }
 else {
      activeLayoutHeight=getOffsetHeight() - activeMargins.getVertical();
    }
  }
 else {
    if (isDynamicWidth()) {
      activeLayoutWidth=maxComponentWidth;
      setOuterLayoutWidth(maxComponentWidth);
    }
 else {
      activeLayoutWidth=getOffsetWidth() - activeMargins.getHorizontal();
    }
    if (isDynamicHeight()) {
      activeLayoutHeight=totalComponentHeight;
      setOuterLayoutHeight(totalComponentHeight);
    }
 else {
      activeLayoutHeight=getOffsetHeight() - activeMargins.getVertical();
    }
  }
  activeLayoutSize.setWidth(activeLayoutWidth);
  activeLayoutSize.setHeight(activeLayoutHeight);
  return activeLayoutSize;
}
