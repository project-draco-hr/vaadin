{
  MarginInfo newMargins=new MarginInfo(uidl.getIntAttribute("margins"));
  if (newMargins.equals(margins)) {
    return;
  }
  margins=newMargins;
  DOM.setStyleAttribute(margin,"paddingTop",margins.hasTop() ? marginTop + "px" : "0");
  DOM.setStyleAttribute(margin,"paddingLeft",margins.hasLeft() ? marginLeft + "px" : "0");
  DOM.setStyleAttribute(margin,"paddingBottom",margins.hasBottom() ? marginBottom + "px" : "0");
  DOM.setStyleAttribute(margin,"paddingRight",margins.hasRight() ? marginRight + "px" : "0");
  String currentMarginHeight=DOM.getStyleAttribute(margin,"height");
  if (currentMarginHeight != null && !"".equals(currentMarginHeight)) {
    int ch=DOM.getElementPropertyInt(root,"offsetHeight");
    ch-=margins.hasTop() ? marginTop : 0;
    ch-=margins.hasBottom() ? marginBottom : 0;
    DOM.setStyleAttribute(margin,"height",ch + "px");
  }
  String currentMarginWidth=DOM.getStyleAttribute(margin,"width");
  if (currentMarginWidth != null && !"".equals(currentMarginWidth)) {
    int cw=DOM.getElementPropertyInt(root,"offsetWidth");
    cw-=margins.hasLeft() ? marginLeft : 0;
    cw-=margins.hasRight() ? marginRight : 0;
    DOM.setStyleAttribute(margin,"width",cw + "px");
  }
  childLayoutsHaveChanged=true;
}
