{
  if (w instanceof Caption) {
    Caption c=(Caption)w;
    Element container=DOM.getParent(((UIObject)c.getOwner()).getElement());
    Element captionContainer=DOM.createDiv();
    DOM.insertChild(container,captionContainer,0);
    insert(w,captionContainer,beforeIndex,false);
  }
 else {
    Element wrapper=createWidgetWrappper();
    DOM.insertChild(childContainer,wrapper,beforeIndex);
    insert(w,getWidgetContainerFromWrapper(wrapper),beforeIndex,false);
  }
}
