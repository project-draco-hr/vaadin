{
  if (w instanceof Caption) {
    final Caption c=(Caption)w;
    final Element container=getWidgetWrapperFor((Widget)c.getOwner()).getContainerElement();
    final Element captionContainer=DOM.createDiv();
    DOM.insertChild(container,captionContainer,0);
    insert(w,captionContainer,beforeIndex,false);
  }
 else {
    WidgetWrapper wr=new WidgetWrapper();
    DOM.insertChild(childContainer,wr.getElement(),beforeIndex);
    insert(w,wr.getContainerElement(),beforeIndex,false);
  }
}
