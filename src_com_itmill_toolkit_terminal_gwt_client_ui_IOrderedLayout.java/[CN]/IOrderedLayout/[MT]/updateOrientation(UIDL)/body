{
  int newOrientationMode="horizontal".equals(uidl.getStringAttribute("orientation")) ? ORIENTATION_HORIZONTAL : ORIENTATION_VERTICAL;
  if (orientationMode == newOrientationMode) {
    return;
  }
  removeFixedSizes();
  orientationMode=newOrientationMode;
  createAndEmptyWrappedChildContainer();
  for (int i=0; i < childWidgetWrappers.size(); i++) {
    WidgetWrapper wr=(WidgetWrapper)childWidgetWrappers.get(i);
    Element oldWrElement=wr.resetRootElement();
    Element newWrElement=wr.getElement();
    String oldStyle=DOM.getElementAttribute(oldWrElement,"class");
    if (oldStyle != null) {
      DOM.setElementAttribute(newWrElement,"class",oldStyle);
    }
    while (DOM.getChildCount(oldWrElement) > 0) {
      Element c=DOM.getFirstChild(oldWrElement);
      DOM.removeChild(oldWrElement,c);
      DOM.appendChild(newWrElement,c);
    }
    DOM.appendChild(wrappedChildContainer,newWrElement);
  }
  String rootWidth=DOM.getStyleAttribute(root,"width");
  String rootHeight=DOM.getStyleAttribute(root,"height");
  if ((orientationMode == ORIENTATION_HORIZONTAL && rootWidth != null && !"".equals(rootWidth)) || (orientationMode == ORIENTATION_VERTICAL && rootHeight != null && !"".equals(rootHeight))) {
    fixedCellSize=true;
    updateFixedSizes();
  }
  childLayoutsHaveChanged=true;
}
