{
  LegacyWindow w=new LegacyWindow(getClass().getSimpleName());
  setMainWindow(w);
  GridLayout gl=new GridLayout(3,3);
  gl.setSpacing(true);
  gl.addComponent(new Label("Before form"));
  gl.newLine();
  form=new Form(gl);
  form.setItemDataSource(new BeanItem<MyBean>(new MyBean()));
  gl.addComponent(new Label("After form"));
  w.addComponent(form);
  w.addComponent(new Button("new item",new Button.ClickListener(){
    @Override public void buttonClick(    ClickEvent event){
      form.setItemDataSource(new BeanItem<MyBean>(new MyBean()));
    }
  }
));
  w.addComponent(new Button("new bigger item",new Button.ClickListener(){
    @Override public void buttonClick(    ClickEvent event){
      form.setItemDataSource(new BeanItem<MyBean>(new MyBiggerBean()));
    }
  }
));
  w.addComponent(new Button("new grid layout",new Button.ClickListener(){
    @Override public void buttonClick(    ClickEvent event){
      form.setLayout(new GridLayout());
    }
  }
));
  w.addComponent(new Button("new form layout",new Button.ClickListener(){
    @Override public void buttonClick(    ClickEvent event){
      form.setLayout(new FormLayout());
    }
  }
));
}
