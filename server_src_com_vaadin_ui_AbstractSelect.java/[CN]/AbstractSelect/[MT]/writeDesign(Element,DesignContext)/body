{
  super.writeDesign(design,designContext);
  if (designContext.shouldWriteData(this)) {
    for (    Object itemId : getItemIds()) {
      Element optionElement=design.appendElement("option");
      optionElement.html(getItemCaption(itemId));
      Resource icon=getItemIcon(itemId);
      if (icon != null) {
        DesignAttributeHandler.writeAttribute("icon",optionElement.attributes(),icon,null,Resource.class);
      }
      if (isSelected(itemId)) {
        optionElement.attr("selected","");
      }
    }
  }
}
