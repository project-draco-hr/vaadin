{
  Tree tree=new Tree();
  tree.setImmediate(true);
  tree.setContainerDataSource(allFeatures);
  tree.setPropertyDataSource(currentFeature);
  for (int i=0; i < features.getFeatures().length; i++) {
    tree.expandItemsRecursively(features.getFeatures()[i]);
  }
  tree.expandItemsRecursively(features);
  tree.addListener(new Table.ValueChangeListener(){
    public void valueChange(    ValueChangeEvent event){
      updateFeatureList(currentList);
    }
  }
);
  return tree;
}
