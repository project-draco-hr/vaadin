{
  if (sender == hours) {
    int h=hours.getSelectedIndex();
    if (datefield.getDateTimeService().isTwelveHourClock()) {
      h=h + ampm.getSelectedIndex() * 12;
    }
    datefield.getCurrentDate().setHours(h);
    datefield.getClient().updateVariable(datefield.getId(),"hour",h,datefield.isImmediate());
    updateTime(false);
  }
 else   if (sender == mins) {
    int m=mins.getSelectedIndex();
    datefield.getCurrentDate().setMinutes(m);
    datefield.getClient().updateVariable(datefield.getId(),"min",m,datefield.isImmediate());
    updateTime(false);
  }
 else   if (sender == sec) {
    int s=sec.getSelectedIndex();
    datefield.getCurrentDate().setSeconds(s);
    datefield.getClient().updateVariable(datefield.getId(),"sec",s,datefield.isImmediate());
    updateTime(false);
  }
 else   if (sender == msec) {
    int ms=msec.getSelectedIndex();
    datefield.setMilliseconds(ms);
    datefield.getClient().updateVariable(datefield.getId(),"msec",ms,datefield.isImmediate());
    updateTime(false);
  }
 else   if (sender == ampm) {
    int h=hours.getSelectedIndex() + ampm.getSelectedIndex() * 12;
    datefield.getCurrentDate().setHours(h);
    datefield.getClient().updateVariable(datefield.getId(),"hour",h,datefield.isImmediate());
    updateTime(false);
  }
}
