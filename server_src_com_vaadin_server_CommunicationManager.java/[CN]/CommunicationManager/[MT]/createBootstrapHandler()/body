{
  return new BootstrapHandler(){
    @Override protected String getServiceUrl(    BootstrapContext context){
      String pathInfo=context.getRequest().getRequestPathInfo();
      if (pathInfo == null) {
        return null;
      }
 else {
        return VaadinServletService.getCancelingRelativePath(pathInfo);
      }
    }
    @Override public String getThemeName(    BootstrapContext context){
      String themeName=context.getRequest().getParameter(VaadinServlet.URL_PARAMETER_THEME);
      if (themeName == null) {
        themeName=super.getThemeName(context);
      }
      return themeName;
    }
  }
;
}
