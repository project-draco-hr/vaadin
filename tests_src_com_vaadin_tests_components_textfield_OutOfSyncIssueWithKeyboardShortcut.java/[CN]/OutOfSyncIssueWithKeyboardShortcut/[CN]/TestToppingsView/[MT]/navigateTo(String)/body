{
  BeanContainer<Long,Topping> container=new BeanContainer<Long,Topping>(Topping.class);
  container.setBeanIdProperty("id");
  for (  Topping entity : toppings.values()) {
    container.addBean(entity);
  }
  table.setContainerDataSource(container);
  if ("new".equals(requestedDataId)) {
    table.setValue(null);
    form.setVisible(true);
    setCurrentEntity(new Topping());
    form.focus();
  }
 else   if (requestedDataId != null && requestedDataId.startsWith("edit/")) {
    try {
      Long id=Long.valueOf(requestedDataId.substring(5));
      setCurrentEntity(getEntityForItem(table.getItem(id)));
      form.focus();
    }
 catch (    NumberFormatException e) {
      setCurrentEntity(null);
    }
  }
 else {
    setCurrentEntity(null);
  }
}
