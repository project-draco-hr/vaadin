{
  final LegacyWindow w=new LegacyWindow(getClass().getName());
  setMainWindow(w);
  final VerticalLayout l=new VerticalLayout();
  l.addComponent(new Label("row 1"));
  l.addComponent(new Label("row 2"));
  w.addComponent(l);
  final CheckBox b=new CheckBox("fixed width: 30px",false);
  b.addListener(new Property.ValueChangeListener(){
    @Override public void valueChange(    ValueChangeEvent event){
      if ((Boolean)b.getValue()) {
        l.setWidth("30px");
      }
 else {
        l.setWidth(null);
      }
    }
  }
);
  b.setImmediate(true);
  w.addComponent(b);
}
