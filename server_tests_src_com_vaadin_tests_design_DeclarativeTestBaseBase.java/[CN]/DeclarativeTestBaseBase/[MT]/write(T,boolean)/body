{
  try {
    ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
    DesignContext dc=new DesignContext();
    if (writeData) {
      dc.setShouldWriteDataDelegate(new ShouldWriteDataDelegate(){
        @Override public boolean shouldWriteData(        Component component){
          return true;
        }
      }
);
    }
    dc.setRootComponent(object);
    Design.write(dc,outputStream);
    return outputStream.toString("UTF-8");
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
}
