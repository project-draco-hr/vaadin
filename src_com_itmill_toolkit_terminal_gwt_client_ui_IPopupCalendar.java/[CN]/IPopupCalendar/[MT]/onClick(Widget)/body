{
  if (sender == calendarToggle) {
    calendar.updateCalendar();
    popup.show();
    int w=calendar.getOffsetWidth();
    int h=calendar.getOffsetHeight();
    int t=calendarToggle.getAbsoluteTop();
    int l=calendarToggle.getAbsoluteLeft();
    if (l + w > Window.getClientWidth())     l=Window.getClientWidth() - w;
    if (t + h > Window.getClientHeight())     t=Window.getClientHeight() - h - calendarToggle.getOffsetHeight()- 2;
    popup.setPopupPosition(l,t + calendarToggle.getOffsetHeight() + 2);
    popup.setWidth(w + "px");
    popup.setHeight(h + "px");
  }
}
