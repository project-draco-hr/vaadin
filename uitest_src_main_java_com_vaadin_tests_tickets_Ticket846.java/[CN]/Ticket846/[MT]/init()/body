{
  final LegacyWindow mainWin=new LegacyWindow("Test app for #846");
  setMainWindow(mainWin);
  final TextField tx=new TextField("Integer");
  mainWin.addComponent(tx);
  tx.setImmediate(true);
  tx.addValidator(new IntegerValidator("{0} is not a number"));
  final String[] visibleProps={"required","invalidAllowed","readOnly","readThrough","invalidCommitted","validationVisible"};
  for (int i=0; i < visibleProps.length; i++) {
    CheckBox b=new CheckBox(visibleProps[i],new MethodProperty<Boolean>(tx,visibleProps[i]));
    b.setImmediate(true);
    mainWin.addComponent(b);
  }
  mainWin.addComponent(new Button("Validate integer",new Button.ClickListener(){
    @Override public void buttonClick(    com.vaadin.ui.Button.ClickEvent event){
      mainWin.showNotification("The field is " + (tx.isValid() ? "" : "not ") + "valid");
    }
  }
));
  TextField caption=new TextField("Caption",new MethodProperty<String>(tx,"caption"));
  caption.setImmediate(true);
  mainWin.addComponent(caption);
}
