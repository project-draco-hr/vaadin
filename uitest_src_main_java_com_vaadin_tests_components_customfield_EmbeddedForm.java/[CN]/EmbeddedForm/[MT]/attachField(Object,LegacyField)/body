{
  if (propertyId == null || field == null) {
    return;
  }
  Layout layout=parentForm.getLayout();
  LegacyField oldField=fields.get(propertyId);
  if (oldField != null) {
    layout.removeComponent(oldField);
  }
  fields.put(propertyId,field);
  if (layout instanceof CustomLayout) {
    ((CustomLayout)layout).addComponent(field,propertyId.toString());
  }
 else {
    layout.addComponent(field);
  }
}
