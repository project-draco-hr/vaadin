{
  setVisible(!uidl.getBooleanAttribute("invisible"));
  setStyleName(getElement(),"i-disabled",uidl.hasAttribute("disabled"));
  boolean isEmpty=true;
  boolean wasPlacedAfterComponent=placedAfterComponent;
  placedAfterComponent=true;
  if (uidl.hasAttribute("icon")) {
    if (icon == null) {
      icon=new Icon(client);
      DOM.sinkEvents(icon.getElement(),Event.ONLOAD);
      Util.setFloat(icon.getElement(),"left");
      placedAfterComponent=false;
      DOM.insertChild(getElement(),icon.getElement(),0);
    }
    icon.setUri(uidl.getStringAttribute("icon"));
    isEmpty=false;
  }
 else {
    if (icon != null) {
      DOM.removeChild(getElement(),icon.getElement());
      icon=null;
    }
  }
  if (uidl.hasAttribute("caption")) {
    if (captionText == null) {
      captionText=DOM.createDiv();
      Util.setFloat(captionText,"left");
      DOM.setStyleAttribute(captionText,"overflow","hidden");
      DOM.insertChild(getElement(),captionText,icon == null ? 0 : 1);
    }
    String c=uidl.getStringAttribute("caption");
    if (c == null) {
      c="";
    }
 else {
      isEmpty=false;
      placedAfterComponent=false;
    }
    DOM.setInnerText(captionText,c);
  }
 else {
  }
  if (uidl.hasAttribute("description")) {
    if (captionText != null) {
      addStyleDependentName("hasdescription");
    }
 else {
      removeStyleDependentName("hasdescription");
    }
  }
  if (uidl.getBooleanAttribute("required")) {
    isEmpty=false;
    if (requiredFieldIndicator == null) {
      requiredFieldIndicator=DOM.createDiv();
      Util.setFloat(requiredFieldIndicator,"left");
      DOM.setInnerText(requiredFieldIndicator,"*");
      DOM.setElementProperty(requiredFieldIndicator,"className","i-required-field-indicator");
      DOM.appendChild(getElement(),requiredFieldIndicator);
    }
  }
 else {
    if (requiredFieldIndicator != null) {
      DOM.removeChild(getElement(),requiredFieldIndicator);
      requiredFieldIndicator=null;
    }
  }
  if (uidl.hasAttribute("error")) {
    isEmpty=false;
    if (errorIndicatorElement == null) {
      errorIndicatorElement=DOM.createDiv();
      DOM.setInnerHTML(errorIndicatorElement,"&nbsp;");
      DOM.setElementProperty(errorIndicatorElement,"className","i-errorindicator");
      DOM.appendChild(getElement(),errorIndicatorElement);
    }
  }
 else   if (errorIndicatorElement != null) {
    DOM.removeChild(getElement(),errorIndicatorElement);
    errorIndicatorElement=null;
  }
  if (clearElement == null) {
    clearElement=DOM.createDiv();
    DOM.setStyleAttribute(clearElement,"clear","both");
    DOM.setStyleAttribute(clearElement,"width","0px");
    DOM.setStyleAttribute(clearElement,"height","0px");
    DOM.setStyleAttribute(clearElement,"overflow","hidden");
    DOM.appendChild(getElement(),clearElement);
  }
  if (Util.isIE()) {
    if (isEmpty) {
      setHeight("0px");
      DOM.setStyleAttribute(getElement(),"overflow","hidden");
    }
 else {
      setHeight("");
      DOM.setStyleAttribute(getElement(),"overflow","");
    }
  }
  return (wasPlacedAfterComponent != placedAfterComponent);
}
