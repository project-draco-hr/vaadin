{
  setMainWindow(main);
  Embedded appResourceTest=new Embedded("Test of ApplicationResources with full path",new FlagSeResource(this));
  main.addComponent(appResourceTest);
  Embedded specialNameResourceTest=new Embedded("Test ApplicationResources with special names",new SpecialNameResource(this));
  main.addComponent(specialNameResourceTest);
  userInfo.setCaption("User info");
  userInfo.setContentMode(ContentMode.PREFORMATTED);
  main.addComponent(userInfo);
  tf.setEnabled(false);
  tf.setImmediate(true);
  main.addComponent(tf);
  portletEdit.setEnabled(false);
  main.addComponent(portletEdit);
  portletMax.setEnabled(false);
  main.addComponent(portletMax);
  Upload upload=new Upload("Upload a file",new Receiver(){
    public OutputStream receiveUpload(    String filename,    String mimeType){
      return new ByteArrayOutputStream();
    }
  }
);
  main.addComponent(upload);
  if (getContext() instanceof PortletApplicationContext2) {
    PortletApplicationContext2 ctx=(PortletApplicationContext2)getContext();
    ctx.addPortletListener(this,new DemoPortletListener());
  }
 else {
    getMainWindow().showNotification("Not inited via Portal!",Notification.TYPE_ERROR_MESSAGE);
  }
}
