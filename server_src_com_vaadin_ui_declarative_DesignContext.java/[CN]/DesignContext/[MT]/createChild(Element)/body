{
  DesignSynchronizable component=instantiateComponent(componentDesign);
  component.synchronizeFromDesign(componentDesign,this);
  org.jsoup.nodes.Attributes attributes=componentDesign.attributes();
  String id=component.getCaption();
  if (id != null && id.length() > 0) {
    boolean mappingExists=mapGlobalId(id,component);
    if (mappingExists) {
      throw new LayoutInflaterException("The following global id is not unique: " + id);
    }
  }
  String localId=null;
  for (  Attribute attribute : attributes.asList()) {
    if (attribute.getKey().startsWith(LOCAL_ID_PREFIX)) {
      if (localId != null) {
        throw new LayoutInflaterException("Duplicate local ids specified: " + localId + " and "+ attribute.getKey().substring(LOCAL_ID_PREFIX.length()));
      }
      localId=attribute.getKey().substring(LOCAL_ID_PREFIX.length());
      mapLocalId(localId,component);
    }
  }
  String caption=component.getCaption();
  if (caption != null) {
    mapCaption(caption,component);
  }
  return component;
}
