{
  final String classname=CLASSNAME + "-tabitem-selected";
  String classname2=CLASSNAME + "-tabitemcell-selected" + (index == 0 ? "-first" : "");
  final Widget newSelected=getWidget(index);
  final com.google.gwt.dom.client.Element div=newSelected.getElement().getParentElement();
  Widget.setStyleName(div,classname,true);
  Widget.setStyleName(div.getParentElement(),classname2,true);
  if (oldSelected != null && oldSelected != newSelected) {
    classname2=CLASSNAME + "-tabitemcell-selected" + (getWidgetIndex(oldSelected) == 0 ? "-first" : "");
    final com.google.gwt.dom.client.Element divOld=oldSelected.getElement().getParentElement();
    Widget.setStyleName(divOld,classname,false);
    Widget.setStyleName(divOld.getParentElement(),classname2,false);
  }
  oldSelected=newSelected;
  updateCaptionSize(index);
  updateCaptionSize(activeTabIndex);
}
