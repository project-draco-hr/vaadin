{
  int tabsWidth=0;
  int count=tb.getTabCount();
  for (int i=0; i < count; i++) {
    Element tabTd=tb.getTab(i).getElement().getParentElement().cast();
    tabsWidth+=tabTd.getOffsetWidth();
  }
  Style style=tp.getElement().getStyle();
  String overflow=style.getProperty("overflow");
  style.setProperty("overflow","hidden");
  style.setPropertyPx("width",tabsWidth);
  Style wrapperstyle=tp.getWidget(tp.getVisibleWidget()).getElement().getParentElement().getStyle();
  wrapperstyle.setPropertyPx("width",tabsWidth);
  int contentWidth=0;
  if (tp.getWidgetCount() > 0) {
    contentWidth=tp.getWidget(tp.getVisibleWidget()).getOffsetWidth();
  }
  style.setProperty("overflow",overflow);
  if (tabsWidth < contentWidth) {
    tabsWidth=contentWidth;
  }
  int outerWidth=tabsWidth + getContentAreaBorderWidth();
  tabs.getStyle().setPropertyPx("width",outerWidth);
  style.setPropertyPx("width",tabsWidth);
  wrapperstyle.setPropertyPx("width",tabsWidth);
  contentNode.getStyle().setPropertyPx("width",tabsWidth);
  super.setWidth(outerWidth + "px");
  updateOpenTabSize();
}
