{
  Class<?>[] interfaces=implementation.getClass().getInterfaces();
  if (interfaces.length != 1) {
    throw new RuntimeException("Use registerRpc(T implementation, Class<T> rpcInterfaceType) if the Rpc implementation implements more than one interface");
  }
  Class<T> type=(Class<T>)interfaces[0];
  registerRpc(implementation,type);
}
