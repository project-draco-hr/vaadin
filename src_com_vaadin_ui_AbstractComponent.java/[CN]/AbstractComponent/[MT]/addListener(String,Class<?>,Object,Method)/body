{
  if (eventRouter == null) {
    eventRouter=new EventRouter();
  }
  if (eventIdentifiers == null) {
    eventIdentifiers=new HashSet<String>();
  }
  boolean needRepaint=!eventRouter.hasListeners(eventType);
  eventRouter.addListener(eventType,target,method);
  if (needRepaint) {
    eventIdentifiers.add(eventIdentifier);
    requestRepaint();
  }
}
