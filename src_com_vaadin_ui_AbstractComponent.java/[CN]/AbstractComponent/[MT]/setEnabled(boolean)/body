{
  if (this.enabled != enabled) {
    boolean wasEnabled=this.enabled;
    boolean wasEnabledInContext=isEnabled();
    this.enabled=enabled;
    boolean isEnabled=enabled;
    boolean isEnabledInContext=isEnabled();
    boolean needRepaint=(wasEnabledInContext != isEnabledInContext) || (wasEnabled != isEnabled && (getParent() == null || !getParent().isVisible()));
    if (needRepaint) {
      requestRepaint();
    }
  }
}
