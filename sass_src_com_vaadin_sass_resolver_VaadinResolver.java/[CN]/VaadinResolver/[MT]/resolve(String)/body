{
  String ext=".scss";
  if (identifier.endsWith(".css")) {
    ext=".css";
  }
  String fileName=identifier;
  if (identifier.endsWith(ext)) {
    identifier=identifier.substring(0,identifier.length() - ext.length());
  }
  String themeFile="VAADIN/themes/" + identifier + "/"+ fileName;
  ScssStylesheetResolver resolver=new FilesystemResolver();
  InputSource source=resolver.resolve(fileName);
  if (source == null) {
    source=resolver.resolve(themeFile);
  }
  if (source == null) {
    resolver=new ClassloaderResolver();
    source=resolver.resolve(identifier);
  }
  if (source == null) {
    source=resolver.resolve(themeFile);
  }
  return source;
}
