{
  setStyleName(CLASSNAME);
  header=DOM.createDiv();
  DOM.setElementProperty(header,"className",CLASSNAME + "-outerheader");
  headerText=DOM.createDiv();
  DOM.setElementProperty(headerText,"className",CLASSNAME + "-header");
  contents=DOM.createDiv();
  DOM.setElementProperty(contents,"className",CLASSNAME + "-contents");
  footer=DOM.createDiv();
  DOM.setElementProperty(footer,"className",CLASSNAME + "-footer");
  resizeBox=DOM.createDiv();
  DOM.setElementProperty(resizeBox,"className",CLASSNAME + "-resizebox");
  closeBox=DOM.createDiv();
  DOM.setElementProperty(closeBox,"className",CLASSNAME + "-closebox");
  DOM.appendChild(footer,resizeBox);
  DOM.sinkEvents(getElement(),Event.ONLOSECAPTURE);
  DOM.sinkEvents(closeBox,Event.ONCLICK);
  DOM.sinkEvents(contents,Event.ONCLICK);
  final Element wrapper=DOM.createDiv();
  DOM.setElementProperty(wrapper,"className",CLASSNAME + "-wrap");
  final Element wrapper2=DOM.createDiv();
  DOM.setElementProperty(wrapper2,"className",CLASSNAME + "-wrap2");
  DOM.sinkEvents(wrapper,Event.ONKEYDOWN);
  DOM.appendChild(wrapper2,closeBox);
  DOM.appendChild(wrapper2,header);
  DOM.appendChild(header,headerText);
  DOM.appendChild(wrapper2,contents);
  DOM.appendChild(wrapper2,footer);
  DOM.appendChild(wrapper,wrapper2);
  DOM.appendChild(super.getContainerElement(),wrapper);
  sinkEvents(Event.MOUSEEVENTS);
  setWidget(contentPanel);
}
