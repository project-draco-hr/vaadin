{
  if (isMultiSelect()) {
    if (newValue == null) {
      super.setValue(new HashSet<Object>(),repaintIsNotNeeded);
    }
 else     if (Collection.class.isAssignableFrom(newValue.getClass())) {
      super.setValue(new HashSet<Object>((Collection<?>)newValue),repaintIsNotNeeded);
    }
  }
 else   if (newValue == null || items.containsId(newValue)) {
    super.setValue(newValue,repaintIsNotNeeded);
  }
}
