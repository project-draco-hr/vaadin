{
  final String styleAttribute=vertical ? "height" : "width";
  final String handleAttribute=vertical ? "marginTop" : "marginLeft";
  final String oppositeHandleAttribute=vertical ? "marginLeft" : "marginTop";
  final String domProperty=vertical ? "offsetHeight" : "offsetWidth";
  DOM.setStyleAttribute(handle,handleAttribute,"0");
  DOM.setStyleAttribute(handle,oppositeHandleAttribute,"");
  if (scrollbarStyle) {
    int s=(int)(Double.parseDouble(DOM.getElementProperty(base,domProperty)) / 100 * handleSize);
    if (handleSize == -1) {
      final int baseS=Integer.parseInt(DOM.getElementProperty(base,domProperty));
      final double range=(max - min) * (resolution + 1) * 3;
      s=(int)(baseS - range);
    }
    if (s < 3) {
      s=3;
    }
    DOM.setStyleAttribute(handle,styleAttribute,s + "px");
  }
 else {
    DOM.setStyleAttribute(handle,styleAttribute,"");
  }
  DOM.setStyleAttribute(handle,"visibility","visible");
}
