{
  if (!isActive()) {
    bringToFront();
  }
  Element target=DOM.eventGetTarget(event);
  if (dragging || DOM.compare(header,target))   onHeaderEvent(event);
 else   if (resizing || DOM.compare(resizeBox,target))   onResizeEvent(event);
 else   if (DOM.compare(target,closeBox) && DOM.eventGetType(event) == Event.ONCLICK) {
    onCloseClick();
  }
}
