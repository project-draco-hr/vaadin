{
  if (!matches(seq)) {
    throw new IllegalStateException("Queue did not match expected sequence");
  }
  int len=seq.length();
  if (len > remainingLength()) {
    throw new IllegalStateException("Queue not long enough to consume sequence");
  }
  pos+=len;
}
