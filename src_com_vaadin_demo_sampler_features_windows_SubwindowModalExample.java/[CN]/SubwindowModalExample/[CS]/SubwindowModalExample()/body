{
  subwindow=new Window("A modal subwindow");
  subwindow.setModal(true);
  VerticalLayout layout=(VerticalLayout)subwindow.getContent();
  layout.setMargin(true);
  layout.setSpacing(true);
  Label message=new Label("This is a modal subwindow.");
  subwindow.addComponent(message);
  Button close=new Button("Close",new Button.ClickListener(){
    public void buttonClick(    ClickEvent event){
      getApplication().getMainWindow().removeWindow(subwindow);
    }
  }
);
  layout.addComponent(close);
  layout.setComponentAlignment(close,"right");
  Button open=new Button("Open modal window",new Button.ClickListener(){
    public void buttonClick(    ClickEvent event){
      if (subwindow.getParent() != null) {
        getWindow().showNotification("Window is already open");
      }
 else {
        getApplication().getMainWindow().addWindow(subwindow);
      }
    }
  }
);
  addComponent(open);
}
