{
  Collection<String> options=Arrays.asList("a","b","c");
  final ListSelect listSelect=new ListSelect("ListSelect",options);
  listSelect.setNullSelectionAllowed(true);
  final OptionGroup optionGroup=new OptionGroup("OptionGroup",options);
  listSelect.setPropertyDataSource(optionGroup);
  final OptionGroup modeSelect=new OptionGroup("Mode",Arrays.asList("Single","Multi"));
  modeSelect.setValue("Single");
  modeSelect.addValueChangeListener(new ValueChangeListener(){
    @Override public void valueChange(    ValueChangeEvent event){
      optionGroup.setValue(null);
      boolean multiSelect="Multi".equals(modeSelect.getValue());
      listSelect.setMultiSelect(multiSelect);
      optionGroup.setMultiSelect(multiSelect);
    }
  }
);
  Button selectNullButton=new Button("Select null",new Button.ClickListener(){
    @Override public void buttonClick(    ClickEvent event){
      listSelect.setValue(null);
      listSelect.markAsDirty();
    }
  }
);
  addComponents(modeSelect,listSelect,optionGroup,selectNullButton);
}
