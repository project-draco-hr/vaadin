{
  return new AnimationEndListener(){
    @Override public void onAnimationEnd(    NativeEvent event){
      AnimationUtil.unregisterAnimationEndEventListeners(getElement());
      String animationName=AnimationUtil.getAnimationName(event);
      if (animationName.contains(ADDITIONAL_CLASSNAME_ANIMATE_IN)) {
        removeStyleDependentName(ADDITIONAL_CLASSNAME_ANIMATE_IN);
        if (isShadowEnabled()) {
          shadow.removeClassName(CLASSNAME_SHADOW + "-" + ADDITIONAL_CLASSNAME_ANIMATE_IN);
        }
      }
 else       if (animationName.contains(ADDITIONAL_CLASSNAME_ANIMATE_OUT)) {
        removeStyleDependentName(ADDITIONAL_CLASSNAME_ANIMATE_OUT);
        if (isShadowEnabled()) {
          shadow.removeClassName(CLASSNAME_SHADOW + "-" + ADDITIONAL_CLASSNAME_ANIMATE_OUT);
        }
        VOverlay.super.hide(autoClosed);
      }
    }
  }
;
}
