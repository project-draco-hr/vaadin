{
  if (BrowserInfo.get().isIE8() || BrowserInfo.get().isIE9()) {
    super.hide(autoClosed);
  }
 else {
    if (getStyleName().contains(ADDITIONAL_CLASSNAME_ANIMATE_IN)) {
      AnimationUtil.addAnimationEndListener(getElement(),new AnimationEndListener(){
        @Override public void onAnimationEnd(        NativeEvent event){
          if (AnimationUtil.getAnimationName(event).contains(ADDITIONAL_CLASSNAME_ANIMATE_IN)) {
            VOverlay.this.hide(autoClosed);
          }
        }
      }
);
    }
 else {
      addStyleDependentName(ADDITIONAL_CLASSNAME_ANIMATE_OUT);
      if (isShadowEnabled()) {
        shadow.addClassName(CLASSNAME_SHADOW + "-" + ADDITIONAL_CLASSNAME_ANIMATE_OUT);
      }
      ComputedStyle cs=new ComputedStyle(getElement());
      String animationName=AnimationUtil.getAnimationName(cs);
      if (animationName == null) {
        animationName="";
      }
      if (animationName.contains(ADDITIONAL_CLASSNAME_ANIMATE_OUT)) {
        setAnimationEnabled(false);
        AnimationUtil.addAnimationEndListener(getElement(),new AnimationEndListener(){
          @Override public void onAnimationEnd(          NativeEvent event){
            String animationName=AnimationUtil.getAnimationName(event);
            if (animationName.contains(ADDITIONAL_CLASSNAME_ANIMATE_OUT)) {
              AnimationUtil.removeAllAnimationEndListeners(getElement());
              removeStyleDependentName(ADDITIONAL_CLASSNAME_ANIMATE_IN);
              removeStyleDependentName(ADDITIONAL_CLASSNAME_ANIMATE_OUT);
              if (isShadowEnabled()) {
                shadow.removeClassName(CLASSNAME_SHADOW + "-" + ADDITIONAL_CLASSNAME_ANIMATE_IN);
                shadow.removeClassName(CLASSNAME_SHADOW + "-" + ADDITIONAL_CLASSNAME_ANIMATE_OUT);
              }
              VOverlay.super.hide(autoClosed);
            }
          }
        }
);
        VOverlay.this.setPreviewingAllNativeEvents(false);
      }
 else {
        removeStyleDependentName(ADDITIONAL_CLASSNAME_ANIMATE_OUT);
        if (isShadowEnabled()) {
          shadow.removeClassName(CLASSNAME_SHADOW + "-" + ADDITIONAL_CLASSNAME_ANIMATE_OUT);
        }
        super.hide(autoClosed);
      }
    }
  }
}
