{
  registerRpc(new TextFieldServerRpc(){
    @Override public void blur(){
      fireEvent(new BlurEvent(AbstractTextField.this));
    }
    @Override public void focus(){
      fireEvent(new FocusEvent(AbstractTextField.this));
    }
    @Override public void setText(    String text,    int cursorPosition){
      getUI().getConnectorTracker().getDiffState(AbstractTextField.this).put("text",text);
      getUI().getConnectorTracker().getDiffState(AbstractTextField.this).put("cursorPosition",cursorPosition);
      getState(false).cursorPosition=cursorPosition;
      setValue(text,true);
    }
  }
);
}
