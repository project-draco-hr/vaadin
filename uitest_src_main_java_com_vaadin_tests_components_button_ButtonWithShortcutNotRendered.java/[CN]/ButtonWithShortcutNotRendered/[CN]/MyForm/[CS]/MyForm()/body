{
  setWidth(100,Unit.PERCENTAGE);
  setHeight(null);
  setImmediate(true);
  setFormFieldFactory(new DefaultFieldFactory(){
    @Override public LegacyTextField createField(    Item item,    Object propertyId,    Component uiContext){
      LegacyTextField t=new LegacyTextField();
      t.setWidth(100,Unit.PERCENTAGE);
      t.setHeight(null);
      t.setCaption((String)propertyId);
      t.setImmediate(false);
      return t;
    }
  }
);
  layout=new GridLayout(2,1);
  layout.setWidth(100,Unit.PERCENTAGE);
  layout.setHeight(null);
  layout.setColumnExpandRatio(0,0.5f);
  layout.setColumnExpandRatio(1,0.5f);
  layout.setMargin(true);
  layout.setSpacing(true);
  setLayout(layout);
  HorizontalLayout footer=new HorizontalLayout();
  footer.setSpacing(true);
  footer.setMargin(false);
  footer.setVisible(false);
  setFooter(footer);
  defaultButton=new Button("Default Button",this);
  defaultButton.setClickShortcut(KeyCode.ENTER);
  footer.addComponent(defaultButton);
  otherButton=new Button("Other button",this);
  footer.addComponent(otherButton);
}
