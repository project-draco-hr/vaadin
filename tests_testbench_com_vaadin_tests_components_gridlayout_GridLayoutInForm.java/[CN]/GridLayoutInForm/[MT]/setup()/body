{
  final List<String> propertyIds=new ArrayList<String>();
  for (int i=0; i < 50; i++) {
    propertyIds.add("property " + i);
  }
  GridLayout gridLayout=new GridLayout();
  gridLayout.setSizeUndefined();
  gridLayout.setColumns(2);
  gridLayout.setSpacing(true);
  PropertysetItem item=new PropertysetItem();
  for (  String propertyId : propertyIds) {
    item.addItemProperty(propertyId,new ObjectProperty<String>(propertyId));
  }
  final Form form=new Form(gridLayout);
  form.setItemDataSource(item);
  form.setSizeUndefined();
  Panel panel=new Panel();
  panel.addComponent(form);
  panel.setHeight("500px");
  addComponent(panel);
  addComponent(new Button("Use 15 first fields",new Button.ClickListener(){
    @Override public void buttonClick(    ClickEvent event){
      form.setVisibleItemProperties(propertyIds.subList(0,15));
    }
  }
));
  addComponent(new Button("Use 15 last fields",new Button.ClickListener(){
    @Override public void buttonClick(    ClickEvent event){
      form.setVisibleItemProperties(propertyIds.subList(35,50));
    }
  }
));
  addComponent(new Button("Use all fields",new Button.ClickListener(){
    @Override public void buttonClick(    ClickEvent event){
      form.setVisibleItemProperties(propertyIds);
    }
  }
));
}
