{
  if (rangeStart != null && rangeStart.after(date)) {
    date=(Date)rangeStart.clone();
  }
 else   if (rangeEnd != null && rangeEnd.before(date)) {
    date=(Date)rangeEnd.clone();
  }
  return date;
}
