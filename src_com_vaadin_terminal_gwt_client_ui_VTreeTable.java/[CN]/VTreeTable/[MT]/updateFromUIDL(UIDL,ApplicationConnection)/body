{
  FocusableScrollPanel widget=null;
  int scrollPosition=0;
  if (collapseRequest) {
    widget=(FocusableScrollPanel)getWidget(1);
    scrollPosition=widget.getScrollPosition();
  }
  animationsEnabled=uidl.getBooleanAttribute("animate");
  colIndexOfHierarchy=uidl.hasAttribute(ATTRIBUTE_HIERARCHY_COLUMN_INDEX) ? uidl.getIntAttribute(ATTRIBUTE_HIERARCHY_COLUMN_INDEX) : 0;
  super.updateFromUIDL(uidl,client);
  if (collapseRequest) {
    if (collapsedRowKey != null && scrollBody != null) {
      VScrollTableRow row=getRenderedRowByKey(collapsedRowKey);
      if (row != null) {
        setRowFocus(row);
        focus();
      }
    }
    int scrollPosition2=widget.getScrollPosition();
    if (scrollPosition != scrollPosition2) {
      widget.setScrollPosition(scrollPosition);
    }
    onScroll(null);
    triggerLazyColumnAdjustment(true);
    collapseRequest=false;
  }
  if (uidl.hasAttribute("focusedRow")) {
    String key=uidl.getStringAttribute("focusedRow");
    setRowFocus(getRenderedRowByKey(key));
  }
}
