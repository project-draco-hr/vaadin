{
  if (event.getProperty() == features) {
    Object id=features.getValue();
    if (id != null) {
      if (features.areChildrenAllowed(id))       features.expandItem(id);
      Property p=features.getContainerProperty(id,"feature");
      Feature feature=p != null ? ((Feature)p.getValue()) : null;
      if (feature != null) {
        layout.replaceComponent(currentFeature,feature);
        currentFeature=feature;
        properties=feature.getPropertyPanel();
        if (properties != null) {
          Iterator i=right.getComponentIterator();
          i.next();
          PropertyPanel oldProps=(PropertyPanel)i.next();
          if (oldProps != null)           right.replaceComponent(oldProps,properties);
 else           right.addComponent(properties);
          properties.setVisible(((Boolean)propertiesSelect.getValue()).booleanValue());
        }
        getWindow().setCaption("IT Mill Toolkit Features / " + features.getContainerProperty(id,"name"));
      }
    }
  }
 else   if (event.getProperty() == themeSelector) {
    getApplication().setTheme(themeSelector.toString());
  }
}
