{
  if (id == null || property == null) {
    throw new NullPointerException("Id and property must be non-null");
  }
  if (propertyIds.contains(id)) {
    return false;
  }
  final Field field=fieldFactory.createField(this,property,this);
  if (field == null) {
    return false;
  }
  try {
    field.setPropertyDataSource(property);
    String caption=id.toString();
    if (caption.length() > 50) {
      caption=caption.substring(0,47) + "...";
    }
    if (caption.length() > 0) {
      caption="" + Character.toUpperCase(caption.charAt(0)) + caption.substring(1,caption.length());
    }
    field.setCaption(caption);
  }
 catch (  final Throwable ignored) {
    return false;
  }
  addField(id,field);
  return true;
}
