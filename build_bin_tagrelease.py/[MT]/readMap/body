def readMap(fin, separator):
    lines = map((lambda x: x.strip()), fin.readlines())
    values = {}
    for line in lines:
        if (line == ''):
            continue
        m = re.match(separator, line)
        if (not m):
            print ("Line '%s' not parseable." % line)
            sys.exit(1)
        values[m.group(1)] = m.group(2)
    return values
