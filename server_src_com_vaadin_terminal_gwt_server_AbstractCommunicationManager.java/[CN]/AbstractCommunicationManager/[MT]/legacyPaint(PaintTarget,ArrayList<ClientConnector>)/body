{
  List<Vaadin6Component> legacyComponents=new ArrayList<Vaadin6Component>();
  for (  Connector connector : dirtyVisibleConnectors) {
    if (connector instanceof Vaadin6Component) {
      legacyComponents.add((Vaadin6Component)connector);
    }
  }
  sortByHierarchy((List)legacyComponents);
  for (  Vaadin6Component c : legacyComponents) {
    getLogger().fine("Painting Vaadin6Component " + c.getClass().getName() + "@"+ Integer.toHexString(c.hashCode()));
    paintTarget.startTag("change");
    final String pid=c.getConnectorId();
    paintTarget.addAttribute("pid",pid);
    LegacyPaint.paint(c,paintTarget);
    paintTarget.endTag("change");
  }
}
