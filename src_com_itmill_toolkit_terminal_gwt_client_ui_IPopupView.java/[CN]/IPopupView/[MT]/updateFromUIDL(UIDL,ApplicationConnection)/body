{
  if (client.updateComponent(this,uidl,false)) {
    return;
  }
  this.client=client;
  uidlId=uidl.getId();
  hostPopupVisible=uidl.getBooleanVariable("popupVisibility");
  setHTML(uidl.getStringAttribute("html"));
  if (uidl.hasAttribute("description")) {
    setTitle(uidl.getStringAttribute("description"));
  }
  if (uidl.hasAttribute("hideOnMouseOut")) {
    popup.setHideOnMouseOut(uidl.getBooleanAttribute("hideOnMouseOut"));
  }
  if (hostPopupVisible) {
    UIDL popupUIDL=uidl.getChildUIDL(0);
    preparePopup(popup);
    popup.updateFromUIDL(popupUIDL,client);
    if (uidl.hasAttribute("style")) {
      final String[] styles=uidl.getStringAttribute("style").split(" ");
      final StringBuffer styleBuf=new StringBuffer();
      final String primaryName=popup.getStylePrimaryName();
      styleBuf.append(primaryName);
      for (int i=0; i < styles.length; i++) {
        styleBuf.append(" ");
        styleBuf.append(primaryName);
        styleBuf.append("-");
        styleBuf.append(styles[i]);
      }
      popup.setStyleName(styleBuf.toString());
    }
 else {
      popup.setStyleName(popup.getStylePrimaryName());
    }
    showPopup(popup);
  }
 else {
    popup.hide();
  }
}
