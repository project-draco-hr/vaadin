{
  Tree tree=new Tree();
  tree.setImmediate(true);
  tree.addContainerProperty("caption",String.class,"");
  for (int i=1; i <= 10; i++) {
    String item="Node " + i;
    tree.addItem(item);
    tree.getContainerProperty(item,"caption").setValue("Caption " + i);
    tree.setChildrenAllowed(item,false);
  }
  tree.setItemCaptionMode(Tree.ITEM_CAPTION_MODE_PROPERTY);
  tree.setItemCaptionPropertyId("caption");
  tree.addListener(new ItemClickEvent.ItemClickListener(){
    @Override public void itemClick(    ItemClickEvent event){
      clickCounter++;
switch (event.getButton()) {
case ItemClickEvent.BUTTON_LEFT:
        log.log("Left Click");
      break;
case ItemClickEvent.BUTTON_RIGHT:
    log.log("Right Click");
  break;
case ItemClickEvent.BUTTON_MIDDLE:
log.log("Middle Click");
break;
}
}
}
);
addComponent(tree);
addComponent(log);
}
