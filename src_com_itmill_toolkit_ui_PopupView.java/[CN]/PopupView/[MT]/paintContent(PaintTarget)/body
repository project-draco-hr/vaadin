{
  super.paintContent(target);
  String html=content.getMinimizedValueAsHTML();
  if (html == null) {
    throw new PaintException("Recieved null when trying to paint minimized value.");
  }
  target.addAttribute("html",content.getMinimizedValueAsHTML());
  target.addAttribute("popupVisible",popupVisible);
  target.addAttribute("animation",animationEnabled);
  if (popupVisible) {
    Component c=content.getPopupComponent();
    if (c == null) {
      throw new PaintException("Received null when trying to paint popup component");
    }
    target.startTag("popupComponent");
    c.paint(target);
    target.endTag("popupComponent");
  }
}
