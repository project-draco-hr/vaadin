{
  final StringBuffer buf=new StringBuffer();
  if (values != null) {
    for (int i=0; i < values.length; i++) {
      if (i > 0) {
        buf.append(VAR_ARRAYITEM_SEPARATOR);
      }
      Object value=values[i];
      char transportType=getTransportType(value);
      buf.append(transportType);
      if (transportType == 'p') {
        buf.append(getPid((Paintable)value));
      }
 else {
        buf.append(escapeVariableValue(String.valueOf(value)));
      }
    }
  }
  addVariableToQueue(paintableId,variableName,buf.toString(),immediate,'a');
}
