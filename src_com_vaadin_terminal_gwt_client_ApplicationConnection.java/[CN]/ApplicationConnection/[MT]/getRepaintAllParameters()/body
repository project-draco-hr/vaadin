{
  int clientHeight=Window.getClientHeight();
  int clientWidth=Window.getClientWidth();
  com.google.gwt.dom.client.Element pe=view.getElement().getParentElement();
  int offsetHeight=pe.getOffsetHeight();
  int offsetWidth=pe.getOffsetWidth();
  int screenWidth=BrowserInfo.get().getScreenWidth();
  int screenHeight=BrowserInfo.get().getScreenHeight();
  int tzOffset=BrowserInfo.get().getTimezoneOffset();
  int rtzOffset=BrowserInfo.get().getRawTimezoneOffset();
  int dstDiff=BrowserInfo.get().getDSTSavings();
  boolean dstInEffect=BrowserInfo.get().isDSTInEffect();
  long curDate=BrowserInfo.get().getCurrentDate().getTime();
  String widgetsetVersion=ApplicationConfiguration.VERSION;
  String token=History.getToken();
  String parameters="repaintAll=1&" + "sh=" + screenHeight + "&sw="+ screenWidth+ "&cw="+ clientWidth+ "&ch="+ clientHeight+ "&vw="+ offsetWidth+ "&vh="+ offsetHeight+ "&fr="+ token+ "&tzo="+ tzOffset+ "&rtzo="+ rtzOffset+ "&dstd="+ dstDiff+ "&dston="+ dstInEffect+ "&curdate="+ curDate+ "&wsver="+ widgetsetVersion+ (BrowserInfo.get().isTouchDevice() ? "&td=1" : "");
  return parameters;
}
