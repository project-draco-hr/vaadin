{
  SharedState state=paintable.getState();
  String w="";
  String h="";
  if (null != state) {
    VConsole.log("Paintable state for " + getPaintableMap().getPid(paintable) + ": "+ String.valueOf(state.getState()));
    if (state.getState().containsKey(ComponentState.STATE_WIDTH)) {
      w=String.valueOf(state.getState().get(ComponentState.STATE_WIDTH));
    }
    if (state.getState().containsKey(ComponentState.STATE_HEIGHT)) {
      h=String.valueOf(state.getState().get(ComponentState.STATE_HEIGHT));
    }
  }
 else {
    VConsole.log("No state for paintable " + getPaintableMap().getPid(paintable) + " in ApplicationConnection.updateComponentSize()");
  }
  float relativeWidth=Util.parseRelativeSize(w);
  float relativeHeight=Util.parseRelativeSize(h);
  if (relativeHeight >= 0.0 || relativeWidth >= 0.0) {
    FloatSize relativeSize=new FloatSize(relativeWidth,relativeHeight);
    if (paintableMap.getRelativeSize(paintable) == null && paintableMap.getOffsetSize(paintable) != null) {
      relativeSizeChanges.add(paintable);
    }
    paintableMap.setRelativeSize(paintable,relativeSize);
  }
 else   if (relativeHeight < 0.0 && relativeWidth < 0.0) {
    if (paintableMap.getRelativeSize(paintable) != null) {
      relativeSizeChanges.add(paintable);
    }
    paintableMap.setRelativeSize(paintable,null);
  }
  Widget component=paintableMap.getWidget(paintable);
  if (relativeHeight < 0.0) {
    component.setHeight(h);
  }
  if (relativeWidth < 0.0) {
    component.setWidth(w);
  }
  if (relativeHeight >= 0.0 || relativeWidth >= 0.0) {
    handleComponentRelativeSize(paintable);
  }
}
