{
  Panel panel=new Panel();
  setContent(panel);
  GridLayout gridLayout=new GridLayout();
  gridLayout.setWidth("500px");
  panel.setContent(gridLayout);
  gridLayout.setColumns(1);
  gridLayout.setRows(1);
  Label dummyLabel=new Label("Dummy");
  dummyLabel.setHeight("500px");
  gridLayout.addComponent(dummyLabel);
  final CheckBox visibilityToggleCheckBox=new CheckBox("Hide / Show toggleable components");
  visibilityToggleCheckBox.setId("visibility-toggle");
  visibilityToggleCheckBox.setHeight("2000px");
  visibilityToggleCheckBox.setImmediate(true);
  visibilityToggleCheckBox.setValue(false);
  gridLayout.addComponent(visibilityToggleCheckBox);
  final Label toggleableLabel=new Label("Toggleable Label");
  toggleableLabel.setHeight("2000px");
  toggleableLabel.setVisible(false);
  gridLayout.addComponent(toggleableLabel);
  visibilityToggleCheckBox.addValueChangeListener(new ValueChangeListener(){
    @Override public void valueChange(    ValueChangeEvent event){
      toggleableLabel.setVisible(visibilityToggleCheckBox.getValue());
    }
  }
);
}
