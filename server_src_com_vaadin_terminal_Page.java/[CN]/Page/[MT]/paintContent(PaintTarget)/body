{
  if (!openList.isEmpty()) {
    for (final Iterator<OpenResource> i=openList.iterator(); i.hasNext(); ) {
      (i.next()).paintContent(target);
    }
    openList.clear();
  }
  if (notifications != null) {
    target.startTag("notifications");
    for (final Iterator<Notification> it=notifications.iterator(); it.hasNext(); ) {
      final Notification n=it.next();
      target.startTag("notification");
      if (n.getCaption() != null) {
        target.addAttribute(VNotification.ATTRIBUTE_NOTIFICATION_CAPTION,n.getCaption());
      }
      if (n.getDescription() != null) {
        target.addAttribute(VNotification.ATTRIBUTE_NOTIFICATION_MESSAGE,n.getDescription());
      }
      if (n.getIcon() != null) {
        target.addAttribute(VNotification.ATTRIBUTE_NOTIFICATION_ICON,n.getIcon());
      }
      if (!n.isHtmlContentAllowed()) {
        target.addAttribute(VRoot.NOTIFICATION_HTML_CONTENT_NOT_ALLOWED,true);
      }
      target.addAttribute(VNotification.ATTRIBUTE_NOTIFICATION_POSITION,n.getPosition());
      target.addAttribute(VNotification.ATTRIBUTE_NOTIFICATION_DELAY,n.getDelayMsec());
      if (n.getStyleName() != null) {
        target.addAttribute(VNotification.ATTRIBUTE_NOTIFICATION_STYLE,n.getStyleName());
      }
      target.endTag("notification");
    }
    target.endTag("notifications");
    notifications=null;
  }
  if (fragment != null) {
    target.addAttribute(VRoot.FRAGMENT_VARIABLE,fragment);
  }
}
