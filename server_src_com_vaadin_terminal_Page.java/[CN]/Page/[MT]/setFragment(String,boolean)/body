{
  if (newFragment == null) {
    throw new NullPointerException("The fragment may not be null");
  }
  if (!newFragment.equals(fragment)) {
    fragment=newFragment;
    if (fireEvents) {
      fireEvent(new FragmentChangedEvent(this,newFragment));
    }
    root.requestRepaint();
  }
}
