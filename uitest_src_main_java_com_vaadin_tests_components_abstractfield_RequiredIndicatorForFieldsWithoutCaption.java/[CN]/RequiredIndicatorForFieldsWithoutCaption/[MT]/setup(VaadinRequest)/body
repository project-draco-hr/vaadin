{
  CheckBox required=new CheckBox("Fields required",true);
  required.setImmediate(true);
  required.addValueChangeListener(new ValueChangeListener(){
    @Override public void valueChange(    ValueChangeEvent event){
      boolean required=(Boolean)event.getProperty().getValue();
      for (      Field f : fields) {
        f.setRequired(required);
      }
    }
  }
);
  addComponent(required);
  addComponent(createWrappedTextField(new GridLayout(2,1)));
  addComponent(createWrappedTextField(new VerticalLayout()));
  addComponent(createWrappedTextField(new HorizontalLayout()));
  AbsoluteLayout al=new AbsoluteLayout();
  al.setWidth("400px");
  al.setHeight("100px");
  addComponent(createWrappedTextField(al));
  addComponent(createWrappedTextField(new CssLayout()));
}
