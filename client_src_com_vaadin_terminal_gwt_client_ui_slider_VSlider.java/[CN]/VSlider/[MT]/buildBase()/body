{
  final String styleAttribute=isVertical() ? "height" : "width";
  final String oppositeStyleAttribute=isVertical() ? "width" : "height";
  final String domProperty=isVertical() ? "offsetHeight" : "offsetWidth";
  DOM.setStyleAttribute(base,oppositeStyleAttribute,"");
  final Element p=DOM.getParent(getElement());
  if (DOM.getElementPropertyInt(p,domProperty) > 50) {
    if (isVertical()) {
      setHeight();
    }
 else {
      DOM.setStyleAttribute(base,styleAttribute,"");
    }
  }
 else {
    DOM.setStyleAttribute(base,styleAttribute,MIN_SIZE + "px");
    Scheduler.get().scheduleDeferred(new Command(){
      @Override public void execute(){
        final Element p=DOM.getParent(getElement());
        if (DOM.getElementPropertyInt(p,domProperty) > (MIN_SIZE + 5)) {
          if (isVertical()) {
            setHeight();
          }
 else {
            DOM.setStyleAttribute(base,styleAttribute,"");
          }
          setValue(value,false);
        }
      }
    }
);
  }
  if (!isVertical()) {
    Scheduler.get().scheduleDeferred(new Command(){
      @Override public void execute(){
        buildHandle();
        setValue(value,false);
      }
    }
);
  }
 else {
    buildHandle();
    setValue(value,false);
  }
}
