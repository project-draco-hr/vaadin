{
synchronized (applicationToDirtyWindowSetMap) {
    WeakHashMap dirtyWindows=(WeakHashMap)applicationToDirtyWindowSetMap.get(application);
    if (dirtyWindows == null) {
      dirtyWindows=new WeakHashMap();
      applicationToDirtyWindowSetMap.put(application,dirtyWindows);
    }
    dirtyWindows.put(window,Boolean.TRUE);
  }
}
