{
synchronized (applicationToDirtyWindowSetMap) {
    HashSet dirtyWindows=(HashSet)applicationToDirtyWindowSetMap.get(application);
    if (dirtyWindows == null) {
      dirtyWindows=new HashSet();
      applicationToDirtyWindowSetMap.put(application,dirtyWindows);
    }
    dirtyWindows.add(window);
  }
}
