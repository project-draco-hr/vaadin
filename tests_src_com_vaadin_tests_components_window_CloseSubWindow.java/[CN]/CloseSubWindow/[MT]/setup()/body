{
  Button openWindowButton=new Button("Open sub-window");
  openWindowButton.setDebugId("opensub");
  openWindowButton.addListener(new ClickListener(){
    public void buttonClick(    ClickEvent event){
      Window sub=createClosableSubWindow("Sub-window");
      getMainWindow().addWindow(sub);
    }
  }
);
  addComponent(log);
  addComponent(openWindowButton);
  Button openBrowserWindowButton=new Button("Open browser window");
  openWindowButton.setDebugId("opennative");
  openBrowserWindowButton.addListener(new ClickListener(){
    public void buttonClick(    ClickEvent event){
      browserWindow=new Window("Window");
      Button closeButton=new Button("Close this window",new ClickListener(){
        public void buttonClick(        ClickEvent event){
          event.getButton().getWindow().executeJavaScript("window.close();");
        }
      }
);
      browserWindow.addComponent(closeButton);
      browserWindow.addListener(new CloseListener(){
        public void windowClose(        CloseEvent e){
          logBrowserWindowClosed();
        }
      }
);
      addWindow(browserWindow);
      URL windowUrl=browserWindow.getURL();
      getMainWindow().open(new ExternalResource(windowUrl),"nativewindow");
      if (getBrowser().isOpera()) {
        logBrowserWindowClosed();
      }
    }
  }
);
  addComponent(openBrowserWindowButton);
  Button pollButton=new Button("Poll server");
  pollButton.setDebugId("poll");
  addComponent(pollButton);
}
