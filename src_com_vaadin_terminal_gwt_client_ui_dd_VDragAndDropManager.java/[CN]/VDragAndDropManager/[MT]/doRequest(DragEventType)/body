{
  Paintable paintable=currentDropHandler.getPaintable();
  ApplicationConnection client=currentDropHandler.getApplicationConnection();
  visitId++;
  client.updateVariable(DD_SERVICE,"visitId",visitId,false);
  client.updateVariable(DD_SERVICE,"eventId",currentDrag.getEventId(),false);
  client.updateVariable(DD_SERVICE,"dhowner",paintable,false);
  VTransferable transferable=currentDrag.getTransferable();
  client.updateVariable(DD_SERVICE,"component",transferable.getDragSource(),false);
  client.updateVariable(DD_SERVICE,"type",drop.ordinal(),false);
  if (currentDrag.getCurrentGwtEvent() != null) {
    try {
      MouseEventDetails mouseEventDetails=new MouseEventDetails(currentDrag.getCurrentGwtEvent());
      currentDrag.getDropDetails().put("mouseEvent",mouseEventDetails.serialize());
    }
 catch (    Exception e) {
    }
  }
 else {
    currentDrag.getDropDetails().put("mouseEvent",null);
  }
  client.updateVariable(DD_SERVICE,"evt",currentDrag.getDropDetails(),false);
  client.updateVariable(DD_SERVICE,"tra",transferable.getVariableMap(),true);
}
