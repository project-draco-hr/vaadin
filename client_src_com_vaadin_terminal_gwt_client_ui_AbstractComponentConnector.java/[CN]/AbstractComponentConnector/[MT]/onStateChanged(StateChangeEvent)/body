{
  ConnectorMap paintableMap=ConnectorMap.get(getConnection());
  if (getState().getId() != null) {
    getWidget().getElement().setId(getState().getId());
  }
 else {
    getWidget().getElement().removeAttribute("id");
  }
  if (getState() instanceof TabIndexState && getWidget() instanceof Focusable) {
    ((Focusable)getWidget()).setTabIndex(((TabIndexState)getState()).getTabIndex());
  }
  super.onStateChanged(stateChangeEvent);
  updateWidgetStyleNames();
  if (delegateCaptionHandling()) {
    ServerConnector parent=getParent();
    if (parent instanceof ComponentContainerConnector) {
      ((ComponentContainerConnector)parent).updateCaption(this);
    }
 else     if (parent == null && !(this instanceof UIConnector)) {
      VConsole.error("Parent of connector " + Util.getConnectorString(this) + " is null. This is typically an indication of a broken component hierarchy");
    }
  }
  updateComponentSize();
}
