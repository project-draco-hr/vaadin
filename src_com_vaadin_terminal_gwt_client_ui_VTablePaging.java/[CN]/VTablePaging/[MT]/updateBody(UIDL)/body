{
  final Iterator<?> it=uidl.getChildIterator();
  int curRowIndex=1;
  while (it.hasNext()) {
    final UIDL rowUidl=(UIDL)it.next();
    final TableRow row=new TableRow(curRowIndex,String.valueOf(rowUidl.getIntAttribute("key")),rowUidl.hasAttribute("selected"));
    int colIndex=0;
    if (rowHeaders) {
      tBody.setWidget(curRowIndex,colIndex,new BodyCell(row,rowUidl.getStringAttribute("caption")));
      colIndex++;
    }
    final Iterator<?> cells=rowUidl.getChildIterator();
    while (cells.hasNext()) {
      final Object cell=cells.next();
      if (cell instanceof String) {
        tBody.setWidget(curRowIndex,colIndex,new BodyCell(row,(String)cell));
      }
 else {
        final VPaintableWidget cellContent=client.getPaintable((UIDL)cell);
        final BodyCell bodyCell=new BodyCell(row);
        bodyCell.setWidget(cellContent.getWidgetForPaintable());
        tBody.setWidget(curRowIndex,colIndex,bodyCell);
      }
      colIndex++;
    }
    curRowIndex++;
  }
}
