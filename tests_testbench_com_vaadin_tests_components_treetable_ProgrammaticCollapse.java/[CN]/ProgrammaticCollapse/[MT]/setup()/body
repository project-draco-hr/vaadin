{
  HorizontalLayout layout=new HorizontalLayout();
  final TreeTable table=new TreeTable();
  table.addContainerProperty("A",String.class,null);
  table.addContainerProperty("B",String.class,null);
  table.addItem(new Object[]{"A1","B1"},1);
  table.addItem(new Object[]{"A2","B2"},2);
  table.setParent(2,1);
  layout.addComponent(table);
  layout.addComponent(new Button("Expand / Collapse",new ClickListener(){
    public void buttonClick(    ClickEvent event){
      boolean collapsed=!table.isCollapsed(1);
      table.getWindow().showNotification("set collapsed: " + collapsed);
      table.setCollapsed(1,collapsed);
    }
  }
));
  addComponent(layout);
}
