{
  StringBuilder sb=new StringBuilder();
  final String message=getLocalizedMessage();
  if (message != null) {
    sb.append("<h2>");
    sb.append(AbstractApplicationServlet.safeEscapeForHtml(message));
    sb.append("</h2>");
  }
  if (cause != null) {
    sb.append("<h3>Exception</h3>");
    final StringWriter buffer=new StringWriter();
    cause.printStackTrace(new PrintWriter(buffer));
    sb.append("<pre>");
    sb.append(AbstractApplicationServlet.safeEscapeForHtml(buffer.toString()));
    sb.append("</pre>");
  }
  return sb.toString();
}
