{
  theme=new ComboBox();
  theme.setWidth("32px");
  theme.setNewItemsAllowed(false);
  theme.setFilteringMode(ComboBox.FILTERINGMODE_CONTAINS);
  theme.setImmediate(true);
  theme.setNullSelectionAllowed(false);
  for (  String themeName : THEMES) {
    theme.addItem(SAMPLER_THEME_NAME + "-" + themeName);
    theme.setItemCaption(SAMPLER_THEME_NAME + "-" + themeName,themeName.substring(0,1).toUpperCase() + themeName.substring(1) + " theme");
  }
  theme.setValue(currentTheme);
  theme.addListener(new ComboBox.ValueChangeListener(){
    public void valueChange(    ValueChangeEvent event){
      final String newTheme=event.getProperty().getValue().toString();
      setTheme(newTheme);
      currentTheme=newTheme;
    }
  }
);
  theme.setStyleName("theme-select");
  theme.setDescription("Select Theme");
  return theme;
}
