{
  VerticalLayout mainExpand=new VerticalLayout();
  setContent(mainExpand);
  setSizeFull();
  mainExpand.setSizeFull();
  setCaption("Vaadin Sampler");
  HorizontalLayout nav=new HorizontalLayout();
  mainExpand.addComponent(nav);
  nav.setHeight("44px");
  nav.setWidth("100%");
  nav.setStyleName("topbar");
  nav.setSpacing(true);
  nav.setMargin(false,true,false,false);
  Component logo=createLogo();
  nav.addComponent(logo);
  nav.setComponentAlignment(logo,Alignment.MIDDLE_LEFT);
  nav.addComponent(breadcrumbs);
  nav.setExpandRatio(breadcrumbs,1);
  nav.setComponentAlignment(breadcrumbs,Alignment.MIDDLE_LEFT);
  nav.addComponent(webAnalytics);
  nav.addComponent(uriFragmentUtility);
  uriFragmentUtility.addListener(new FragmentChangedListener(){
    public void fragmentChanged(    FragmentChangedEvent source){
      String frag=source.getUriFragmentUtility().getFragment();
      setFeature(frag);
    }
  }
);
  mainSplit=new SplitPanel(SplitPanel.ORIENTATION_HORIZONTAL);
  mainSplit.setSizeFull();
  mainSplit.setStyleName("main-split");
  mainExpand.addComponent(mainSplit);
  mainExpand.setExpandRatio(mainSplit,1);
  mode=createModeSwitch();
  mode.setMode(currentList);
  nav.addComponent(mode);
  nav.setComponentAlignment(mode,Alignment.MIDDLE_LEFT);
  HorizontalLayout quicknav=new HorizontalLayout();
  HorizontalLayout arrows=new HorizontalLayout();
  nav.addComponent(quicknav);
  nav.addComponent(arrows);
  nav.setComponentAlignment(quicknav,Alignment.MIDDLE_LEFT);
  nav.setComponentAlignment(arrows,Alignment.MIDDLE_LEFT);
  quicknav.setStyleName("segment");
  arrows.setStyleName("segment");
  previousSample=createPrevButton();
  arrows.addComponent(previousSample);
  nextSample=createNextButton();
  arrows.addComponent(nextSample);
  Component searchComponent=createSearch();
  quicknav.addComponent(searchComponent);
  navigationTree=createMenuTree();
  mainSplit.setFirstComponent(navigationTree);
  Component treeSwitch=createTreeSwitch();
  quicknav.addComponent(treeSwitch);
  addListener(new CloseListener(){
    public void windowClose(    CloseEvent e){
      if (getMainWindow() != SamplerWindow.this) {
        SamplerApplication.this.removeWindow(SamplerWindow.this);
      }
    }
  }
);
}
