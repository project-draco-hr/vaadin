{
  getLogger().warning("handleTemporaryError(" + type + ")");
  reconnectAttempt++;
  reconnectionCause=type;
  if (!reconnectDialog.isAttached()) {
    reconnectDialog.setStyleName(STYLE_RECONNECTING,true);
    reconnectDialog.setOwner(getConnection().getUIConnector().getWidget());
    reconnectDialog.show();
  }
  if (payload != null) {
    getConnection().getServerCommunicationHandler().endRequest();
  }
  if (reconnectAttempt >= getConfiguration().reconnectAttempts) {
    reconnectDialog.setText(getDialogTextGaveUp(reconnectAttempt));
    reconnectDialog.setStyleName(STYLE_RECONNECTING,false);
    getConnection().setApplicationRunning(false);
  }
 else {
    reconnectDialog.setText(getDialogText(reconnectAttempt));
    if (payload != null) {
      getConnection().getServerCommunicationHandler().startRequest();
    }
    new Timer(){
      @Override public void run(){
        if (payload != null) {
          getLogger().info("Re-sending last message to the server...");
          getConnection().getServerCommunicationHandler().send(payload);
        }
 else {
          getLogger().info("Trying to re-establish server connection...");
          getConnection().getHeartbeat().send();
        }
      }
    }
.schedule(getConfiguration().reconnectInterval);
  }
}
