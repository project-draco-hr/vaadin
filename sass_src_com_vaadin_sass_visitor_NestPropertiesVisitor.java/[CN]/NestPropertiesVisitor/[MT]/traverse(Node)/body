{
  for (  Node child : new ArrayList<Node>(node.getChildren())) {
    if (child instanceof NestPropertiesNode) {
      Node previous=child;
      for (      RuleNode unNested : ((NestPropertiesNode)child).unNesting()) {
        node.appendChild(unNested,previous);
        previous=unNested;
        node.removeChild(child);
      }
    }
 else {
      traverse(child);
    }
  }
}
