{
switch (DOM.eventGetType(event)) {
case Event.ONMOUSEDOWN:
    if (!isActive()) {
      bringToFront();
    }
  showDraggingCurtain(true);
resizing=true;
startX=DOM.eventGetScreenX(event);
startY=DOM.eventGetScreenY(event);
origW=getWidget().getOffsetWidth();
origH=getWidget().getOffsetHeight();
DOM.setCapture(getElement());
DOM.eventPreventDefault(event);
break;
case Event.ONMOUSEUP:
showDraggingCurtain(false);
resizing=false;
DOM.releaseCapture(getElement());
setSize(event,true);
break;
case Event.ONLOSECAPTURE:
showDraggingCurtain(false);
resizing=false;
case Event.ONMOUSEMOVE:
if (resizing) {
setSize(event,false);
DOM.eventPreventDefault(event);
}
break;
default :
DOM.eventPreventDefault(event);
break;
}
}
