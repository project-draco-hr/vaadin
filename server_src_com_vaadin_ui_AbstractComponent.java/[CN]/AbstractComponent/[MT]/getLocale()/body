{
  if (locale != null) {
    return locale;
  }
  HasComponents parent=getParent();
  if (parent != null) {
    return parent.getLocale();
  }
  final VaadinServiceSession session=getSession();
  if (session != null) {
    return session.getLocale();
  }
  return null;
}
