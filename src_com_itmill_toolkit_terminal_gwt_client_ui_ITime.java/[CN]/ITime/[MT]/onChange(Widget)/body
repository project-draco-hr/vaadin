{
  if (sender == hours) {
    int h=hours.getSelectedIndex();
    if (datefield.dts.isTwelveHourClock())     h=h + ampm.getSelectedIndex() * 12;
    datefield.date.setHours(h);
    datefield.client.updateVariable(datefield.id,"hour",h,datefield.immediate);
  }
 else   if (sender == mins) {
    int m=mins.getSelectedIndex();
    datefield.date.setMinutes(m);
    datefield.client.updateVariable(datefield.id,"min",m,datefield.immediate);
  }
 else   if (sender == sec) {
    int s=sec.getSelectedIndex();
    datefield.date.setSeconds(s);
    datefield.client.updateVariable(datefield.id,"sec",s,datefield.immediate);
  }
 else   if (sender == msec) {
    int ms=msec.getSelectedIndex();
    datefield.setMilliseconds(ms);
    datefield.client.updateVariable(datefield.id,"msec",ms,datefield.immediate);
  }
 else   if (sender == ampm) {
    int h=hours.getSelectedIndex() + ampm.getSelectedIndex() * 12;
    datefield.date.setHours(h);
    datefield.client.updateVariable(datefield.id,"hour",h,datefield.immediate);
  }
}
