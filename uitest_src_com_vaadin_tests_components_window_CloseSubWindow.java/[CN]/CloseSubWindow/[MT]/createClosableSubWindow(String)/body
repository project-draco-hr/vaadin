{
  VerticalLayout layout=new VerticalLayout();
  layout.setMargin(true);
  layout.setSizeFull();
  final Window window=new Window(title,layout);
  window.setSizeUndefined();
  window.setClosable(true);
  Button closeButton=new Button("Close");
  closeButton.addListener(new ClickListener(){
    @Override public void buttonClick(    ClickEvent event){
      event.getButton().findAncestor(Window.class).close();
    }
  }
);
  layout.addComponent(closeButton);
  Button removeButton=new Button("Remove from parent");
  removeButton.addListener(new ClickListener(){
    @Override public void buttonClick(    ClickEvent event){
      window.close();
    }
  }
);
  layout.addComponent(closeButton);
  window.addListener(new CloseListener(){
    @Override public void windowClose(    CloseEvent e){
      log.log("Window '" + title + "' closed");
    }
  }
);
  return window;
}
