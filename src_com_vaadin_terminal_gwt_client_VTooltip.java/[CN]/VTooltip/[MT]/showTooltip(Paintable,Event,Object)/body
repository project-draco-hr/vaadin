{
  if (closing && tooltipOwner == owner && tooltipKey == key) {
    closeTimer.cancel();
    closing=false;
    justClosedTimer.cancel();
    justClosed=false;
    return;
  }
  if (closing) {
    closeNow();
  }
  updatePosition(event);
  if (opening) {
    showTimer.cancel();
  }
  tooltipOwner=owner;
  tooltipKey=key;
  if (justClosed) {
    showTimer.schedule(QUICK_OPEN_DELAY);
  }
 else {
    showTimer.schedule(OPEN_DELAY);
  }
  opening=true;
}
