{
  VerticalLayout layout=new VerticalLayout();
  layout.setMargin(true);
  setContent(layout);
  c=(Container)event.getSource();
  propertyid=event.getPropertyId();
  itemid=event.getItemId();
  setCaption("Editing " + itemid + " : "+ propertyid);
  editor.setPropertyDataSource(c.getContainerProperty(itemid,propertyid));
  layout.addComponent(editor);
  layout.addComponent(done);
  setWidth(W + "px");
  setHeight(H + "px");
  setPositionX(event.getClientX() - W / 2);
  setPositionY(event.getClientY() - H / 2);
  getMainWindow().addWindow(this);
  done.addListener(new Button.ClickListener(){
    @Override public void buttonClick(    ClickEvent event){
      getMainWindow().removeWindow(PropertyEditor.this);
    }
  }
);
}
