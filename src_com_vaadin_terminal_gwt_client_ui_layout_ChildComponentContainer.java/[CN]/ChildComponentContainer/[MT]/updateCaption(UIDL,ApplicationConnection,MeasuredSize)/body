{
  if (VCaption.isNeeded(uidl)) {
    VCaption newCaption=caption;
    if (newCaption == null) {
      newCaption=new VCaption(paintable,client);
      newCaption.setHeight("18px");
      parentSize.registerDependency(newCaption.getElement());
      if (BrowserInfo.get().isIE()) {
        setCaption(newCaption);
      }
    }
    boolean positionChanged=newCaption.updateCaption(uidl);
    if (newCaption != caption || positionChanged) {
      setCaption(newCaption);
    }
  }
 else {
    if (caption != null) {
      parentSize.deRegisterDependency(caption.getElement());
      remove(caption);
    }
  }
  updateCaptionSize();
  if (relativeSize == null) {
    setRelativeSize(Util.parseRelativeSize(uidl));
  }
}
