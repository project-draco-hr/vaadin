{
  if (VCaption.isNeeded(uidl)) {
    VCaption newCaption=caption;
    if (newCaption == null) {
      newCaption=new VCaption((Paintable)widget,client);
      newCaption.setHeight("18px");
    }
    boolean positionChanged=newCaption.updateCaption(uidl);
    if (newCaption != caption || positionChanged) {
      setCaption(newCaption);
    }
  }
 else {
    if (caption != null) {
      remove(caption);
    }
  }
  updateCaptionSize();
}
