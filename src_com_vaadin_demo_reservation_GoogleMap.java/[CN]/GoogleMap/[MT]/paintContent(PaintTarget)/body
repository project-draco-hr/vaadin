{
  super.paintContent(target);
  if (getHeight() > -1) {
    target.addVariable(this,"height",getHeight() + UNIT_SYMBOLS[getHeightUnits()]);
  }
  if (getWidth() > -1) {
    target.addVariable(this,"width",getWidth() + UNIT_SYMBOLS[getWidthUnits()]);
  }
  if (null != mapCenter) {
    target.addAttribute("centerX",mapCenter.getX());
    target.addAttribute("centerY",mapCenter.getY());
  }
  target.addAttribute("zoom",zoomLevel);
  if (dataSource != null) {
    target.startTag(TAG_MARKERS);
    final Collection<?> itemIds=dataSource.getItemIds();
    for (final Iterator<?> it=itemIds.iterator(); it.hasNext(); ) {
      final Object itemId=it.next();
      final Item item=dataSource.getItem(itemId);
      Property p=item.getItemProperty(getItemMarkerXPropertyId());
      final Double x=(Double)(p != null ? p.getValue() : null);
      p=item.getItemProperty(getItemMarkerYPropertyId());
      final Double y=(Double)(p != null ? p.getValue() : null);
      if (x == null || y == null) {
        continue;
      }
      target.startTag(TAG_MARKER);
      target.addAttribute("x",x.doubleValue());
      target.addAttribute("y",y.doubleValue());
      p=item.getItemProperty(getItemMarkerHtmlPropertyId());
      final String h=(String)(p != null ? p.getValue() : null);
      target.addAttribute("html",h);
      target.endTag(TAG_MARKER);
    }
    target.endTag(TAG_MARKERS);
  }
}
