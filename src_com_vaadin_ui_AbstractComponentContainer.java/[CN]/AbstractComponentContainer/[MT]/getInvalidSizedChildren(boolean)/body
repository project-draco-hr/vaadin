{
  HashSet<Component> components=null;
  if (this instanceof Panel) {
    Panel p=(Panel)this;
    ComponentContainer content=p.getContent();
    boolean valid=vertical ? ComponentSizeValidator.checkHeights(content) : ComponentSizeValidator.checkWidths(content);
    if (!valid) {
      components=new HashSet<Component>(1);
      components.add(content);
    }
  }
 else {
    for (Iterator<Component> componentIterator=getComponentIterator(); componentIterator.hasNext(); ) {
      Component component=componentIterator.next();
      boolean valid=vertical ? ComponentSizeValidator.checkHeights(component) : ComponentSizeValidator.checkWidths(component);
      if (!valid) {
        if (components == null) {
          components=new HashSet<Component>();
        }
        components.add(component);
      }
    }
  }
  return components;
}
