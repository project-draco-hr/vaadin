{
  if (parametersJson.length() != 2) {
    throw new JSONException("Invalid parameters in legacy change variables call. Expected 2, was " + parametersJson.length());
  }
  String variableName=(String)JsonCodec.decodeInternalType(String.class,true,parametersJson.getJSONArray(0),application);
  UidlValue uidlValue=(UidlValue)JsonCodec.decodeInternalType(UidlValue.class,true,parametersJson.getJSONArray(1),application);
  Object value=uidlValue.getValue();
  if (previousInvocation != null && previousInvocation.getConnectorId().equals(connectorId)) {
    previousInvocation.setVariableChange(variableName,value);
    return null;
  }
 else {
    return new LegacyChangeVariablesInvocation(connectorId,variableName,value);
  }
}
