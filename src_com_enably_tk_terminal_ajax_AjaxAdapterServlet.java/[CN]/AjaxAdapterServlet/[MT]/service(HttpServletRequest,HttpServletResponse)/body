{
  AjaxApplicationContext context=getAjaxApplicationContext(request);
  try {
    Application application=context.getApplication(getApplicationUrl(request),request.getContextPath() + request.getServletPath());
    if (application == null)     application=context.createApplication(applicationClass,getApplicationUrl(request),request.getLocale(),applicationProperties);
    if (context != null) {
      context.startTransaction(application,request);
    }
    context.getApplicationManager(application).handleXmlHttpRequest(request,response);
    if (context != null) {
      context.endTransaction(application,request);
    }
  }
 catch (  InstantiationException e) {
    e.printStackTrace();
  }
catch (  IllegalAccessException e) {
    e.printStackTrace();
  }
}
