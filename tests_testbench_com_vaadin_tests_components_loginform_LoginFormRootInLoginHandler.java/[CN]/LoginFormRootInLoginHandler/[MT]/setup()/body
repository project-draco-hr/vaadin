{
  LoginForm lf=new LoginForm();
  lf.addListener(new LoginListener(){
    @Override public void onLogin(    LoginEvent event){
      Root r1=Root.getCurrent();
      if (r1 != null) {
        addComponent(new Label("Root.getCurrent().data: " + r1.getData()));
      }
 else {
        addComponent(new Label("Root.getCurrent() is null"));
      }
      Root r2=((LoginForm)event.getSource()).getRoot();
      if (r2 != null) {
        addComponent(new Label("event.getSource().data: " + r2.getData()));
      }
 else {
        addComponent(new Label("event.getSource().getRoot() is null"));
      }
    }
  }
);
  addComponent(lf);
  getLayout().getRoot().setData("This root");
}
