{
  size.paint(target);
  if (areTabsHidden()) {
    target.addAttribute("hidetabs",true);
  }
  target.startTag("tabs");
  for (final Iterator i=getComponentIterator(); i.hasNext(); ) {
    final Component c=(Component)i.next();
    if (!c.isVisible()) {
      continue;
    }
    target.startTag("tab");
    final Resource icon=getTabIcon(c);
    if (icon != null) {
      target.addAttribute("icon",icon);
    }
    final String caption=getTabCaption(c);
    if (!c.isEnabled()) {
      target.addAttribute("disabled",true);
    }
    if (caption != null && caption.length() > 0) {
      target.addAttribute("caption",caption);
    }
    target.addAttribute("key",keyMapper.key(c));
    if (c.equals(selected)) {
      target.addAttribute("selected",true);
      c.paint(target);
    }
    target.endTag("tab");
  }
  target.endTag("tabs");
  if (selected != null) {
    target.addVariable(this,"selected",keyMapper.key(selected));
  }
}
