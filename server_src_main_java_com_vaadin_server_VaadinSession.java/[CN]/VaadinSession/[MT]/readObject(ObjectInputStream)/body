{
  Map<Class<?>,CurrentInstance> old=CurrentInstance.setCurrent(this);
  try {
    stream.defaultReadObject();
    pendingAccessQueue=new ConcurrentLinkedQueue<FutureAccess>();
  }
  finally {
    CurrentInstance.restoreInstances(old);
  }
}
