{
  LegacyAbstractField field;
  if (LegacyInlineDateField.class.isAssignableFrom(fieldType)) {
    field=new LegacyInlineDateField();
  }
 else   if (anyField(fieldType) || LegacyDateField.class.isAssignableFrom(fieldType)) {
    field=new LegacyPopupDateField();
  }
 else   if (AbstractTextField.class.isAssignableFrom(fieldType)) {
    field=createAbstractTextField((Class<? extends AbstractTextField>)fieldType);
  }
 else {
    return null;
  }
  field.setImmediate(true);
  return (T)field;
}
