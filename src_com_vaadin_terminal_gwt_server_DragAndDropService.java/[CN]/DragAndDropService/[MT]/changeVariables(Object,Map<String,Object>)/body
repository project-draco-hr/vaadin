{
  HasDropHandler dropHandlerOwner=(HasDropHandler)variables.get("dhowner");
  if (dropHandlerOwner == null) {
    return;
  }
  lastVisitId=(Integer)variables.get("visitId");
  currentRequest=constructDragRequest(variables,dropHandlerOwner);
  DropHandler dropHandler=(dropHandlerOwner).getDropHandler();
  Object eventDetails=dropHandlerOwner.getDragEventDetails((Map<String,Object>)variables.get("evt"));
  currentRequest.setEventDetails(eventDetails);
  dropHandler.handleDragRequest(currentRequest);
  if (currentRequest.getType() == DragEventType.DROP) {
    transferable=null;
  }
}
