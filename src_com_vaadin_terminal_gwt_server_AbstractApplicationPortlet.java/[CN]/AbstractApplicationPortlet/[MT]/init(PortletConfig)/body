{
  super.init(config);
  Properties applicationProperties=getDeploymentConfiguration().getInitParameters();
  final PortletContext context=config.getPortletContext();
  for (final Enumeration<String> e=context.getInitParameterNames(); e.hasMoreElements(); ) {
    final String name=e.nextElement();
    applicationProperties.setProperty(name,context.getInitParameter(name));
  }
  for (final Enumeration<String> e=config.getInitParameterNames(); e.hasMoreElements(); ) {
    final String name=e.nextElement();
    applicationProperties.setProperty(name,config.getInitParameter(name));
  }
  checkProductionMode();
  checkCrossSiteProtection();
  vaadinContext.init();
}
