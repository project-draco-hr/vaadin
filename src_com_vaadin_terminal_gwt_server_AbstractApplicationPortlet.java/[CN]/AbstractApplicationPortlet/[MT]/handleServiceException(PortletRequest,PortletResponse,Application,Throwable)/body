{
  if (getRequestType(request) == RequestType.UIDL) {
    Application.SystemMessages ci=getSystemMessages();
    criticalNotification(request,(ResourceResponse)response,ci.getInternalErrorCaption(),ci.getInternalErrorMessage(),null,ci.getInternalErrorURL());
    if (application != null) {
      application.getErrorHandler().terminalError(new RequestError(e));
    }
 else {
      throw new PortletException(e);
    }
  }
 else {
    throw new PortletException(e);
  }
}
