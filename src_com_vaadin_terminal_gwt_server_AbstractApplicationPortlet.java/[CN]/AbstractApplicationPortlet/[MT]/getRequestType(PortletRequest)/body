{
  if (request instanceof RenderRequest) {
    return RequestType.RENDER;
  }
 else   if (request instanceof ResourceRequest) {
    if (isUIDLRequest((ResourceRequest)request)) {
      return RequestType.UIDL;
    }
 else     if (isApplicationResourceRequest((ResourceRequest)request)) {
      return RequestType.APPLICATION_RESOURCE;
    }
 else {
      return RequestType.STATIC_FILE;
    }
  }
 else   if (request instanceof ActionRequest) {
    if (isFileUploadRequest((ActionRequest)request)) {
      return RequestType.FILE_UPLOAD;
    }
  }
  return RequestType.UNKNOWN;
}
