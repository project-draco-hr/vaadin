{
  final ComboBox select=new ComboBox("ComboBox");
  select.addContainerProperty("caption",String.class,null);
  Item item=select.addItem("one-1");
  item.getItemProperty("caption").setValue("One");
  item=select.addItem("one-2");
  item.getItemProperty("caption").setValue("One");
  item=select.addItem("two");
  item.getItemProperty("caption").setValue("Two");
  select.setItemCaptionPropertyId("caption");
  select.setNullSelectionAllowed(false);
  select.setImmediate(true);
  select.addListener(new Property.ValueChangeListener(){
    private static final long serialVersionUID=-7932700771673919620L;
    @Override public void valueChange(    ValueChangeEvent event){
      log.log("Item " + select.getValue() + " selected");
    }
  }
);
  addComponent(log);
  addComponent(select);
}
