{
  if (action == ACTION_ADD) {
    tree.setChildrenAllowed(target,true);
    Object itemId=tree.addItem();
    tree.setChildrenAllowed(itemId,false);
    String newItemName="New Item # " + itemId;
    Item item=tree.getItem(itemId);
    item.getItemProperty(ExampleUtil.hw_PROPERTY_NAME).setValue(newItemName);
    tree.setParent(itemId,target);
    tree.expandItem(target);
  }
 else   if (action == ACTION_DELETE) {
    Object parent=tree.getParent(target);
    tree.removeItem(target);
    if (parent != null && tree.getChildren(parent).size() == 0) {
      tree.setChildrenAllowed(parent,false);
    }
  }
}
