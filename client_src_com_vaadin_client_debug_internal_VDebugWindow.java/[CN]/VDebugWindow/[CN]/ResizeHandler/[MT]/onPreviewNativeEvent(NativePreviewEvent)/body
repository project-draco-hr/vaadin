{
  if (event.getTypeInt() == Event.ONMOUSEMOVE) {
    int dx=event.getNativeEvent().getClientX() - startX;
    int dy=event.getNativeEvent().getClientY() - startY;
    int minw=tabs.getOffsetWidth() + controls.getOffsetWidth();
    if (resizeLeft) {
      int w=startW - dx;
      if (w >= minw) {
        content.setWidth(w + "px");
        setPopupPosition(startLeft + dx,getPopupTop());
      }
    }
 else     if (resizeRight) {
      int w=startW + dx;
      if (w >= minw) {
        content.setWidth(w + "px");
      }
    }
    if (resizeUp) {
      int h=startH - dy;
      if (h >= MIN_HEIGHT) {
        content.setHeight(h + "px");
        setPopupPosition(getPopupLeft(),startTop + dy);
      }
    }
 else     if (resizeDown) {
      int h=startH + dy;
      if (h >= MIN_HEIGHT) {
        content.setHeight(h + "px");
      }
    }
  }
 else   if (event.getTypeInt() == Event.ONMOUSEUP) {
    dragHandler.removeHandler();
    dragHandler=null;
    content.getElement().getStyle().setCursor(Cursor.AUTO);
    sizing=false;
    readPositionAndSize();
    writeStoredState();
  }
  event.cancel();
}
