{
  super.onStateChanged(stateChangeEvent);
  focusHandlerRegistration=EventHelper.updateFocusHandler(this,focusHandlerRegistration);
  blurHandlerRegistration=EventHelper.updateBlurHandler(this,blurHandlerRegistration);
  if (stateChangeEvent.hasPropertyChanged("caption") || stateChangeEvent.hasPropertyChanged("htmlContentAllowed")) {
    if (getState().htmlContentAllowed) {
      getWidget().setHtml(getState().caption);
    }
 else {
      getWidget().setText(getState().caption);
    }
  }
  if (getWidget().icon != null && stateChangeEvent.hasPropertyChanged("iconAltText")) {
    getWidget().icon.setAlternateText(getState().iconAltText);
  }
  getWidget().clickShortcut=getState().clickShortcutKeyCode;
}
