{
  if (client.updateComponent(this,uidl,false)) {
    return;
  }
  this.client=client;
  id=uidl.getId();
  final String w=uidl.hasVariable("width") ? uidl.getStringVariable("width") : null;
  height=uidl.hasVariable("height") ? uidl.getStringVariable("height") : null;
  setWidth(w != null ? w : "");
  DOM.setElementProperty(captionNode,"className",CLASSNAME + "-caption");
  DOM.setElementProperty(contentNode,"className",CLASSNAME + "-content");
  DOM.setElementProperty(bottomDecoration,"className",CLASSNAME + "-deco");
  boolean hasCaption=false;
  if (uidl.hasAttribute("caption") && !uidl.getStringAttribute("caption").equals("")) {
    setCaption(uidl.getStringAttribute("caption"));
    hasCaption=true;
  }
 else {
    setCaption("");
    DOM.setElementProperty(captionNode,"className",CLASSNAME + "-nocaption");
  }
  setIconUri(uidl,client);
  handleDescription(uidl);
  handleError(uidl);
  if (uidl.hasAttribute("style")) {
    final String[] styles=uidl.getStringAttribute("style").split(" ");
    final String captionBaseClass=CLASSNAME + (hasCaption ? "-caption" : "-nocaption");
    final String contentBaseClass=CLASSNAME + "-content";
    final String decoBaseClass=CLASSNAME + "-deco";
    String captionClass=captionBaseClass;
    String contentClass=contentBaseClass;
    String decoClass=decoBaseClass;
    for (int i=0; i < styles.length; i++) {
      captionClass+=" " + captionBaseClass + "-"+ styles[i];
      contentClass+=" " + contentBaseClass + "-"+ styles[i];
      decoClass+=" " + decoBaseClass + "-"+ styles[i];
    }
    DOM.setElementProperty(captionNode,"className",captionClass);
    DOM.setElementProperty(contentNode,"className",contentClass);
    DOM.setElementProperty(bottomDecoration,"className",decoClass);
  }
  iLayout();
  final UIDL layoutUidl=uidl.getChildUIDL(0);
  final Widget newLayout=client.getWidget(layoutUidl);
  if (newLayout != layout) {
    if (layout != null) {
      client.unregisterPaintable((Paintable)layout);
    }
    setWidget(newLayout);
    layout=newLayout;
  }
  ((Paintable)layout).updateFromUIDL(layoutUidl,client);
}
