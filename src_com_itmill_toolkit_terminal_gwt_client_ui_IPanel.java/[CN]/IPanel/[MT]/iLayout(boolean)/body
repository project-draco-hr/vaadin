{
  renderInformation.updateSize(getElement());
  if (BrowserInfo.get().isIE6() && width != null && !width.equals("")) {
    DOM.setStyleAttribute(captionNode,"width","1px");
    int parentPadding=Util.measureHorizontalPadding(getElement(),0);
    int parentWidthExcludingPadding=getElement().getOffsetWidth() - parentPadding;
    int captionMarginLeft=captionNode.getAbsoluteLeft() - getElement().getAbsoluteLeft();
    Util.setWidthExcludingPadding(captionNode,parentWidthExcludingPadding - captionMarginLeft,26);
    int contentMarginLeft=contentNode.getAbsoluteLeft() - getElement().getAbsoluteLeft();
    Util.setWidthExcludingPadding(contentNode,parentWidthExcludingPadding - contentMarginLeft,2);
  }
  if (BrowserInfo.get().isIE7() && (width == null || width.equals(""))) {
    int captionMarginLeft=captionNode.getAbsoluteLeft() - getElement().getAbsoluteLeft();
    int captionWidth=captionNode.getOffsetWidth() + captionMarginLeft;
    int contentWidth=contentNode.getOffsetWidth();
    int layoutWidth=((Widget)layout).getOffsetWidth() + getContainerBorderWidth();
    int width=contentWidth;
    if (captionWidth > width) {
      width=captionWidth;
    }
    if (layoutWidth > width) {
      width=layoutWidth;
    }
    super.setWidth(width + "px");
  }
  if (runGeckoFix && BrowserInfo.get().isGecko()) {
    if (width == null || width.equals("")) {
      if (geckoCaptionMeter == null) {
        geckoCaptionMeter=DOM.createDiv();
        DOM.appendChild(captionNode,geckoCaptionMeter);
      }
      int captionWidth=DOM.getElementPropertyInt(captionText,"offsetWidth");
      int availWidth=DOM.getElementPropertyInt(geckoCaptionMeter,"offsetWidth");
      if (captionWidth == availWidth) {
        setWidth(getOffsetWidth() + "px");
      }
 else {
        DOM.setStyleAttribute(captionNode,"width","");
      }
    }
  }
  client.runDescendentsLayout(this);
  Util.runWebkitOverflowAutoFix(contentNode);
}
