{
  renderInformation.updateSize(getElement());
  if (BrowserInfo.get().isIE6() && width != null && !width.equals("")) {
    DOM.setStyleAttribute(captionNode,"width","1px");
    int parentPadding=Util.measureHorizontalPadding(getElement(),0);
    int parentWidthExcludingPadding=getElement().getOffsetWidth() - parentPadding;
    int captionMarginLeft=captionNode.getAbsoluteLeft() - getElement().getAbsoluteLeft();
    Util.setWidthExcludingPadding(captionNode,parentWidthExcludingPadding - captionMarginLeft,26);
    int contentMarginLeft=contentNode.getAbsoluteLeft() - getElement().getAbsoluteLeft();
    Util.setWidthExcludingPadding(contentNode,parentWidthExcludingPadding - contentMarginLeft,2);
  }
  if (height != null && height != "") {
    final boolean hasChildren=getWidget() != null;
    Element contentEl=null;
    String origPositioning=null;
    if (hasChildren) {
      contentEl=getWidget().getElement();
      origPositioning=DOM.getStyleAttribute(contentEl,"position");
      DOM.setStyleAttribute(contentEl,"position","absolute");
    }
    DOM.setStyleAttribute(contentNode,"overflow","hidden");
    DOM.setStyleAttribute(contentNode,"height","");
    super.setHeight(height);
    final int targetHeight=getOffsetHeight();
    super.setHeight("");
    if (BrowserInfo.get().isIE() && !hasChildren) {
      DOM.setStyleAttribute(contentNode,"height","0px");
    }
    final int bottomTop=DOM.getElementPropertyInt(bottomDecoration,"offsetTop");
    final int bottomHeight=DOM.getElementPropertyInt(bottomDecoration,"offsetHeight");
    final int elementTop=DOM.getElementPropertyInt(getElement(),"offsetTop");
    final int usedHeight=bottomTop + bottomHeight - elementTop;
    int contentAreaHeight=targetHeight - usedHeight;
    if (contentAreaHeight < 0) {
      contentAreaHeight=0;
    }
    renderInformation.setContentAreaHeight(contentAreaHeight);
    DOM.setStyleAttribute(contentNode,"height",contentAreaHeight + "px");
    DOM.setStyleAttribute(contentNode,"overflow","auto");
    if (hasChildren) {
      DOM.setStyleAttribute(contentEl,"position",origPositioning);
    }
    DOM.setElementPropertyInt(contentNode,"scrollTop",scrollTop);
    DOM.setElementPropertyInt(contentNode,"scrollLeft",scrollLeft);
  }
 else {
    DOM.setStyleAttribute(contentNode,"height","");
  }
  if (width != null && !width.equals("")) {
    renderInformation.setContentAreaWidth(renderInformation.getRenderedSize().getWidth() - borderPaddingHorizontal);
  }
  if (runGeckoFix && BrowserInfo.get().isGecko()) {
    if (width == null || width.equals("")) {
      if (geckoCaptionMeter == null) {
        geckoCaptionMeter=DOM.createDiv();
        DOM.appendChild(captionNode,geckoCaptionMeter);
      }
      int captionWidth=DOM.getElementPropertyInt(captionText,"offsetWidth");
      int availWidth=DOM.getElementPropertyInt(geckoCaptionMeter,"offsetWidth");
      if (captionWidth == availWidth) {
        setWidth(getOffsetWidth() + "px");
      }
 else {
        DOM.setStyleAttribute(captionNode,"width","");
      }
    }
  }
  client.runDescendentsLayout(this);
}
