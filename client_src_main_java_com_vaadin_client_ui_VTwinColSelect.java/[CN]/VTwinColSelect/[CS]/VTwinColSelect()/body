{
  super(CLASSNAME);
  captionWrapper=new FlowPanel();
  options=new DoubleClickListBox();
  options.addClickHandler(this);
  options.addDoubleClickHandler(this);
  options.setVisibleItemCount(VISIBLE_COUNT);
  options.setStyleName(CLASSNAME + "-options");
  selections=new DoubleClickListBox();
  selections.addClickHandler(this);
  selections.addDoubleClickHandler(this);
  selections.setVisibleItemCount(VISIBLE_COUNT);
  selections.setStyleName(CLASSNAME + "-selections");
  buttons=new FlowPanel();
  buttons.setStyleName(CLASSNAME + "-buttons");
  add=new VButton();
  add.setText(">>");
  add.addClickHandler(this);
  remove=new VButton();
  remove.setText("<<");
  remove.addClickHandler(this);
  panel=((Panel)optionsContainer);
  panel.add(captionWrapper);
  captionWrapper.getElement().getStyle().setOverflow(Overflow.HIDDEN);
  captionWrapper.setVisible(false);
  panel.add(options);
  buttons.add(add);
  final HTML br=new HTML("<span/>");
  br.setStyleName(CLASSNAME + "-deco");
  buttons.add(br);
  buttons.add(remove);
  panel.add(buttons);
  panel.add(selections);
  options.addKeyDownHandler(this);
  options.addMouseDownHandler(this);
  selections.addMouseDownHandler(this);
  selections.addKeyDownHandler(this);
  updateEnabledState();
}
