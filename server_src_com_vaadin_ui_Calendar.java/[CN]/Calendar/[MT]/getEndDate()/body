{
  if (endDate == null) {
    currentCalendar.set(java.util.Calendar.MILLISECOND,0);
    currentCalendar.set(java.util.Calendar.SECOND,59);
    currentCalendar.set(java.util.Calendar.MINUTE,59);
    currentCalendar.set(java.util.Calendar.HOUR_OF_DAY,23);
    currentCalendar.set(java.util.Calendar.DAY_OF_WEEK,currentCalendar.getFirstDayOfWeek() + 6);
    return currentCalendar.getTime();
  }
  return endDate;
}
