{
  LayoutManager lm=getLayoutManager();
  VWindow window=getWidget();
  Element contentElement=window.contentPanel.getElement();
  boolean needsMinWidth=!isUndefinedWidth() || window.layout.isRelativeWidth();
  int minWidth=window.getMinWidth();
  if (needsMinWidth && lm.getInnerWidth(contentElement) < minWidth) {
    window.setWidth(minWidth + "px");
  }
  boolean needsMinHeight=!isUndefinedHeight() || window.layout.isRelativeHeight();
  int minHeight=window.getMinHeight();
  if (needsMinHeight && lm.getInnerHeight(contentElement) < minHeight) {
    window.setHeight(minHeight + "px");
  }
  Style contentStyle=window.contents.getStyle();
  int headerHeight=lm.getOuterHeight(window.header);
  contentStyle.setPaddingTop(headerHeight,Unit.PX);
  contentStyle.setMarginTop(-headerHeight,Unit.PX);
  int footerHeight=lm.getOuterHeight(window.footer);
  contentStyle.setPaddingBottom(footerHeight,Unit.PX);
  contentStyle.setMarginBottom(-footerHeight,Unit.PX);
}
