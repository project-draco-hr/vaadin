{
  JavaScript.getCurrent().addFunction("com.example.api.notify",new JavaScriptFunction(){
    @Override public void call(    JSONArray arguments) throws JSONException {
      try {
        String caption=arguments.getString(0);
        if (arguments.length() == 1) {
          Notification.show(caption);
        }
 else {
          Notification.show(caption,Type.values()[arguments.getInt(1)]);
        }
      }
 catch (      JSONException e) {
        JavaScript.getCurrent().execute("console.error('" + e.getMessage() + "')");
      }
    }
  }
);
  addComponent(new Link("Send message",new ExternalResource("javascript:(function(){com.example.api.notify(prompt('Message'),2);})();")));
}
