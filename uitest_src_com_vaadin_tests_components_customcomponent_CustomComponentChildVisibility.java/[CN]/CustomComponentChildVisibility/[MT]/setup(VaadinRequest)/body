{
  final CustomComponent cc=new CustomComponent(new Panel("In CustomComponent",new Label("In panel")));
  final CheckBox cb=new CheckBox("CustomComponent visible");
  cb.setValue(true);
  cb.setImmediate(true);
  cb.addValueChangeListener(new ValueChangeListener(){
    @Override public void valueChange(    ValueChangeEvent event){
      cc.setVisible(cb.getValue());
    }
  }
);
  addComponent(cc);
  addComponent(cb);
}
