{
  final Label l=new Label();
  getLayout().addComponent(l);
  getMainWindow().addListener(new ResizeListener(){
    public void windowResized(    ResizeEvent e){
      l.setValue("Current main window size: " + getMainWindow().getWidth() + " x "+ getMainWindow().getHeight());
    }
  }
);
  CheckBox subwindow=new CheckBox("show subwindow");
  subwindow.setImmediate(true);
  subwindow.addListener(new Property.ValueChangeListener(){
    @Override public void valueChange(    ValueChangeEvent event){
      if ((Boolean)event.getProperty().getValue()) {
        getMainWindow().addWindow(subwin);
      }
 else {
        getMainWindow().removeWindow(subwin);
      }
    }
  }
);
  getLayout().addComponent(subwindow);
  CheckBox immediate=new CheckBox("immediate");
  immediate.addListener(new Property.ValueChangeListener(){
    @Override public void valueChange(    ValueChangeEvent event){
      boolean booleanValue=(Boolean)event.getProperty().getValue();
      getMainWindow().setImmediate(booleanValue);
      subwin.setImmediate(booleanValue);
    }
  }
);
  immediate.setImmediate(true);
  immediate.setValue(true);
  getMainWindow().setImmediate(true);
  subwin.setImmediate(true);
  getLayout().addComponent(immediate);
  getLayout().addComponent(new Button("Sync"));
}
