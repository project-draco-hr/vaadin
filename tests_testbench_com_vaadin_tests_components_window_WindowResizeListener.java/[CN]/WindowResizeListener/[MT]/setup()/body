{
  final Label l=new Label();
  getLayout().addComponent(l);
  getMainWindow().addListener(new ResizeListener(){
    public void windowResized(    ResizeEvent e){
      l.setValue("Current main window size: " + getMainWindow().getWidth() + " x "+ getMainWindow().getHeight());
    }
  }
);
  CheckBox subwindow=new CheckBox("show subwindow");
  subwindow.setImmediate(true);
  subwindow.addListener(new Button.ClickListener(){
    public void buttonClick(    ClickEvent event){
      if (event.getButton().booleanValue()) {
        getMainWindow().addWindow(subwin);
      }
 else {
        getMainWindow().removeWindow(subwin);
      }
    }
  }
);
  getLayout().addComponent(subwindow);
  CheckBox immediate=new CheckBox("immediate");
  immediate.addListener(new Button.ClickListener(){
    public void buttonClick(    ClickEvent event){
      boolean booleanValue=event.getButton().booleanValue();
      getMainWindow().setImmediate(booleanValue);
      subwin.setImmediate(booleanValue);
    }
  }
);
  immediate.setImmediate(true);
  immediate.setValue(true);
  getMainWindow().setImmediate(true);
  subwin.setImmediate(true);
  getLayout().addComponent(immediate);
  getLayout().addComponent(new Button("Sync"));
}
