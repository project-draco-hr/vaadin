{
  if (xml == null || xml.length() <= 0) {
    return new StringBuffer("");
  }
  StringBuffer result=new StringBuffer(xml.length() * 2);
  for (int i=0; i < xml.length(); i++) {
    char c=xml.charAt(i);
    String s=toXmlChar(c);
    if (s != null) {
      result.append(s);
    }
 else {
      result.append(c);
    }
  }
  return result;
}
