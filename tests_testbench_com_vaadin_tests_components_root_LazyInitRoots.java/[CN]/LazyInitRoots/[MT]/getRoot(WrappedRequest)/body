{
  if (request.getParameter("lazyCreate") != null) {
    final BrowserDetails browserDetails=request.getBrowserDetails();
    if (browserDetails == null) {
      throw new RootRequiresMoreInformation();
    }
 else {
      Root root=new Root(){
        @Override protected void init(        WrappedRequest request){
          addComponent(new Label("Lazy create root: " + browserDetails.getUriFragment()));
        }
      }
;
      return root;
    }
  }
 else   if (request.getParameter("lazyInit") != null) {
    return new LazyInitRoot();
  }
 else {
    Root root=new Root(){
      @Override protected void init(      WrappedRequest request){
        Link lazyCreateLink=new Link("Open lazyCreate root",new ExternalResource(getURL() + "?lazyCreate#lazyCreate"));
        lazyCreateLink.setTargetName("_blank");
        addComponent(lazyCreateLink);
        Link lazyInitLink=new Link("Open lazyInit root",new ExternalResource(getURL() + "?lazyInit#lazyInit"));
        lazyInitLink.setTargetName("_blank");
        addComponent(lazyInitLink);
      }
    }
;
    return root;
  }
}
