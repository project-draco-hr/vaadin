{
  if (request.getParameter("lazyCreate") != null) {
    BrowserDetails browserDetails=request.getBrowserDetails();
    if (browserDetails == null || browserDetails.getUriFragment() == null) {
      throw new RootRequiresMoreInformationException();
    }
 else {
      UI uI=new UI(){
        @Override protected void init(        WrappedRequest request){
          addComponent(getRequestInfo("LazyCreateRoot",request));
        }
      }
;
      return uI;
    }
  }
 else   if (request.getParameter("eagerInit") != null) {
    return new EagerInitRoot();
  }
 else {
    UI uI=new UI(){
      @Override protected void init(      WrappedRequest request){
        addComponent(getRequestInfo("NormalRoot",request));
        Link lazyCreateLink=new Link("Open lazyCreate root",new ExternalResource(getURL() + "?lazyCreate#lazyCreate"));
        lazyCreateLink.setTargetName("_blank");
        addComponent(lazyCreateLink);
        Link lazyInitLink=new Link("Open eagerInit root",new ExternalResource(getURL() + "?eagerInit#eagerInit"));
        lazyInitLink.setTargetName("_blank");
        addComponent(lazyInitLink);
      }
    }
;
    return uI;
  }
}
