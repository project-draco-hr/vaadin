{
  if (request.getParameter("lazyCreate") != null) {
    final BrowserDetails browserDetails=request.getBrowserDetails();
    if (browserDetails == null || browserDetails.getUriFragment() == null) {
      throw new RootRequiresMoreInformationException();
    }
 else {
      Root root=new Root(){
        @Override protected void init(        WrappedRequest request){
          addComponent(new Label("Lazy create root: " + browserDetails.getUriFragment()));
        }
      }
;
      return root;
    }
  }
 else   if (request.getParameter("eagerInit") != null) {
    return new EagerInitRoot();
  }
 else {
    Root root=new Root(){
      @Override protected void init(      WrappedRequest request){
        Link lazyCreateLink=new Link("Open lazyCreate root",new ExternalResource(getURL() + "?lazyCreate#lazyCreate"));
        lazyCreateLink.setTargetName("_blank");
        addComponent(lazyCreateLink);
        Link lazyInitLink=new Link("Open eagerInit root",new ExternalResource(getURL() + "?eagerInit#eagerInit"));
        lazyInitLink.setTargetName("_blank");
        addComponent(lazyInitLink);
      }
    }
;
    return root;
  }
}
