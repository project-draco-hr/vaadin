{
  WrappedSession wrappedSession=request.getWrappedSession(false);
  if (wrappedSession == null) {
    return;
  }
  VaadinSession serviceSession=VaadinSession.getForSession(getService(),wrappedSession);
  if (serviceSession == null) {
    return;
  }
  serviceSession.setAttribute(VaadinService.PRESERVE_UNBOUND_SESSION_ATTRIBUTE,Boolean.TRUE);
  serviceSession.removeFromSession(getService());
  serviceSession.setAttribute(VaadinService.PRESERVE_UNBOUND_SESSION_ATTRIBUTE,null);
}
