{
  new LayoutMemoryUsageIE8Extension().extend(this);
  VerticalLayout layout=new VerticalLayout();
  setContent(layout);
  final VerticalLayout contentLayout=new VerticalLayout();
  Button button=new Button("Toggle");
  button.setId("toggle");
  button.addClickListener(new ClickListener(){
    @Override public void buttonClick(    ClickEvent event){
      contentLayout.removeAllComponents();
      if (state) {
        contentLayout.addComponent(component1);
      }
 else {
        contentLayout.addComponent(component2);
      }
      state=!state;
    }
  }
);
  layout.addComponent(button);
  layout.addComponent(contentLayout);
}
