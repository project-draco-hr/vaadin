{
  DesignContext designContext=new DesignContext(doc);
  designContext.getPrefixes(doc);
  Element root=doc.body();
  DesignSynchronizable componentRoot=null;
  for (  Node element : root.childNodes()) {
    if (element instanceof Element) {
      if (componentRoot != null) {
        throw new DesignException("The first level of a component hierarchy should contain a single root component, but found " + "two: " + componentRoot + " and "+ element+ ".");
      }
      componentRoot=designContext.createChild((Element)element);
      designContext.setComponentRoot(componentRoot);
    }
  }
  return designContext;
}
