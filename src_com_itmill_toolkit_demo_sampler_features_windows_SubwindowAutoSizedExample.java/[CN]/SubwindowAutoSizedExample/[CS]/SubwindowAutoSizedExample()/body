{
  subwindow=new Window("Automatically sized subwindow");
  VerticalLayout layout=(VerticalLayout)subwindow.getLayout();
  layout.setMargin(true);
  layout.setSpacing(true);
  layout.setSizeUndefined();
  for (int i=0; i < 7; i++) {
    TextField tf=new TextField();
    tf.setWidth("400px");
    subwindow.addComponent(tf);
  }
  Button close=new Button("Close",new Button.ClickListener(){
    public void buttonClick(    ClickEvent event){
      getApplication().getMainWindow().removeWindow(subwindow);
    }
  }
);
  layout.addComponent(close);
  layout.setComponentAlignment(close,"right bottom");
  Button open=new Button("Open sized window",new Button.ClickListener(){
    public void buttonClick(    ClickEvent event){
      if (subwindow.getParent() != null) {
        getWindow().showNotification("Window is already open");
      }
 else {
        getApplication().getMainWindow().addWindow(subwindow);
      }
    }
  }
);
  addComponent(open);
}
