{
  if (width == null) {
    int tbWidth=Util.getRequiredWidth(tb);
    if (popupWidth < 0) {
      popupWidth=Util.getRequiredWidth(popupOpener);
    }
    int iconWidth=selectedItemIcon.isAttached() ? Util.measureMarginLeft(tb.getElement()) - Util.measureMarginLeft(selectedItemIcon.getElement()) : 0;
    int w=tbWidth + popupWidth + iconWidth;
    if ((!initDone || currentPage + 1 < 0) && suggestionPopupMinWidth > w) {
      setTextboxWidth(suggestionPopupMinWidth);
      w=suggestionPopupMinWidth;
    }
 else {
      tb.setWidth((tbWidth - getTextboxPadding()) + "px");
    }
    super.setWidth((w) + "px");
    width=w + "px";
  }
 else {
    setTextboxWidth(getMainWidth() - getComponentPadding());
  }
}
