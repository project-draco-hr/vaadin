{
switch (event.getNativeKeyCode()) {
case KeyCodes.KEY_DOWN:
    suggestionPopup.selectNextItem();
  DOM.eventPreventDefault(DOM.eventGetCurrentEvent());
event.stopPropagation();
break;
case KeyCodes.KEY_UP:
suggestionPopup.selectPrevItem();
DOM.eventPreventDefault(DOM.eventGetCurrentEvent());
event.stopPropagation();
break;
case KeyCodes.KEY_PAGEDOWN:
if (hasNextPage()) {
filterOptions(currentPage + 1,lastFilter);
}
event.stopPropagation();
break;
case KeyCodes.KEY_PAGEUP:
if (currentPage > 0) {
filterOptions(currentPage - 1,lastFilter);
}
event.stopPropagation();
break;
case KeyCodes.KEY_TAB:
tabPressedWhenPopupOpen=true;
filterOptions(currentPage);
break;
case KeyCodes.KEY_ENTER:
filterOptions(currentPage);
if (currentSuggestions.size() == 1 && !allowNewItem) {
suggestionPopup.menu.selectItem(suggestionPopup.menu.getItems().get(0));
}
suggestionPopup.menu.doSelectedItemAction();
event.stopPropagation();
break;
}
}
