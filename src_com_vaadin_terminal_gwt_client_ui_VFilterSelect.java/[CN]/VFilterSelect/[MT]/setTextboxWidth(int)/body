{
  int padding=getTextboxPadding();
  int popupOpenerWidth=Util.getRequiredWidth(popupOpener);
  int iconWidth=selectedItemIcon.isAttached() ? Util.getRequiredWidth(selectedItemIcon) : 0;
  int textboxWidth=componentWidth - padding - popupOpenerWidth- iconWidth;
  if (textboxWidth < 0) {
    textboxWidth=0;
  }
  tb.setWidth(textboxWidth + "px");
}
