{
  focused=false;
  if (!readonly) {
    if (tabPressed) {
      tabPressed=false;
      suggestionPopup.menu.doSelectedItemAction();
      suggestionPopup.hide();
    }
 else     if (!suggestionPopup.isAttached() || suggestionPopup.isJustClosed()) {
      suggestionPopup.menu.doSelectedItemAction();
    }
    if (selectedOptionKey == null) {
      setPromptingOn();
    }
  }
  removeStyleDependentName("focus");
  if (client.hasEventListeners(this,BLUR_EVENT_IDENTIFIER)) {
    client.updateVariable(paintableId,BLUR_EVENT_IDENTIFIER,"",true);
  }
}
