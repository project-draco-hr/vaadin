{
  if (BrowserInfo.get().isIE() && preventNextBlurEventInIE) {
    preventNextBlurEventInIE=false;
    iePreventNextFocus=true;
    tb.setFocus(true);
    return;
  }
  focused=false;
  if (!readonly) {
    if (tabPressed) {
      tabPressed=false;
      suggestionPopup.menu.doSelectedItemAction();
      suggestionPopup.hide();
    }
 else     if (!suggestionPopup.isAttached() || suggestionPopup.isJustClosed()) {
      suggestionPopup.menu.doSelectedItemAction();
    }
    if (selectedOptionKey == null) {
      setPromptingOn();
    }
  }
  removeStyleDependentName("focus");
  if (client.hasEventListeners(this,EventId.BLUR)) {
    client.updateVariable(paintableId,EventId.BLUR,"",true);
  }
}
