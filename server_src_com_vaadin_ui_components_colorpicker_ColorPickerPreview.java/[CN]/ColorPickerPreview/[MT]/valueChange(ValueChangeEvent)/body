{
  String value=(String)event.getProperty().getValue();
  if (!field.isValid()) {
    field.setValue(oldValue);
    return;
  }
 else {
    oldValue=value;
  }
  if (value != null && value.length() == 7) {
    int red=Integer.parseInt(value.substring(1,3),16);
    int green=Integer.parseInt(value.substring(3,5),16);
    int blue=Integer.parseInt(value.substring(5,7),16);
    color=new Color(red,green,blue);
    fireEvent(new ColorChangeEvent((Component)field.getData(),color));
  }
}
