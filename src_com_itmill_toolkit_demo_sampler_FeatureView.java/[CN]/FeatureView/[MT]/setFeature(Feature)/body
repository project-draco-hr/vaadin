{
  if (feature != currentFeature) {
    right.removeAllComponents();
    left.removeAllComponents();
    showSource(false);
    left.addComponent(controls);
    controls.setCaption(feature.getName());
    left.addComponent(getExampleFor(feature));
    right.setCaption("Description and Resources");
    Label l=new Label(feature.getDescription());
    l.setContentMode(Label.CONTENT_XHTML);
    right.addComponent(l);
    sourceCode.setValue(feature.getSource());
    NamedExternalResource[] resources=feature.getRelatedResources();
    if (resources != null) {
      VerticalLayout res=new VerticalLayout();
      res.setCaption("Additional resources");
      for (      NamedExternalResource r : resources) {
        res.addComponent(new Link(r.getName(),r));
      }
      right.addComponent(res);
    }
    APIResource[] apis=feature.getRelatedAPI();
    if (apis != null) {
      VerticalLayout api=new VerticalLayout();
      api.setCaption("API documentation");
      for (      APIResource r : apis) {
        api.addComponent(new Link(r.getName(),r));
      }
      right.addComponent(api);
    }
    Class[] features=feature.getRelatedFeatures();
    if (features != null) {
      VerticalLayout rel=new VerticalLayout();
      rel.setCaption("Related Samples");
      for (      Class c : features) {
        final Feature f=SamplerApplication.getFeatureFor(c);
        if (f != null) {
          String path=SamplerApplication.getPathFor(f);
          ActiveLink al=new ActiveLink(f.getName(),new ExternalResource(getApplication().getURL() + "#" + path));
          al.addListener(new LinkActivatedListener(){
            public void linkActivated(            LinkActivatedEvent event){
              if (event.isLinkOpened()) {
                getWindow().showNotification(f.getName() + " opened if new window/tab");
              }
 else {
                SamplerWindow w=(SamplerWindow)getWindow();
                w.setFeature(f);
              }
            }
          }
);
          rel.addComponent(al);
        }
      }
      right.addComponent(rel);
    }
  }
}
