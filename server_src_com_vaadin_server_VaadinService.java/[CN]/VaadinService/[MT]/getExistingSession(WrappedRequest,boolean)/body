{
  final WrappedSession session=request.getWrappedSession(allowSessionCreation);
  if (session == null) {
    throw new SessionExpiredException();
  }
  VaadinSession sessionApplication=VaadinSession.getForSession(session);
  if (sessionApplication == null) {
    return null;
  }
  return sessionApplication;
}
