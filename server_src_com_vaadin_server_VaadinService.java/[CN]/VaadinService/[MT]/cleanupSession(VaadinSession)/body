{
  if (isSessionActive(session)) {
    closeInactiveUIs(session);
    removeClosedUIs(session);
  }
 else {
    if (!session.isClosing()) {
      getLogger().fine("Closing inactive session " + session.getSession().getId());
      closeSession(session);
    }
    session.removeFromSession(this);
  }
}
