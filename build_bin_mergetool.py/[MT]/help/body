def help(exitvalue=0):
    print 'Usage: batchmerge [options] <command>\n'
    print 'Options:'
    print "\t-m\tOnly merge. (For 'single' command.)"
    print "\t-c\tOnly commit. (For 'single' command.)"
    print "\t-html\tHTML output. (For 'log' command.)"
    print '\t-author\tHTML output. (Include author in HTML log.)'
    print "\t-milestone <ms>\tList tickets in milestone (For 'log' command.)"
    print '\nCommands:'
    print 'massmerge <cfg> <src> [<from>] '
    print '                          - Merges changesets listed in the configuration'
    print '                            file. The file is in svn log (text) format.'
    print '                            You can comment out unwanted changesets.'
    print '                            Merge is stopped on conflict.'
    print '                            If you give the optional <from> parameter,'
    print '                            merge is started from the changeset number. '
    print 'single <chg#> <target>    - Merges a single changeset. If -m is given,'
    print '                            only merge is done. If -c is given, only commit is done.'
    print 'revert                    - Reverts all changes made to repository except'
    print '                            changes in this program and the merge files.'
    print 'log <cfg> <src> <trg>     - Prints a ChangeLog as it will appear in the'
    print '                            commit log. If -html option is given,'
    print '                            the log is printed in a HTML format'
    print '                            suitable for the Release Notes.'
    print 'commit <cfg> <src> <trg>  - Commits all changes, except changes to this'
    print '                            program and merge files. The commit log'
    print '                            comment includes list of all changesets'
    print '                            listed in the configuration. The <target>'
    print '                            is the branch name, e.g., "5.2".\n'
    print 'Common parameters:'
    print '    <cfg>                 - Configuration file (svn text log format).'
    print '    <src>                 - Source branch relative to repository URI.'
    print '    <trg>                 - Target branch relative to repository URI.'
    print 'You must run the command in the root directory of the branch.'
    print 'The program file contains some basic configuration parameters.'
    sys.exit(exitvalue)
