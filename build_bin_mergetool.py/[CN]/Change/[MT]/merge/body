def merge(self, trunkURI, dryrun=0):
    drycmd = ''
    if dryrun:
        drycmd = '--dry-run'
    mergesign = ''
    if self.undo:
        mergesign = '-'
    cmd = ('svn merge --non-interactive %s -c %s%d %s' % (drycmd, mergesign, self.id, trunkURI))
    print cmd
    pin = os.popen(cmd, 'r')
    lines = pin.readlines()
    pin.close()
    conflicts = 0
    for line in lines:
        print line[:(-1)]
        if line.startswith('C'):
            conflicts += 1
        elif line.startswith('Skipped'):
            conflicts += 1
        filename = line[8:(-1)]
    if (conflicts > 0):
        print 'Problems detected. Exiting.'
        sys.exit(1)
