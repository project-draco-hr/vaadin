def commit(self):
    logtmpname = ('/tmp/merge-single-%d.log' % os.getpid())
    fout = open(logtmpname, 'w')
    fout.write(self.comment)
    fout.close()
    files = listChangedFiles()
    if (len(files) == 0):
        print 'Error: Will not do empty commit.'
        sys.exit(1)
    changedfiles = ('\n'.join(files) + '\n')
    targettmpname = ('/tmp/merge-targets-%d.txt' % os.getpid())
    fout = open(targettmpname, 'w')
    fout.write(changedfiles)
    fout.close()
    print changedfiles,
    command(('svn commit --file %s --targets %s' % (logtmpname, targettmpname)))
    command(('rm %s %s' % (logtmpname, targettmpname)))
