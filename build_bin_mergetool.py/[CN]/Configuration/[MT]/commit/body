def commit(self, sourcebranch, targetbranch, dryrun=0):
    logcomment = self.createLogComment()
    logtmpname = ('/tmp/massmerge-pid-%d.log' % os.getpid())
    fout = open(logtmpname, 'w')
    fout.write(logcomment)
    fout.close()
    changedfiles = '\n'.join(listChangedFiles())
    targettmpname = ('/tmp/massmerge-targets-%d.txt' % os.getpid())
    fout = open(targettmpname, 'w')
    fout.write(changedfiles)
    fout.close()
    if dryrun:
        print 'Log:'
        os.system(('cat %s' % logtmpname))
        print '\nChanged Files:'
        os.system(('cat %s' % targettmpname))
        print '\n'
    command(('svn commit --file %s --targets %s' % (logtmpname, targettmpname)), dryrun=dryrun)
    command(('rm %s %s' % (logtmpname, targettmpname)))
