{
  if (value instanceof ExternalResource) {
    addAttribute(name,((ExternalResource)value).getURL());
  }
 else   if (value instanceof ApplicationResource) {
    ApplicationResource r=(ApplicationResource)value;
    Application a=r.getApplication();
    if (a == null)     throw new PaintException("Application not specified for resorce " + value.getClass().getName());
    String uri=a.getURL().getPath();
    if (uri.charAt(uri.length() - 1) != '/')     uri+="/";
    uri+=a.getRelativeLocation(r);
    addAttribute(name,uri);
  }
 else   if (value instanceof ThemeResource) {
    addAttribute(name,webAdapterServlet.getResourceLocation(theme.getName(),(ThemeResource)value));
  }
 else   throw new PaintException("Web adapter does not " + "support resources of type: " + value.getClass().getName());
}
