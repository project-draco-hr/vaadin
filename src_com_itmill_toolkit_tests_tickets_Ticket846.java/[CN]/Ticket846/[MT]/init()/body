{
  final Window mainWin=new Window("Test app for #846");
  setMainWindow(mainWin);
  final TextField tx=new TextField("Integer");
  mainWin.addComponent(tx);
  tx.setImmediate(true);
  tx.addValidator(new Validator(){
    public boolean isValid(    Object value){
      try {
        Integer.parseInt("" + value);
        return true;
      }
 catch (      NumberFormatException e) {
        return false;
      }
    }
    public void validate(    Object value) throws InvalidValueException {
      if (!isValid(value))       throw new InvalidValueException(value + " is not a number");
    }
  }
);
}
