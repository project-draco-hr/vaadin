{
  while (section.getRowCount() != 0) {
    section.removeRow(0);
  }
  for (  RowState rowState : state.rows) {
    GridStaticSection.StaticRow<?> row=section.appendRow();
    for (    CellState cellState : rowState.cells) {
      CustomGridColumn column=columnIdToColumn.get(cellState.columnId);
      GridStaticSection.StaticCell cell=row.getCell(column);
      updateStaticCellFromState(cell,cellState);
    }
    for (    Set<String> group : rowState.cellGroups.keySet()) {
      GridColumn<?,?>[] columns=new GridColumn<?,?>[group.size()];
      CellState cellState=rowState.cellGroups.get(group);
      int i=0;
      for (      String columnId : group) {
        columns[i]=columnIdToColumn.get(columnId);
        i++;
      }
      updateStaticCellFromState(row.join(columns),cellState);
    }
    if (section instanceof GridHeader && rowState.defaultRow) {
      ((GridHeader)section).setDefaultRow((HeaderRow)row);
    }
  }
  section.setVisible(state.visible);
  section.requestSectionRefresh();
}
