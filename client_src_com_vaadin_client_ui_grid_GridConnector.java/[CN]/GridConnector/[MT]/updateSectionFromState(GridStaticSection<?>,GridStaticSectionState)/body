{
  while (section.getRowCount() != 0) {
    section.removeRow(0);
  }
  for (  RowState rowState : state.rows) {
    GridStaticSection.StaticRow<?> row=section.appendRow();
    for (    CellState cellState : rowState.cells) {
      CustomGridColumn column=columnIdToColumn.get(cellState.columnId);
      GridStaticSection.StaticCell cell=row.getCell(column);
      updateStaticCellFromState(cell,cellState);
    }
    for (    List<String> group : rowState.cellGroups) {
      GridColumn<?,?>[] columns=new GridColumn<?,?>[group.size()];
      String firstId=group.get(0);
      CellState cellState=null;
      for (      CellState c : rowState.cells) {
        if (c.columnId.equals(firstId)) {
          cellState=c;
        }
      }
      for (int i=0; i < group.size(); ++i) {
        columns[i]=columnIdToColumn.get(group.get(i));
      }
      updateStaticCellFromState(row.join(columns),cellState);
    }
    if (section instanceof GridHeader && rowState.defaultRow) {
      ((GridHeader)section).setDefaultRow((HeaderRow)row);
    }
  }
  section.setVisible(state.visible);
  section.requestSectionRefresh();
}
