{
  if (!ordered) {
    Collection ids=container.getItemIds();
    if (next == null || first == null || last == null || prev != null) {
      first=null;
      last=null;
      next=new Hashtable();
      prev=new Hashtable();
    }
    LinkedList l=new LinkedList(next.keySet());
    for (Iterator i=l.iterator(); i.hasNext(); ) {
      Object id=i.next();
      if (!container.containsId(id))       removeFromOrderWrapper(id);
    }
    for (Iterator i=ids.iterator(); i.hasNext(); ) {
      Object id=i.next();
      if (!next.containsKey(id))       addToOrderWrapper(id);
    }
  }
}
