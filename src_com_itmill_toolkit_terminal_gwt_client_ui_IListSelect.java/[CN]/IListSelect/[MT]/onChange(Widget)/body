{
  int si=select.getSelectedIndex();
  if (si == -1 && !isNullSelectionAllowed()) {
    select.setSelectedIndex(lastSelectedIndex);
  }
 else {
    lastSelectedIndex=si;
    if (select.isMultipleSelect()) {
      client.updateVariable(id,"selected",getSelectedItems(),immediate);
    }
 else {
      client.updateVariable(id,"selected",new String[]{"" + getSelectedItem()},immediate);
    }
  }
}
