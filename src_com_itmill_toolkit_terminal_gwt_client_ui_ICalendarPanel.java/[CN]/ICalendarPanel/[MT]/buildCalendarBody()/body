{
  Date date=datefield.date;
  int startWeekDay=datefield.dts.getStartWeekDay(date);
  int numDays=DateTimeService.getNumberOfDaysInMonth(date);
  int dayCount=0;
  for (int row=2; row < 8; row++) {
    for (int col=0; col < 7; col++) {
      if (row == 2 && col < startWeekDay) {
        setText(row,col,"");
      }
 else {
        if (numDays > dayCount) {
          int selectedDate=++dayCount;
          setText(row,col,"" + selectedDate);
        }
 else {
          setText(row,col,"");
        }
      }
    }
  }
}
