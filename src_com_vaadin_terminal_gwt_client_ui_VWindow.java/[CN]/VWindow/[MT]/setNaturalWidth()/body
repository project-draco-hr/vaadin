{
  DOM.setStyleAttribute(getElement(),"width","");
  String oldHeaderWidth="";
  if (BrowserInfo.get().isIE6()) {
    oldHeaderWidth=headerText.getStyle().getProperty("width");
    DOM.setStyleAttribute(contentPanel.getElement(),"width","auto");
    DOM.setStyleAttribute(contentPanel.getElement(),"zoom","1");
    headerText.getStyle().setProperty("width","auto");
  }
  int contentWidth=contentPanel.getElement().getScrollWidth();
  contentWidth+=getContentAreaToRootDifference();
  int windowCaptionWidth=getOffsetWidth();
  int naturalWidth=(contentWidth > windowCaptionWidth ? contentWidth : windowCaptionWidth);
  if (BrowserInfo.get().isIE6()) {
    headerText.getStyle().setProperty("width",oldHeaderWidth);
  }
  setWidth(naturalWidth + "px");
}
