{
  JSONObject jsonMap=new JSONObject();
  try {
    for (    PropertyDescriptor pd : Introspector.getBeanInfo(value.getClass()).getPropertyDescriptors()) {
      Class<?> fieldType=pd.getPropertyType();
      String fieldName=getTransportFieldName(pd);
      if (fieldName == null) {
        continue;
      }
      Method getterMethod=pd.getReadMethod();
      Object fieldValue=getterMethod.invoke(value,(Object[])null);
      jsonMap.put(fieldName,encode(fieldValue,fieldType,application));
    }
  }
 catch (  Exception e) {
    throw new JSONException(e);
  }
  return jsonMap;
}
