{
  if (client.updateComponent(this,uidl,false)) {
    return;
  }
  String uidlFragment=uidl.getStringVariable("fragment");
  immediate=uidl.getBooleanAttribute("immediate");
  if (this.client == null) {
    this.client=client;
    paintableId=uidl.getId();
    if (!fragment.equals(uidlFragment)) {
      History.fireCurrentHistoryState();
    }
  }
 else {
    if (uidlFragment != null && !uidlFragment.equals(fragment)) {
      fragment=uidlFragment;
      History.newItem(uidlFragment,false);
    }
  }
}
