{
  addComponent(log);
  final JavaScript js=JavaScript.getCurrent();
  js.addCallback("testing.doTest",new JavaScriptCallback(){
    @Override public void call(    JSONArray arguments) throws JSONException {
      log.log("Got " + arguments.length() + " arguments");
      log.log("Argument 1 as a number: " + arguments.getInt(0));
      log.log("Argument 2 as a string: " + arguments.getString(1));
      log.log("Argument 3.p as a boolean: " + arguments.getJSONObject(2).getBoolean("p"));
      log.log("Argument 4 is JSONObject.NULL: " + (arguments.get(3) == JSONObject.NULL));
      js.removeCallback("testing.doTest");
    }
  }
);
  js.execute("window.testing.doTest(42, 'text', {p: true}, null)");
}
