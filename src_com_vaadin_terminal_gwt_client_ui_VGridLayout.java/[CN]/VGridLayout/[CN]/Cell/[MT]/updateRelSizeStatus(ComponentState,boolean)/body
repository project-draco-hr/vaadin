{
  if (state != null && !cached) {
    boolean widthDefined=!state.isUndefinedWidth();
    boolean heightDefined=!state.isUndefinedHeight();
    relHeight=state.getHeight().contains("%");
    relWidth=state.getWidth().contains("%");
    if (widthDefined) {
      widthCanAffectHeight=(relWidth && !heightDefined);
    }
 else {
      widthCanAffectHeight=!heightDefined;
    }
  }
}
