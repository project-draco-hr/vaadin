{
  if (state != null && !cached) {
    boolean widthDefined=state.getState().containsKey("width");
    boolean heightDefined=state.getState().containsKey("height");
    if (heightDefined && String.valueOf(state.getState().get("height")).contains("%")) {
      relHeight=true;
    }
 else {
      relHeight=false;
    }
    if (widthDefined) {
      widthCanAffectHeight=relWidth=String.valueOf(state.getState().get("width")).contains("%");
      if (heightDefined) {
        widthCanAffectHeight=false;
      }
    }
 else {
      widthCanAffectHeight=!heightDefined;
      relWidth=false;
    }
  }
}
