{
  if (!isUndefinedHeight()) {
    int usedSpace=minRowHeights[0];
    int verticalSpacing=getVerticalSpacing();
    for (int i=1; i < minRowHeights.length; i++) {
      usedSpace+=verticalSpacing + minRowHeights[i];
    }
    int availableSpace=getMeasuredSize().getInnerHeight();
    int excessSpace=availableSpace - usedSpace;
    int distributed=0;
    if (excessSpace > 0) {
      for (int i=0; i < rowHeights.length; i++) {
        int ew=excessSpace * rowExpandRatioArray[i] / 1000;
        rowHeights[i]=minRowHeights[i] + ew;
        distributed+=ew;
      }
      excessSpace-=distributed;
      int c=0;
      while (excessSpace > 0) {
        rowHeights[c % rowHeights.length]++;
        excessSpace--;
        c++;
      }
    }
  }
}
