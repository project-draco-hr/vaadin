{
  int x=0;
  int y=0;
  for (int i=0; i < cells.length; i++) {
    y=0;
    for (int j=0; j < cells[i].length; j++) {
      Cell cell=cells[i][j];
      if (cell != null) {
        cell.layout(x,y);
      }
      y+=rowHeights[j] + spacingPixelsVertical;
    }
    x+=columnWidths[i] + spacingPixelsHorizontal;
  }
  if ("".equals(width)) {
    canvas.setWidth((x - spacingPixelsHorizontal) + "px");
  }
 else {
    canvas.setWidth("");
  }
  int canvasHeight;
  if ("".equals(height)) {
    canvasHeight=y - spacingPixelsVertical;
  }
 else   if (getOffsetHeight() > marginTopAndBottom) {
    canvasHeight=getOffsetHeight() - marginTopAndBottom;
  }
 else {
    canvasHeight=0;
  }
  canvas.setHeight(canvasHeight + "px");
}
