{
  Layout baseLayout=getBaseLayout();
  final VerticalLayout vlo=getTestLaytout();
  vlo.setSpacing(false);
  vlo.setMargin(false);
  final AbstractComponent c1=getTestTable();
  c1.setSizeFull();
  final AbstractComponent c2=getTestTable();
  c2.setSizeFull();
  final Button button1=new Button("Set fixed height 350px");
  final Button button2=new Button("Set undefined size and add component");
  final Button button3=new Button("Set fixed width and height 75%");
  final Button button4=new Button("Set size full");
  vlo.addComponent(button1);
  vlo.addComponent(button2);
  vlo.addComponent(button3);
  vlo.addComponent(button4);
  baseLayout.addComponent(vlo);
  final VerticalLayout vlo2=getTestLaytout();
  button1.setEnabled(true);
  button2.setEnabled(false);
  button3.setEnabled(false);
  button4.setEnabled(false);
  vlo2.addComponent(c1);
  vlo2.addComponent(new Label("<div style='height: 1px'></div><hr /><div style='height: 1px'></div>",ContentMode.HTML));
  vlo2.addComponent(c2);
  vlo2.setExpandRatio(c1,0.5f);
  vlo2.setExpandRatio(c2,0.5f);
  baseLayout.addComponent(vlo2);
  button1.addListener(new Button.ClickListener(){
    private static final long serialVersionUID=7716267156088629379L;
    @Override public void buttonClick(    ClickEvent event){
      vlo2.setHeight("350px");
      button1.setEnabled(false);
      button2.setEnabled(true);
    }
  }
);
  button2.addListener(new Button.ClickListener(){
    private static final long serialVersionUID=7716267156088629379L;
    @Override public void buttonClick(    ClickEvent event){
      vlo2.setSizeUndefined();
      Label newLabel=new Label("--- NEW LABEL ---");
      newLabel.setSizeUndefined();
      vlo2.addComponent(newLabel);
      button2.setEnabled(false);
      button3.setEnabled(true);
    }
  }
);
  button3.addListener(new Button.ClickListener(){
    private static final long serialVersionUID=7716267156088629379L;
    @Override public void buttonClick(    ClickEvent event){
      vlo2.setWidth("75%");
      vlo2.setHeight("75%");
      button3.setEnabled(false);
      button4.setEnabled(true);
    }
  }
);
  button4.addListener(new Button.ClickListener(){
    private static final long serialVersionUID=7716267156088629379L;
    @Override public void buttonClick(    ClickEvent event){
      vlo2.setSizeFull();
      button4.setEnabled(false);
    }
  }
);
  return baseLayout;
}
