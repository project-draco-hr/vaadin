{
  setItemDataSource(new BeanItem(dataModel));
  setVisibleItemProperties(new String[]{"name","streetAddress","postalCode","city"});
  getField("name").setRequired(true);
  getField("name").setDescription("Please enter name");
  getField("name").setRequiredError("Name is missing");
  getField("streetAddress").setRequired(true);
  getField("streetAddress").setDescription("Please enter street adderss.");
  getField("postalCode").setRequired(true);
  getField("postalCode").setDescription("Please enter postal code. Example: 12345.");
  replaceWithSelect("city",cities,cities).setNewItemsAllowed(true);
  getField("city").setDescription("Select city from list or type it. City field is not required.");
  setImmediate(true);
  setWriteThrough(false);
}
