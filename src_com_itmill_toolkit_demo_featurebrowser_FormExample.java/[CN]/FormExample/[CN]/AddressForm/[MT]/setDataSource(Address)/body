{
  setItemDataSource(new BeanItem(dataModel));
  setVisibleItemProperties(new String[]{"name","address","postalCode","city"});
  getField("name").setRequired(true);
  getField("name").setRequiredError("Name is missing");
  getField("address").setRequired(true);
  replaceWithSelect("city",cities,cities).setNewItemsAllowed(true);
  getField("address").setCaption("Street Address");
  setImmediate(true);
  setWriteThrough(false);
}
