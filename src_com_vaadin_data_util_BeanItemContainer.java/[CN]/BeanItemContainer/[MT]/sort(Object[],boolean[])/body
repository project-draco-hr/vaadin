{
  for (int i=0; i < ascending.length; i++) {
    final boolean asc=ascending[i];
    final Object property=propertyId[i];
    Collections.sort(allItems,new Comparator<BT>(){
      @SuppressWarnings("unchecked") public int compare(      BT a,      BT b){
        Comparable va, vb;
        if (asc) {
          va=(Comparable)getItem(a).getItemProperty(property).getValue();
          vb=(Comparable)getItem(b).getItemProperty(property).getValue();
        }
 else {
          va=(Comparable)getItem(b).getItemProperty(property).getValue();
          vb=(Comparable)getItem(a).getItemProperty(property).getValue();
        }
        if (va == null) {
          return (vb == null) ? 0 : -1;
        }
 else         if (vb == null) {
          return (va == null) ? 0 : 1;
        }
        return va.compareTo(vb);
      }
    }
);
  }
  filterAll();
}
