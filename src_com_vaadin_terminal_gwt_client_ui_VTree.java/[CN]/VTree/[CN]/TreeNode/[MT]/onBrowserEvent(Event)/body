{
  super.onBrowserEvent(event);
  if (disabled) {
    return;
  }
  final int type=DOM.eventGetType(event);
  final Element target=DOM.eventGetTarget(event);
  if (client.hasEventListeners(VTree.this,ITEM_CLICK_EVENT_ID) && target == nodeCaptionSpan && (type == Event.ONDBLCLICK || type == Event.ONMOUSEUP)) {
    fireClick(event);
  }
  if (type == Event.ONCLICK) {
    if (getElement() == target || ie6compatnode == target) {
      toggleState();
    }
 else     if (!readonly && target == nodeCaptionSpan) {
      toggleSelection();
    }
    DOM.eventCancelBubble(event,true);
  }
 else   if (type == Event.ONCONTEXTMENU) {
    showContextMenu(event);
  }
}
