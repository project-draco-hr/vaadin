{
  TestApp app=new TestApp();
  app.init();
  Window subWindow=new Window("Sub window");
  Window mainWindow=app.getMainWindow();
  mainWindow.addWindow(subWindow);
  assertEquals(subWindow.getParent(),mainWindow);
  boolean removed=subWindow.removeWindow(subWindow);
  assertFalse("Window was removed even though it should not have been",removed);
  assertEquals(subWindow.getParent(),mainWindow);
  removed=mainWindow.removeWindow(subWindow);
  assertTrue("Window was not removed correctly",removed);
  assertNull(subWindow.getParent());
}
