{
  final boolean success=super.removeItem(itemId);
  if (success) {
    if (isRoot(itemId)) {
      roots.remove(itemId);
    }
    children.remove(itemId);
    final Object p=parent.get(itemId);
    if (p != null) {
      final LinkedList c=(LinkedList)children.get(p);
      if (c != null) {
        c.remove(itemId);
      }
    }
    parent.remove(itemId);
    noChildrenAllowed.remove(itemId);
  }
  return success;
}
