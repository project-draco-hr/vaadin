{
  final boolean success=super.removeItem(itemId);
  if (success) {
    if (isRoot(itemId)) {
      roots.remove(itemId);
    }
    LinkedList<Object> remove=children.remove(itemId);
    if (remove != null) {
      for (      Object object : remove) {
        removeItem(object);
      }
    }
    final Object p=parent.get(itemId);
    if (p != null) {
      final LinkedList c=children.get(p);
      if (c != null) {
        c.remove(itemId);
      }
    }
    parent.remove(itemId);
    noChildrenAllowed.remove(itemId);
  }
  return success;
}
