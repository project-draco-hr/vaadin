{
  Widget widget=paintable.getWidget();
  VCaptionWrapper wrapper=childWidgetToCaptionWrapper.get(widget);
  if (VCaption.isNeeded(paintable.getState())) {
    if (wrapper == null) {
      final String loc=getLocation(widget);
      super.remove(widget);
      wrapper=new VCaptionWrapper(paintable,client);
      super.add(wrapper,locationToElement.get(loc));
      childWidgetToCaptionWrapper.put(widget,wrapper);
    }
    wrapper.updateCaption();
  }
 else {
    if (wrapper != null) {
      final String loc=getLocation(widget);
      super.remove(wrapper);
      super.add(widget,locationToElement.get(loc));
      childWidgetToCaptionWrapper.remove(widget);
    }
  }
}
