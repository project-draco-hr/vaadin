{
  if (filterstring == null || "".equals(filterstring)) {
    this.filteredItemsBuffer=new ArrayList(s.getItemIds());
    return this.filteredItemsBuffer;
  }
 else   if (s.getContainerDataSource() != null) {
    this.filteredItemsBuffer=new ArrayList();
    for (Iterator iter=s.getItemIds().iterator(); iter.hasNext(); ) {
      Object id=iter.next();
      Item item=s.getItem(id);
      String test="";
      if (s.getItemCaptionMode() == Select.ITEM_CAPTION_MODE_PROPERTY)       test=item.getItemProperty(s.getItemCaptionPropertyId()).getValue().toString().trim();
 else       test=String.valueOf(id);
      if (test.toLowerCase().indexOf(filterstring) != -1) {
        this.filteredItemsBuffer.add(id);
      }
    }
  }
  return this.filteredItemsBuffer;
}
