{
  if (BrowserInfo.get().isIE8()) {
    DivElement divElement=Document.get().createDivElement();
    divElement.getStyle().setDisplay(Display.NONE);
    RootPanel.getBodyElement().appendChild(divElement);
    divElement.setInnerHTML("<a href='" + escapeAttribute(url) + "' ></a>");
    AnchorElement a=divElement.getChild(0).cast();
    String href=a.getHref();
    RootPanel.getBodyElement().removeChild(divElement);
    return href;
  }
 else {
    AnchorElement a=Document.get().createAnchorElement();
    a.setHref(url);
    return a.getHref();
  }
}
