{
  final Window main=new Window("Calendar demo");
  setMainWindow(main);
  main.setContent(new HorizontalLayout());
  from=new CalendarField();
  main.addComponent(from);
  from.setResolution(DateField.RESOLUTION_HOUR);
  from.setImmediate(true);
  to=new CalendarField();
  main.addComponent(to);
  to.setResolution(DateField.RESOLUTION_HOUR);
  to.setEnabled(false);
  to.setImmediate(true);
  from.addListener(new ValueChangeListener(){
    public void valueChange(    ValueChangeEvent event){
      final Date fd=(Date)from.getValue();
      final Date td=(Date)to.getValue();
      if (fd == null) {
        to.setValue(null);
        to.setEnabled(false);
        return;
      }
 else {
        to.setEnabled(true);
      }
      to.setMinimumDate(fd);
      if (td == null || td.before(fd)) {
        to.setValue(fd);
      }
    }
  }
);
  sampleDatabase=new SampleCalendarDatabase();
  initCalendars();
  from.setMinimumDate(Calendar.getInstance().getTime());
}
