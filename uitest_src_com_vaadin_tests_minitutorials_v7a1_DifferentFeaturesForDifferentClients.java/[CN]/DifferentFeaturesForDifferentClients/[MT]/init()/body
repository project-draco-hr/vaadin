{
  super.init();
  addUIProvider(new UIProvider(){
    @Override public Class<? extends UI> getUIClass(    Application application,    WrappedRequest request){
      if (request.getHeader("user-agent").contains("mobile")) {
        return TouchRoot.class;
      }
 else {
        return DefaultRoot.class;
      }
    }
    @Override public UI createInstance(    Application application,    Class<? extends UI> type,    WrappedRequest request){
      try {
        return type.newInstance();
      }
 catch (      Exception e) {
        throw new RuntimeException(e);
      }
    }
  }
);
}
