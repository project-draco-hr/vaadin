{
  if (null == parent) {
    SelectorPath selectorPath=SelectorPath.vaadin(widgetClass,0,null,locator);
    if (selectorPath.findElement() == locator.getElementByPath(path)) {
      return selectorPath;
    }
 else {
      return null;
    }
  }
  Element parentElement=parent.findElement();
  String parentPathString=locator.getPathForElement(parentElement);
  if (null == parentPathString) {
    parentPathString="";
  }
  Element elementToFind=locator.getElementByPath(parentPathString + path);
  if (null == elementToFind) {
    return null;
  }
  String caption=getCaptionForElement(elementToFind,locator);
  if (null != caption) {
    SelectorPath testPath=SelectorPath.vaadin(widgetClass,caption,parent,locator);
    Element testElement=testPath.findElement();
    if (testElement == elementToFind) {
      return testPath;
    }
  }
  for (int i=0; i < parentElement.getChildCount(); ++i) {
    SelectorPath testPath=SelectorPath.vaadin(widgetClass,i,parent,locator);
    Element testElement=testPath.findElement();
    if (testElement == elementToFind) {
      return testPath;
    }
  }
  return null;
}
