{
  SelectorPath selectorPath=null;
  ApplicationConnection connection=connector.getConnection();
  if (connection != null) {
    if (null == element) {
      element=findConnectorRootElement(connector);
    }
    if (null != element) {
      ComponentLocator locator=new ComponentLocator(connection);
      String path=locator.getPathForElement(element);
      SelectorPath parent=null;
      if (!path.isEmpty()) {
        selectorPath=extractIdSelectorPath(path,locator);
        if (null == selectorPath) {
          if (connector.getParent() != null) {
            parent=findTestBenchSelector(connector.getParent(),null);
          }
          if (parent != null) {
            Element parentElement=parent.findElement();
            if (null != parentElement) {
              String parentPath=locator.getPathForElement(parentElement);
              if (path.startsWith(parentPath)) {
                path=path.substring(parentPath.length());
              }
            }
          }
          selectorPath=extractVaadinSelectorPath(path,parent,locator);
        }
        if (null == selectorPath) {
          if (path.startsWith("/V")) {
            selectorPath=SelectorPath.vaadinPath(path,parent,locator);
          }
 else {
            selectorPath=SelectorPath.xpath(path,parent,locator);
          }
        }
      }
    }
  }
  return selectorPath;
}
