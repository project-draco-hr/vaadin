{
  String connectorId=connector.getConnectorId();
  if (!connectorIdToConnector.containsKey(connectorId)) {
    getLogger().warning("Tried to unregister " + connector.getClass().getSimpleName() + " ("+ connectorId+ ") which is not registered");
    return;
  }
  if (connectorIdToConnector.get(connectorId) != connector) {
    throw new RuntimeException("The given connector with id " + connectorId + " is not the one that was registered for that id");
  }
  dirtyConnectors.remove(connector);
  if (unregisteredConnectors.add(connector)) {
    getLogger().fine("Unregistered " + connector.getClass().getSimpleName() + " ("+ connectorId+ ")");
  }
 else {
    getLogger().warning("Unregistered " + connector.getClass().getSimpleName() + " ("+ connectorId+ ") that was already unregistered.");
  }
}
