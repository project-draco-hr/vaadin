{
  if (vertical || definedHeight) {
    return;
  }
  boolean hasRelativeHeightChildren=false;
  boolean hasVAlign=false;
  for (  Widget slot : getChildren()) {
    Widget widget=((Slot)slot).getWidget();
    String h=widget.getElement().getStyle().getHeight();
    if (h != null && h.indexOf("%") > -1) {
      hasRelativeHeightChildren=true;
    }
    AlignmentInfo a=((Slot)slot).getAlignment();
    if (a != null && (a.isVerticalCenter() || a.isBottom())) {
      hasVAlign=true;
    }
  }
  if (hasRelativeHeightChildren || hasVAlign) {
    int newHeight;
    if (layoutManager != null) {
      newHeight=layoutManager.getOuterHeight(getElement()) - layoutManager.getMarginHeight(getElement());
    }
 else {
      newHeight=getElement().getOffsetHeight();
    }
    getElement().getStyle().setHeight(newHeight,Unit.PX);
  }
}
