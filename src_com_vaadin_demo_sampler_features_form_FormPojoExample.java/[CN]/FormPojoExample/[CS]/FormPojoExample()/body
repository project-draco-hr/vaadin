{
  person=new Person();
  BeanItem personItem=new BeanItem(person);
  final Form personForm=new Form();
  personForm.setWriteThrough(false);
  personForm.setInvalidCommitted(false);
  personForm.setFieldFactory(new PersonFieldFactory());
  personForm.setItemDataSource(personItem);
  personForm.setVisibleItemProperties(Arrays.asList(new String[]{"firstName","lastName","countryCode","password","birthdate","shoesize","uuid"}));
  addComponent(personForm);
  HorizontalLayout buttons=new HorizontalLayout();
  buttons.setSpacing(true);
  Button discardChanges=new Button("Discard changes",new Button.ClickListener(){
    public void buttonClick(    ClickEvent event){
      personForm.discard();
    }
  }
);
  discardChanges.setStyleName(Button.STYLE_LINK);
  buttons.addComponent(discardChanges);
  Button apply=new Button("Apply",new Button.ClickListener(){
    public void buttonClick(    ClickEvent event){
      try {
        personForm.commit();
      }
 catch (      Exception e) {
      }
    }
  }
);
  buttons.addComponent(apply);
  personForm.getLayout().addComponent(buttons);
  Button showPojoState=new Button("Show POJO internal state",new Button.ClickListener(){
    public void buttonClick(    ClickEvent event){
      showPojoState();
    }
  }
);
  addComponent(showPojoState);
}
