{
  Document doc=Jsoup.connect(url.toString()).timeout(20000).get();
  List<String> tests=new ArrayList<String>();
  for (  Element e : doc.select("style[type=text/css]")) {
    tests.add(e.data());
  }
  for (  Element e : doc.select("link[rel=stylesheet][href][type=text/css]")) {
    URI cssUri=new URI(e.attr("href"));
    if (!cssUri.isAbsolute()) {
      cssUri=url.resolve(cssUri);
    }
    String encoding=doc.outputSettings().charset().name();
    tests.add(IOUtils.toString(cssUri,encoding));
  }
  for (  Element e : doc.select("*[style]")) {
    tests.add(String.format(".style { %s }",e.attr("style")));
  }
  for (  final String test : tests) {
    targetdir.mkdirs();
    String logfile=String.format("%s.%d.scss",FilenameUtils.getBaseName(url.toString()),tests.indexOf(test));
    PrintStream dataLogger=new PrintStream(new File(targetdir,logfile));
    dataLogger.println("/* Source: " + url + " */");
    dataLogger.println(test);
  }
}
