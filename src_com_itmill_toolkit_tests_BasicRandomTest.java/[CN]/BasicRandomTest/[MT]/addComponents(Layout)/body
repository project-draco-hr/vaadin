{
  while (components.size() > 0) {
    final ComponentContainer container=getRandomComponentContainer("" + captionCounter++);
    layout.addComponent(container);
    final int groupsize=rand.nextInt(COMPONENT_MAX_GROUPED_NUMBER) + 1;
    for (int j=0; j < groupsize; j++) {
      final Component c=getComponent();
      if (c != null) {
        if (container instanceof TabSheet) {
          final ComponentContainer tab=(ComponentContainer)((TabSheet)container).getSelectedTab();
          tab.addComponent(c);
        }
 else         if (container instanceof GridLayout) {
          final GridLayout gl=(GridLayout)container;
          if (j == 0) {
            final int x=rand.nextInt(gl.getWidth());
            final int y=rand.nextInt(gl.getHeight());
            gl.removeComponent(x,y);
            gl.addComponent(c,x,y);
          }
 else {
            gl.addComponent(c);
          }
        }
 else {
          container.addComponent(c);
        }
      }
    }
  }
}
