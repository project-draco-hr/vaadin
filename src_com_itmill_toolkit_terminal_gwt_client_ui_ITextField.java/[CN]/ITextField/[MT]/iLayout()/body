{
  if (proportionalWidth >= 0) {
    int availPixels=(int)(DOM.getElementPropertyInt(DOM.getParent(getElement()),"clientWidth") * proportionalWidth);
    availPixels-=getExtraHorizontalPixels();
    if (availPixels >= 0) {
      super.setWidth(availPixels + "px");
    }
  }
  if (proportionalHeight >= 0) {
    int availPixels=(int)(DOM.getElementPropertyInt(DOM.getParent(getElement()),"clientHeight") * proportionalHeight);
    availPixels-=getExtraVerticalPixels();
    super.setHeight(availPixels + "px");
  }
}
