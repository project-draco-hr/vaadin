{
  super.updateFromUIDL(uidl,client);
  if (!isRealUpdate(uidl)) {
    return;
  }
  getWidget().client=client;
  getWidget().uidlId=uidl.getId();
  getWidget().hostPopupVisible=uidl.getBooleanVariable("popupVisibility");
  getWidget().setHTML(uidl.getStringAttribute("html"));
  if (uidl.hasAttribute("hideOnMouseOut")) {
    getWidget().popup.setHideOnMouseOut(uidl.getBooleanAttribute("hideOnMouseOut"));
  }
  if (getWidget().hostPopupVisible) {
    UIDL popupUIDL=uidl.getChildUIDL(0);
    getWidget().preparePopup(getWidget().popup);
    getWidget().popup.updateFromUIDL(popupUIDL,client);
    if (getState().hasStyles()) {
      final String[] styles=getState().getStyle().split(" ");
      final StringBuffer styleBuf=new StringBuffer();
      final String primaryName=getWidget().popup.getStylePrimaryName();
      styleBuf.append(primaryName);
      for (int i=0; i < styles.length; i++) {
        styleBuf.append(" ");
        styleBuf.append(primaryName);
        styleBuf.append("-");
        styleBuf.append(styles[i]);
      }
      getWidget().popup.setStyleName(styleBuf.toString());
    }
 else {
      getWidget().popup.setStyleName(getWidget().popup.getStylePrimaryName());
    }
    getWidget().showPopup(getWidget().popup);
  }
 else {
    getWidget().popup.hide();
  }
}
