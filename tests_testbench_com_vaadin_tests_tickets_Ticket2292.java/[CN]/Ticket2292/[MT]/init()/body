{
  final LegacyWindow main=new LegacyWindow(getClass().getName().substring(getClass().getName().lastIndexOf(".") + 1));
  setMainWindow(main);
  ExternalResource icon=new ExternalResource("./icon.png");
  main.addComponent(new Label("Note, run with trailing slash in url to have a working icon. Icon is built by servlet with a slow method, so it will show the bug (components not firing requestLayout)"));
  Button b=new Button();
  main.addComponent(b);
  b.setIcon(icon);
  CheckBox checkBox=new CheckBox();
  main.addComponent(checkBox);
  checkBox.setIcon(icon);
  Link l=new Link("l",icon);
  main.addComponent(l);
  addRequestHandler(this);
}
