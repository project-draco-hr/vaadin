{
  field.setPropertyDataSource(property);
  property.setValue(1);
  property.setReadOnly(true);
  assertEquals(1,field.getValue());
  assertEquals(1,numValueChanges);
  assertEquals(1,numReadOnlyChanges);
  field.attach();
  property.setValue(2);
  property.setReadOnly(false);
  assertEquals(2,field.getValue());
  assertEquals(2,numValueChanges);
  assertEquals(2,numReadOnlyChanges);
  field.detach();
  property.setValue(3);
  property.setReadOnly(true);
  assertEquals(3,field.getValue());
  assertEquals(2,numValueChanges);
  assertEquals(2,numReadOnlyChanges);
  field.attach();
  assertEquals(3,field.getValue());
  assertEquals(3,numValueChanges);
}
