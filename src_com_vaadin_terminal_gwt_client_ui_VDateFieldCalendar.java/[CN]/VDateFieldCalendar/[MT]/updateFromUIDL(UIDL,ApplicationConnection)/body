{
  super.updateFromUIDL(uidl,client);
  caleandarPanel.setShowISOWeekNumbers(isShowISOWeekNumbers());
  caleandarPanel.setDateTimeService(getDateTimeService());
  caleandarPanel.setResolution(getCurrentResolution());
  Date currentDate=getCurrentDate();
  if (currentDate != null) {
    caleandarPanel.setDate(new Date(currentDate.getTime()));
  }
 else {
    caleandarPanel.setDate(null);
  }
  if (currentResolution > RESOLUTION_DAY) {
    caleandarPanel.setTimeChangeListener(new TimeChangeListener(){
      public void changed(      int hour,      int min,      int sec,      int msec){
        Date d=getDate();
        d.setHours(hour);
        d.setMinutes(min);
        d.setSeconds(sec);
        DateTimeService.setMilliseconds(d,msec);
        caleandarPanel.setDate(d);
        updateValueFromPanel();
      }
    }
);
  }
  if (currentResolution <= RESOLUTION_MONTH) {
    caleandarPanel.setValueChangeListener(new ValueChangeListener(){
      public void changed(      Date date){
        Date date2=new Date(caleandarPanel.getDate().getTime());
        date2.setYear(date.getYear());
        date2.setMonth(date.getMonth());
        caleandarPanel.setDate(date2);
        updateValueFromPanel();
      }
    }
);
  }
 else {
    caleandarPanel.setValueChangeListener(null);
  }
  caleandarPanel.renderCalendar();
}
