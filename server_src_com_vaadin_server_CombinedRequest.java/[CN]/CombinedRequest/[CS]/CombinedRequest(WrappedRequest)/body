{
  this.secondRequest=secondRequest;
  HashMap<String,String[]> map=new HashMap<String,String[]>();
  JSONObject initialParams=new JSONObject(secondRequest.getParameter("initialParams"));
  for (Iterator<?> keys=initialParams.keys(); keys.hasNext(); ) {
    String name=(String)keys.next();
    JSONArray jsonValues=initialParams.getJSONArray(name);
    String[] values=new String[jsonValues.length()];
    for (int i=0; i < values.length; i++) {
      values[i]=jsonValues.getString(i);
    }
    map.put(name,values);
  }
  parameterMap=Collections.unmodifiableMap(map);
}
