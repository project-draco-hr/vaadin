{
  VMeasuringOrderedLayout layout=getWidget();
  boolean isVertical=layout.isVertical;
  boolean isUndefined=isUndefinedInDirection(!isVertical);
  int startPadding=getStartPadding(!isVertical);
  int endPadding=getEndPadding(!isVertical);
  int allocatedSize;
  if (isUndefined) {
    allocatedSize=-1;
  }
 else {
    allocatedSize=getInnerSizeInDirection(!isVertical);
  }
  allocatedSize=layout.layoutSecondaryDirection(allocatedSize,startPadding,endPadding);
  Style ownStyle=getWidget().getElement().getStyle();
  if (isUndefined) {
    int outerSize=getSizeForInnerSize(allocatedSize,!getWidget().isVertical);
    ownStyle.setPropertyPx(getSizeProperty(!getWidget().isVertical),outerSize);
    reportUndefinedSize(outerSize,!isVertical);
  }
 else {
    ownStyle.setProperty(getSizeProperty(!getWidget().isVertical),getDefinedSize(!getWidget().isVertical));
  }
}
