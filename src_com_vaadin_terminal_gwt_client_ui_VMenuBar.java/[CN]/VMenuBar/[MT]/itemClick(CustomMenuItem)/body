{
  if (item.getCommand() != null) {
    setSelected(null);
    if (visibleChildMenu != null) {
      visibleChildMenu.hideChildren();
    }
    hideParents(true);
    menuVisible=false;
    Scheduler.get().scheduleDeferred(item.getCommand());
  }
 else {
    if (item.getSubMenu() != null && item.getSubMenu() != visibleChildMenu) {
      setSelected(item);
      showChildMenu(item);
      menuVisible=true;
    }
 else     if (!subMenu) {
      setSelected(null);
      hideChildren();
      menuVisible=false;
    }
  }
}
