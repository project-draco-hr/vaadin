{
  UIDL tabContentUIDL=null;
  ComponentConnector tabContent=null;
  if (tabUidl.getChildCount() > 0) {
    tabContentUIDL=tabUidl.getChildUIDL(0);
    tabContent=client.getPaintable(tabContentUIDL);
  }
  Widget itemWidget=item.getComponent();
  if (tabContent != null) {
    if (tabContent != itemWidget) {
      int oldIndex=-1;
      StackItem oldItem=null;
      for (int i=0; i < getWidgetCount(); i++) {
        Widget w=getWidget(i);
        oldItem=(StackItem)w;
        if (tabContent == oldItem.getComponent()) {
          oldIndex=i;
          break;
        }
      }
      if (oldIndex != -1 && oldIndex > newIndex) {
        insert(oldItem,getElement(),newIndex,true);
        return oldItem;
      }
    }
  }
 else {
    Widget oldWidget=item.getComponent();
    if (oldWidget != null) {
      item=new StackItem(tabUidl);
      insert(item,getElement(),newIndex,true);
    }
  }
  return item;
}
