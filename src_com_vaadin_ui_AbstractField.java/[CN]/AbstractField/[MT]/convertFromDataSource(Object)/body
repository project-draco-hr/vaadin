{
  if (valueConverter != null) {
    return valueConverter.convertFromSourceToTarget(newValue,getLocale());
  }
  if (newValue == null) {
    return null;
  }
  if (getType().isAssignableFrom(newValue.getClass())) {
    return (T)newValue;
  }
 else {
    throw new ConversionException("Unable to convert value of type " + newValue.getClass().getName() + " to "+ getType()+ ". No value converter is set and the types are not compatible.");
  }
}
