{
  VerticalLayout l=new VerticalLayout();
  l.setCaption("Tabs");
  l.setMargin(true);
  l.setSpacing(true);
  l.setWidth("400px");
  CheckBox closable=new CheckBox("Closable tabs");
  closable.setImmediate(true);
  l.addComponent(closable);
  final TabSheet ts=new TabSheet();
  ts.setHeight("100px");
  l.addComponent(ts);
  for (int i=1; i < 10; i++) {
    Tab t=ts.addTab(new Label(),"Tab " + i);
    if (i % 2 == 0) {
      t.setIcon(ICON_GLOBE);
    }
    if (i == 2) {
      t.setEnabled(false);
    }
  }
  closable.addListener(new Property.ValueChangeListener(){
    @Override public void valueChange(    ValueChangeEvent event){
      Iterator<Component> it=ts.getComponentIterator();
      for (; it.hasNext(); ) {
        Component c=it.next();
        ts.getTab(c).setClosable((Boolean)event.getProperty().getValue());
      }
    }
  }
);
  return l;
}
