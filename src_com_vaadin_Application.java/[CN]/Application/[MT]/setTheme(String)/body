{
  final LinkedList<Window> toBeUpdated=new LinkedList<Window>();
  final String oldAppTheme=getTheme();
  for (final Iterator<Window> i=getWindows().iterator(); i.hasNext(); ) {
    final Window w=i.next();
    final String windowTheme=w.getTheme();
    if ((windowTheme == null) || (!windowTheme.equals(theme) && windowTheme.equals(oldAppTheme))) {
      toBeUpdated.add(w);
    }
  }
  this.theme=theme;
  for (final Iterator<Window> i=toBeUpdated.iterator(); i.hasNext(); ) {
    i.next().requestRepaint();
  }
}
