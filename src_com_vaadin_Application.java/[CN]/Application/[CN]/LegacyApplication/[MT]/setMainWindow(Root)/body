{
  if (this.mainWindow != null) {
    throw new IllegalStateException("mainWindow has already been set");
  }
  if (mainWindow.getApplication() == null) {
    mainWindow.setApplication(this);
  }
 else   if (mainWindow.getApplication() != this) {
    throw new IllegalStateException("mainWindow is attached to another application");
  }
  this.mainWindow=mainWindow;
}
