{
  table=new Table();
  table.setSortDisabled(false);
  table.setContainerDataSource(BeanItemContainerGenerator.createContainer(100));
  table.setColumnCollapsingAllowed(true);
  Button b=new Button("Disable sorting",new Button.ClickListener(){
    public void buttonClick(    ClickEvent event){
      table.setSortDisabled(!table.isSortDisabled());
      if (table.isSortDisabled()) {
        event.getButton().setCaption("Enable sorting");
      }
 else {
        event.getButton().setCaption("Disable sorting");
      }
    }
  }
);
  addComponent(table);
  addComponent(b);
}
