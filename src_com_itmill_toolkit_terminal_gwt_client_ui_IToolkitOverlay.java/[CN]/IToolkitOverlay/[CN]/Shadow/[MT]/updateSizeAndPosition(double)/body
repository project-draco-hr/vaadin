{
  String zIndex=null;
  if (IToolkitOverlay.this.isAttached()) {
    try {
      zIndex=DOM.getStyleAttribute(IToolkitOverlay.this.getElement(),"zIndex");
    }
 catch (    Exception ignore) {
    }
  }
  if (zIndex == null) {
    zIndex="" + Z_INDEX;
  }
  if (BrowserInfo.get().isIE()) {
    IToolkitOverlay.this.getOffsetHeight();
    IToolkitOverlay.this.getOffsetWidth();
  }
  int x=IToolkitOverlay.this.getAbsoluteLeft() - left;
  int y=IToolkitOverlay.this.getAbsoluteTop() - top;
  int width=IToolkitOverlay.this.getOffsetWidth() + left + right;
  int height=IToolkitOverlay.this.getOffsetHeight() + top + bottom;
  if (width < 0) {
    width=0;
  }
  if (height < 0) {
    height=0;
  }
  x+=(int)(width * (1.0 - phase) / 2.0);
  y+=(int)(height * (1.0 - phase) / 2.0);
  width=(int)(width * phase);
  height=(int)(height * phase);
  DOM.setStyleAttribute(getElement(),"display",phase < 0.9 ? "none" : "");
  DOM.setStyleAttribute(shadow.getElement(),"zIndex","" + (Integer.parseInt(zIndex) - 1));
  DOM.setStyleAttribute(getElement(),"width",width + "px");
  DOM.setStyleAttribute(getElement(),"height",height + "px");
  DOM.setStyleAttribute(getElement(),"top",y + "px");
  DOM.setStyleAttribute(getElement(),"left",x + "px");
}
