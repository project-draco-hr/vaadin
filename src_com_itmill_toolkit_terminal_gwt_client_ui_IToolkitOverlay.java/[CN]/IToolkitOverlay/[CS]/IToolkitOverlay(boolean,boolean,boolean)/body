{
  super(autoHide,modal);
  if (showShadow) {
    shadow=DOM.createDiv();
    shadow.setClassName(CLASSNAME_SHADOW);
    shadow.setInnerHTML(SHADOW_HTML);
    DOM.setStyleAttribute(shadow,"position","absolute");
    addPopupListener(new PopupListener(){
      public void onPopupClosed(      PopupPanel sender,      boolean autoClosed){
        if (shadow.getParentElement() != null) {
          shadow.getParentElement().removeChild(shadow);
        }
      }
    }
);
  }
  adjustZIndex();
}
