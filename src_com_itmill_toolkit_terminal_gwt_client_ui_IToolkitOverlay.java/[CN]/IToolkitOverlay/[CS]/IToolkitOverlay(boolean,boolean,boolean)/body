{
  super(autoHide,modal);
  if (showShadow) {
    shadow=DOM.createDiv();
    shadow.setClassName(CLASSNAME_SHADOW);
    shadow.setInnerHTML(SHADOW_HTML);
    DOM.setStyleAttribute(shadow,"position","absolute");
    addPopupListener(new PopupListener(){
      public void onPopupClosed(      PopupPanel sender,      boolean autoClosed){
        DOM.removeChild(RootPanel.get().getElement(),shadow);
      }
    }
);
  }
  adjustZIndex();
}
