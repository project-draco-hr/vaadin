{
  final Window main=new Window(getClass().getName().substring(getClass().getName().lastIndexOf(".") + 1));
  setMainWindow(main);
  URL url=getURL();
  main.addComponent(new Label("Icon is built by servlet with a slow method, so it will show the bug (components not firing requestLayout)."));
  Label l=new Label();
  l.setContentMode(Label.CONTENT_XHTML);
  l.setValue("This is a label with as slow image. <img src=\"" + url + "/icon.png\" />");
  main.addComponent(l);
  try {
    CustomLayout cl=new CustomLayout(new ByteArrayInputStream(("This is an empty CustomLayout with as slow image. <img src=\"" + url.toString() + "/icon.png\" />").getBytes()));
    main.addComponent(cl);
  }
 catch (  IOException e) {
    e.printStackTrace();
  }
}
