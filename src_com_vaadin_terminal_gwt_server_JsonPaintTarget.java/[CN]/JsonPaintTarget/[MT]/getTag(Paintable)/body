{
  if (!(paintable instanceof ClientConnector)) {
    throw new IllegalArgumentException("Tags are only available for ClientConnectors");
  }
  Class<? extends Paintable> paintableClass=paintable.getClass();
  while (paintableClass.isAnonymousClass()) {
    paintableClass=(Class<? extends Paintable>)paintableClass.getSuperclass();
  }
  Class<?> clazz=paintableClass;
  while (!usedClientConnectors.contains(clazz) && clazz.getSuperclass() != null && ClientConnector.class.isAssignableFrom(clazz)) {
    usedClientConnectors.add((Class<? extends ClientConnector>)clazz);
    clazz=clazz.getSuperclass();
  }
  return manager.getTagForType((Class<? extends ClientConnector>)paintableClass);
}
