{
  if (!(paintable instanceof ClientConnector)) {
    throw new IllegalArgumentException("Tags are only available for ClientConnectors");
  }
  Class<?> clazz=paintable.getClass();
  while (!usedClientConnectors.contains(clazz) && clazz.getSuperclass() != null && ClientConnector.class.isAssignableFrom(clazz.getSuperclass())) {
    usedClientConnectors.add((Class<? extends ClientConnector>)clazz);
    clazz=clazz.getSuperclass();
  }
  return manager.getTagForType((Class<? extends ClientConnector>)paintable.getClass());
}
