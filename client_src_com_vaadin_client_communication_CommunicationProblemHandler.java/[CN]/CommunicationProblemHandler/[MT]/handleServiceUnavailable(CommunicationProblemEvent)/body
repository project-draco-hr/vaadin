{
  String delay=event.getResponse().getHeader("Retry-After");
  if (delay != null) {
    getLogger().warning("503, retrying in " + delay + "msec");
    (new Timer(){
      @Override public void run(){
        connection.doUidlRequest(event.getUri(),event.getPayload(),true);
      }
    }
).schedule(Integer.parseInt(delay));
    return;
  }
 else {
    String msg="Server error. Error code: " + event.getResponse().getStatusCode();
    handleUnrecoverableCommunicationError(msg,event);
  }
}
