{
  outer=new FormLayout();
  outer.setSizeUndefined();
  outer.setWidth("100%");
  inner1=new FormLayout();
  inner1.addComponent(new Label("Test"));
  inner1.addComponent(new Label("Test2"));
  outer.addComponent(inner1);
  outer.addComponent(new Label("Test"));
  outer.addComponent(new Label("Test2"));
  inner2=new FormLayout();
  inner2.addComponent(new Label("Test"));
  inner2.addComponent(new Label("Test2"));
  inner21=new FormLayout();
  inner21.addComponent(new Label("Test"));
  inner21.addComponent(new Label("Test2"));
  inner2.addComponent(inner21);
  outer.addComponent(inner2);
  inner3=new FormLayout();
  inner3.addComponent(new Label("Test"));
  inner3.addComponent(new Label("Test2"));
  inner31=new FormLayout();
  inner31.addComponent(new Label("Test"));
  inner31.addComponent(new Label("Test2"));
  inner31.setSpacing(false);
  inner31.setMargin(false);
  inner3.addComponent(inner31);
  outer.addComponent(inner3);
  inner4=new FormLayout();
  inner4.addComponent(new Label("Test"));
  inner4.addComponent(new Label("Test2"));
  outer.addComponent(inner4);
  addComponent(outer);
  final CheckBox spacingCheckBox=new CheckBox("Spacings",false);
  spacingCheckBox.setId("spacings");
  spacingCheckBox.setImmediate(true);
  spacingCheckBox.addValueChangeListener(new ValueChangeListener(){
    @Override public void valueChange(    ValueChangeEvent event){
      setLayoutSpacing(spacingCheckBox.getValue());
    }
  }
);
  addComponent(spacingCheckBox);
  final CheckBox marginCheckBox=new CheckBox("Margins",false);
  marginCheckBox.setId("margins");
  marginCheckBox.setImmediate(true);
  marginCheckBox.addValueChangeListener(new ValueChangeListener(){
    @Override public void valueChange(    ValueChangeEvent event){
      setLayoutMargin(marginCheckBox.getValue());
    }
  }
);
  addComponent(marginCheckBox);
  setLayoutSpacing(false);
  setLayoutMargin(false);
}
