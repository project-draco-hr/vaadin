{
  super.paintContent(target);
  if (isSecret()) {
    target.addAttribute("secret",true);
  }
  if (getMaxLength() >= 0) {
    target.addAttribute("maxLength",getMaxLength());
  }
  if (inputPrompt != null) {
    target.addAttribute("prompt",inputPrompt);
  }
  if (selectionPosition != -1) {
    target.addAttribute("selpos",selectionPosition);
    target.addAttribute("sellen",selectionLength);
    selectionPosition=-1;
  }
  final int columns=getColumns();
  final int rows=getRows();
  if (columns != 0) {
    target.addAttribute("cols",String.valueOf(columns));
  }
  if (rows != 0) {
    target.addAttribute("rows",String.valueOf(rows));
    target.addAttribute("multiline",true);
    if (!wordwrap) {
      target.addAttribute("wordwrap",false);
    }
  }
  String value=getFormattedValue();
  if (value == null) {
    value=getNullRepresentation();
  }
  if (value == null) {
    throw new IllegalStateException("Null values are not allowed if the null-representation is null");
  }
  target.addVariable(this,"text",value);
}
