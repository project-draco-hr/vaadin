{
  if (newDataSource == null)   newDataSource=new IndexedContainer();
  if (items != newDataSource) {
    if (items != null) {
      try {
        ((Container.ItemSetChangeNotifier)items).removeListener((Container.ItemSetChangeListener)this);
      }
 catch (      ClassCastException ignored) {
      }
      try {
        ((Container.PropertySetChangeNotifier)items).removeListener((Container.PropertySetChangeListener)this);
      }
 catch (      ClassCastException ignored) {
      }
    }
    items=newDataSource;
    this.itemIdMapper.removeAll();
    if (items != null) {
      try {
        ((Container.ItemSetChangeNotifier)items).addListener((Container.ItemSetChangeListener)this);
      }
 catch (      ClassCastException ignored) {
      }
      try {
        ((Container.PropertySetChangeNotifier)items).addListener((Container.PropertySetChangeListener)this);
      }
 catch (      ClassCastException ignored) {
      }
    }
    fireValueChange(false);
  }
}
