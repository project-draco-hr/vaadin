{
  VConsole.log("Starting application " + cnf.getRootPanelId());
  VConsole.log("Vaadin application servlet version: " + cnf.getServletVersion());
  VConsole.log("Application version: " + cnf.getApplicationVersion());
  if (!cnf.getServletVersion().equals(Version.getFullVersion())) {
    VConsole.error("Warning: your widget set seems to be built with a different " + "version than the one used on server. Unexpected " + "behavior may occur.");
  }
  this.widgetSet=widgetSet;
  configuration=cnf;
  ComponentLocator componentLocator=new ComponentLocator(this);
  String appRootPanelName=cnf.getRootPanelId();
  appRootPanelName=appRootPanelName.replaceFirst("-\\d+$","");
  initializeTestbenchHooks(componentLocator,appRootPanelName);
  initializeClientHooks();
  uIConnector.init(cnf.getRootPanelId(),this);
  showLoadingIndicator();
  scheduleHeartbeat();
}
