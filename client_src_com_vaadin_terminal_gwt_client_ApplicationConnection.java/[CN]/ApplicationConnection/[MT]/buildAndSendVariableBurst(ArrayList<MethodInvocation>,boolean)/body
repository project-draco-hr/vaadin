{
  final StringBuffer req=new StringBuffer();
  while (!pendingInvocations.isEmpty()) {
    if (ApplicationConfiguration.isDebugMode()) {
      Util.logVariableBurst(this,pendingInvocations);
    }
    JSONArray reqJson=new JSONArray();
    for (    MethodInvocation invocation : pendingInvocations) {
      JSONArray invocationJson=new JSONArray();
      invocationJson.set(0,new JSONString(invocation.getConnectorId()));
      invocationJson.set(1,new JSONString(invocation.getInterfaceName()));
      invocationJson.set(2,new JSONString(invocation.getMethodName()));
      JSONArray paramJson=new JSONArray();
      boolean restrictToInternalTypes=isLegacyVariableChange(invocation);
      for (int i=0; i < invocation.getParameters().length; ++i) {
        paramJson.set(i,JsonEncoder.encode(invocation.getParameters()[i],restrictToInternalTypes,this));
      }
      invocationJson.set(3,paramJson);
      reqJson.set(reqJson.size(),invocationJson);
    }
    req.append(escapeBurstContents(reqJson.toString()));
    pendingInvocations.clear();
    if (forceSync && !pendingBursts.isEmpty()) {
      pendingInvocations=pendingBursts.get(0);
      pendingBursts.remove(0);
      req.append(VAR_BURST_SEPARATOR);
    }
  }
  String extraParams;
  if (!getConfiguration().isBrowserDetailsSent()) {
    extraParams=getNativeBrowserDetailsParameters(getConfiguration().getRootPanelId());
    getConfiguration().setBrowserDetailsSent();
  }
 else {
    extraParams="";
  }
  if (!getConfiguration().isWidgetsetVersionSent()) {
    if (!extraParams.isEmpty()) {
      extraParams+="&";
    }
    String widgetsetVersion=ApplicationConfiguration.VERSION;
    extraParams+="wsver=" + widgetsetVersion;
    getConfiguration().setWidgetsetVersionSent();
  }
  makeUidlRequest(req.toString(),extraParams,forceSync);
}
