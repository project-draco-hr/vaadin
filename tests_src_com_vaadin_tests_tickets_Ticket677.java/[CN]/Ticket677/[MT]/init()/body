{
  Window main=new Window();
  setMainWindow(main);
  main.addComponent(info);
  HorizontalLayout l=new HorizontalLayout();
  main.addComponent(l);
  l.addComponent(new Button("Toggle root panel",new Button.ClickListener(){
    public void buttonClick(    ClickEvent event){
      toggle(root);
    }
  }
));
  l.addComponent(new Button("Toggle panel one",new Button.ClickListener(){
    public void buttonClick(    ClickEvent event){
      toggle(one);
    }
  }
));
  l.addComponent(new Button("Toggle panel two",new Button.ClickListener(){
    public void buttonClick(    ClickEvent event){
      toggle(two);
    }
  }
));
  l.addComponent(new Button("Toggle form",new Button.ClickListener(){
    public void buttonClick(    ClickEvent event){
      toggle(form);
    }
  }
));
  l.addComponent(new Button("Toggle table",new Button.ClickListener(){
    public void buttonClick(    ClickEvent event){
      toggle(table);
    }
  }
));
  root.setContent(new GridLayout(2,3));
  main.addComponent(root);
  TextField tf=new TextField("Enabled");
  tf.setImmediate(true);
  root.addComponent(tf);
  tf=new TextField("Disabled");
  tf.setImmediate(true);
  tf.setEnabled(false);
  root.addComponent(tf);
  root.addComponent(one);
  tf=new TextField("Enabled");
  tf.setImmediate(true);
  one.addComponent(tf);
  tf=new TextField("Disabled");
  tf.setImmediate(true);
  tf.setEnabled(false);
  one.addComponent(tf);
  root.addComponent(two);
  tf=new TextField("Enabled");
  tf.setImmediate(true);
  two.addComponent(tf);
  tf=new TextField("Disabled");
  tf.setImmediate(true);
  tf.setEnabled(false);
  two.addComponent(tf);
  form=new Form();
  form.setCaption("Enabled");
  form.setFieldFactory(new BaseFieldFactory(){
    @Override public Field createField(    Item item,    Object propertyId,    Component uiContext){
      Field f=super.createField(item,propertyId,uiContext);
      f.setEnabled(!"disabled".equals(propertyId));
      return f;
    }
  }
);
  form.setItemDataSource(new BeanItem<MyBean>(new MyBean()));
  root.addComponent(form);
  table=new Table("Enabled");
  table.setPageLength(7);
  table.addContainerProperty("Text",String.class,null);
  for (int i=0; i < 150; i++) {
    Item item=table.addItem("Item" + i);
    Property p=item.getItemProperty("Text");
    p.setValue(i % 5 == 0 ? "enabled" : "disabled");
  }
  table.setFieldFactory(new BaseFieldFactory(){
    @Override public Field createField(    Container container,    Object itemId,    Object propertyId,    Component uiContext){
      Field f=super.createField(container,itemId,propertyId,uiContext);
      Item item=container.getItem(itemId);
      Property p=item.getItemProperty(propertyId);
      if ("disabled".equals(p.getValue())) {
        f.setEnabled(false);
      }
      return f;
    }
  }
);
  table.setEditable(true);
  root.addComponent(table);
}
