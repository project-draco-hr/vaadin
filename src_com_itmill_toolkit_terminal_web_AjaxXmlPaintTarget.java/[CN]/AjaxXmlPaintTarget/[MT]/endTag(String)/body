{
  if (tagName == null)   throw new NullPointerException();
  if (this.closed)   throw new PaintException("Attempted to write to a closed PaintTarget.");
  String lastTag="";
  lastTag=(String)mOpenTags.pop();
  if (!tagName.equalsIgnoreCase(lastTag))   throw new PaintException("Invalid UIDL: wrong ending tag: '" + tagName + "' expected: '"+ lastTag+ "'.");
  if (mTagArgumentListOpen) {
    append(">");
    mTagArgumentListOpen=false;
    customLayoutArgumentsOpen=false;
  }
  append("</" + lastTag + ">");
  flush();
}
