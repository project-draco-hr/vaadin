{
  setSelected(item);
  boolean menuWasVisible=visibleChildMenu != null;
  if (visibleChildMenu != null && visibleChildMenu != item.getSubMenu()) {
    popup.hide();
    visibleChildMenu=null;
  }
  if (item.getSubMenu() != null && (parentMenu != null || menuWasVisible) && visibleChildMenu != item.getSubMenu()) {
    showChildMenu(item);
  }
}
