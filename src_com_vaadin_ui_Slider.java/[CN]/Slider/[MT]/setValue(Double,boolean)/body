{
  final double v=value.doubleValue();
  double newValue;
  if (resolution > 0) {
    newValue=(int)(v * Math.pow(10,resolution));
    newValue=newValue / Math.pow(10,resolution);
    if (min > newValue || max < newValue) {
      throw new ValueOutOfBoundsException(value);
    }
  }
 else {
    newValue=(int)v;
    if (min > newValue || max < newValue) {
      throw new ValueOutOfBoundsException(value);
    }
  }
  super.setValue(newValue,repaintIsNotNeeded);
}
