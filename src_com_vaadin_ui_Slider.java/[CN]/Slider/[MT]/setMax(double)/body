{
  this.max=max;
  try {
    if ((new Double(getValue().toString())).doubleValue() > max) {
      super.setValue(new Double(max));
    }
  }
 catch (  final ClassCastException e) {
    super.setValue(new Double(max));
  }
  requestRepaint();
}
