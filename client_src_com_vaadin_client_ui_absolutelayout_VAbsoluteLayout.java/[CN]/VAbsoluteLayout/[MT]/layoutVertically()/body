{
  for (  Widget widget : getChildren()) {
    if (widget instanceof AbsoluteWrapper) {
      AbsoluteWrapper wrapper=(AbsoluteWrapper)widget;
      Style wrapperStyle=wrapper.getElement().getStyle();
      Style widgetStyle=wrapper.getWidget().getElement().getStyle();
      if (widgetStyle.getHeight() != null && widgetStyle.getHeight().endsWith("%")) {
        int h;
        if (wrapper.top != null && wrapper.bottom != null) {
          h=wrapper.getOffsetHeight();
        }
 else         if (wrapper.bottom != null) {
          h=wrapper.getElement().getOffsetTop() + wrapper.getOffsetHeight();
        }
 else {
          h=canvas.getOffsetHeight() - wrapper.getElement().getOffsetTop();
        }
        wrapperStyle.setHeight(h,Unit.PX);
      }
 else {
        wrapperStyle.clearHeight();
      }
      wrapper.updateCaptionPosition();
    }
  }
}
