{
  if (mainWindow == null) {
    mainWindow=new Root();
  }
 else {
    mainWindow.removeAllComponents();
  }
  mainWindow.setCaption("Please login");
  FormLayout formLayout=new FormLayout();
  final TextField userField=new TextField("Username");
  userField.setDebugId("user");
  final TextField passwordField=new TextField("Password");
  passwordField.setDebugId("pwd");
  passwordField.setSecret(true);
  Button login=new Button("login");
  login.setDebugId("loginButton");
  login.setClickShortcut(KeyCode.ENTER);
  formLayout.addComponent(userField);
  formLayout.addComponent(passwordField);
  formLayout.addComponent(login);
  mainWindow.setContent(formLayout);
  login.addListener(new ClickListener(){
    public void buttonClick(    final ClickEvent event){
      String username=(String)userField.getValue();
      String password=(String)passwordField.getValue();
      setUser(username);
      showMainWindow();
    }
  }
);
  setMainWindow(mainWindow);
}
