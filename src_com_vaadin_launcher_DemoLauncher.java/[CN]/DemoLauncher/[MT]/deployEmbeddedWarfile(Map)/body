{
  final String embeddedWarfileName="/embedded.war";
  final InputStream embeddedWarfile=DemoLauncher.class.getResourceAsStream(embeddedWarfileName);
  if (embeddedWarfile != null) {
    final File tempWarfile=File.createTempFile("embedded",".war").getAbsoluteFile();
    tempWarfile.getParentFile().mkdirs();
    tempWarfile.deleteOnExit();
    final String embeddedWebroot="winstoneEmbeddedWAR";
    final File tempWebroot=new File(tempWarfile.getParentFile(),embeddedWebroot);
    tempWebroot.mkdirs();
    final OutputStream out=new FileOutputStream(tempWarfile,true);
    int read=0;
    final byte buffer[]=new byte[2048];
    while ((read=embeddedWarfile.read(buffer)) != -1) {
      out.write(buffer,0,read);
    }
    out.close();
    embeddedWarfile.close();
    args.put("warfile",tempWarfile.getAbsolutePath());
    args.put("webroot",tempWebroot.getAbsolutePath());
    args.remove("webappsDir");
    args.remove("hostsDir");
    return true;
  }
  return false;
}
