{
  setCompositionRoot(lo);
  ic.addContainerProperty("first",String.class,"");
  ic.addContainerProperty("second",String.class,"");
  for (int i=0; i < 1000; i++) {
    final Object id=ic.addItem();
    ic.getContainerProperty(id,"first").setValue(randomWord());
    ic.getContainerProperty(id,"second").setValue(randomWord());
  }
  final Panel filterPanel=new Panel("Filter",new OrderedLayout(OrderedLayout.ORIENTATION_HORIZONTAL));
  filterPanel.setWidth(100,Component.UNITS_PERCENTAGE);
  lo.addComponent(filterPanel);
  filterPanel.addComponent(firstFilter);
  filterPanel.addComponent(secondFilter);
  filterPanel.addComponent(filterButton);
  firstFilter.setDescription("Filters first column in case-sensitive contains manner.");
  secondFilter.setDescription("Filters second column in case-insensitive prefix manner.");
  filterPanel.addComponent(count);
  lo.addComponent(t);
  t.setPageLength(12);
  t.setWidth(100,Component.UNITS_PERCENTAGE);
  t.setContainerDataSource(ic);
  filterButton.addListener(new Button.ClickListener(){
    public void buttonClick(    ClickEvent event){
      ic.removeAllContainerFilters();
      if (firstFilter.toString().length() > 0) {
        ic.addContainerFilter("first",firstFilter.toString(),false,false);
      }
      if (secondFilter.toString().length() > 0) {
        ic.addContainerFilter("second",secondFilter.toString(),true,true);
      }
      count.setValue("Rows in table: " + ic.size());
    }
  }
);
  lo.addComponent(new Button("Rebind table datasource",new Button.ClickListener(){
    public void buttonClick(    ClickEvent event){
      t.setContainerDataSource(ic);
    }
  }
));
}
