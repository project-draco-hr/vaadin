{
  if (w instanceof ICaption) {
    final ICaption c=(ICaption)w;
    WidgetWrapper wrapper=getWidgetWrapperFor((Widget)c.getOwner());
    Element captionContainer=wrapper.getCaptionContainer();
    final Element captionElement=DOM.createDiv();
    DOM.insertChild(captionContainer,captionElement,0);
    insert(w,captionElement,beforeIndex,false);
  }
 else {
    final WidgetWrapper wrapper=createWidgetWrappper();
    DOM.insertChild(childContainer,wrapper.getElement(),beforeIndex);
    insert(w,wrapper.getContainerElement(),beforeIndex,false);
  }
}
