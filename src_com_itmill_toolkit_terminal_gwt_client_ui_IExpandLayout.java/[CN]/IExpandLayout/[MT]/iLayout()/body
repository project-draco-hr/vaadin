{
  if (orientationMode == ORIENTATION_HORIZONTAL) {
    int pixels=getOffsetHeight() - getTopMargin() - getBottomMargin();
    if (pixels < 0) {
      pixels=0;
    }
    DOM.setStyleAttribute(me,"height",pixels + "px");
  }
  if (expandedWidget == null) {
    return;
  }
  int availableSpace=getAvailableSpace();
  int usedSpace=getUsedSpace();
  int spaceForExpandedWidget=availableSpace - usedSpace;
  if (spaceForExpandedWidget < 0) {
    spaceForExpandedWidget=0;
  }
  WidgetWrapper wr=getWidgetWrapperFor(expandedWidget);
  wr.setExpandedSize(spaceForExpandedWidget);
  Util.runDescendentsLayout(this);
}
