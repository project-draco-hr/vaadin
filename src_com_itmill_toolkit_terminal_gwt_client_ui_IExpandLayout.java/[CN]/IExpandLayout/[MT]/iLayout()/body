{
  if (orientationMode == ORIENTATION_HORIZONTAL) {
    int pixels=getOffsetHeight() - getTopMargin() - getBottomMargin();
    if (pixels < 0) {
      pixels=0;
    }
    DOM.setStyleAttribute(me,"height",pixels + "px");
  }
  if (expandedWidget == null) {
    return;
  }
  final int availableSpace=getAvailableSpace();
  final int usedSpace=getUsedSpace();
  int spaceForExpandedWidget=availableSpace - usedSpace;
  if (spaceForExpandedWidget < EXPANDED_ELEMENTS_MIN_WIDTH) {
    spaceForExpandedWidget=EXPANDED_ELEMENTS_MIN_WIDTH;
  }
  final WidgetWrapper wr=getWidgetWrapperFor(expandedWidget);
  wr.setExpandedSize(spaceForExpandedWidget);
  Util.runDescendentsLayout(this);
}
