{
  int total=0;
  final int widgetCount=getWidgetCount();
  final Iterator it=iterator();
  while (it.hasNext()) {
    final Widget w=(Widget)it.next();
    if (w instanceof Paintable && w != expandedWidget) {
      final WidgetWrapper wr=getWidgetWrapperFor(w);
      if (orientationMode == ORIENTATION_VERTICAL) {
        total+=wr.getOffsetHeight();
      }
 else {
        total+=wr.getOffsetWidth();
      }
    }
  }
  total+=getSpacingSize() * (widgetCount - 1);
  return total;
}
