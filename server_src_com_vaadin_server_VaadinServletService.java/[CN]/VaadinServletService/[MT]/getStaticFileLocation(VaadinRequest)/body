{
  HttpServletRequest servletRequest=VaadinServletRequest.cast(request);
  String staticFileLocation;
  staticFileLocation=getDeploymentConfiguration().getApplicationOrSystemProperty(VaadinServlet.PARAMETER_VAADIN_RESOURCES,null);
  if (staticFileLocation != null) {
    return staticFileLocation;
  }
  String ctxPath=servletRequest.getContextPath();
  if (ctxPath.length() == 0 && request.getAttribute("javax.servlet.include.context_path") != null) {
    ctxPath=(String)request.getAttribute("javax.servlet.include.context_path");
  }
  ctxPath=VaadinServlet.removeHeadingOrTrailing(ctxPath,"/");
  if (ctxPath.equals("")) {
    return "";
  }
 else {
    return "/" + ctxPath;
  }
}
