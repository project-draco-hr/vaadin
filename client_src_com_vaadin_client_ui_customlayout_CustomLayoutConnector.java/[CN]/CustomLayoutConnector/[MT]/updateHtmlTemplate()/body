{
  if (templateUpdated) {
    return;
  }
  String templateName=getState().templateName;
  String templateContents=getState().templateContents;
  if (templateName != null) {
    templateContents=getConnection().getResource("layouts/" + templateName + ".html");
    if (templateContents == null) {
      getWidget().getElement().setInnerHTML("<em>Layout file layouts/" + templateName + ".html is missing. Components will be drawn for debug purposes.</em>");
    }
  }
  if (templateContents != null) {
    getWidget().initializeHTML(templateContents,getConnection().getThemeUri());
  }
  templateUpdated=true;
}
