{
  if (layoutSelector == null) {
    layoutSelector=new NativeSelect();
    layoutSelector.setId(LAYOUT_SELECT);
    layoutSelector.addItem(VerticalLayout.class);
    layoutSelector.addItem(HorizontalLayout.class);
    layoutSelector.addItem(GridLayout.class);
    layoutSelector.setNullSelectionAllowed(false);
    layoutSelector.setImmediate(true);
    layoutSelector.select(VerticalLayout.class);
    layoutSelector.addListener(new Property.ValueChangeListener(){
      private static final long serialVersionUID=-605319614765838359L;
      @Override public void valueChange(      ValueChangeEvent event){
        layoutIndex=-1;
        nextLayout();
      }
    }
);
  }
  return layoutSelector;
}
