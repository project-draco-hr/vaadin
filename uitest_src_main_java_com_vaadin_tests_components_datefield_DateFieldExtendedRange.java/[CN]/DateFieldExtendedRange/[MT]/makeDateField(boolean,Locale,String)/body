{
  DateField df=isPopup ? new PopupDateField() : new InlineDateField();
  df.setResolution(DateField.RESOLUTION_DAY);
  df.setValue(date.getTime());
  df.setLocale(locale);
  df.setCaption(caption);
  return df;
}
