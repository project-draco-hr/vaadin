{
  DateField df=isPopup ? new PopupDateField() : new InlineDateField();
  df.setResolution(Resolution.DAY);
  df.setValue(date.getTime());
  df.setLocale(locale);
  df.setCaption(caption);
  return df;
}
