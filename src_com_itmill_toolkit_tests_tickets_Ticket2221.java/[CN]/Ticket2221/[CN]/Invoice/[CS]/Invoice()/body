{
  setSizeFull();
  setCompositionRoot(main);
  main.setSizeFull();
  Button b=new Button("Switch textfield/panel",new ClickListener(){
    public void buttonClick(    ClickEvent event){
      Component visible=tf;
      if (tf.isVisible()) {
        visible=outerPanel;
      }
      outerPanel.setVisible(false);
      tf.setVisible(false);
      visible.setVisible(true);
    }
  }
);
  main.addComponent(b);
  tf=new TextField("TextField");
  tf.setHeight("1000px");
  tf.setWidth("1000px");
  outerPanel=new Panel();
  outerPanel.setCaption("A RichTextArea");
  outerPanel.setVisible(false);
  outerPanel.setHeight("1000px");
  outerPanel.setWidth("1000px");
  outerPanel.getLayout().setSizeFull();
  Panel innerPanel=new Panel("Inner panel");
  innerPanel.setSizeFull();
  outerPanel.addComponent(innerPanel);
  tf2=new TextField("A 2000x2000 textfield");
  tf2.setWidth("2000px");
  tf2.setHeight("2000px");
  innerPanel.addComponent(tf2);
  main.addComponent(outerPanel);
  main.addComponent(tf);
}
