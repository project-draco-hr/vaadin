{
  this.client=client;
  if (!uidl.getBooleanAttribute("cached")) {
    poller.cancel();
  }
  if (client.updateComponent(this,uidl,true)) {
    return;
  }
  indeterminate=uidl.getBooleanAttribute("indeterminate");
  if (indeterminate) {
    String basename=CLASSNAME + "-indeterminate";
    VProgressIndicator.setStyleName(getElement(),basename,true);
    VProgressIndicator.setStyleName(getElement(),basename + "-disabled",uidl.getBooleanAttribute("disabled"));
  }
 else {
    try {
      final float f=Float.parseFloat(uidl.getStringAttribute("state"));
      final int size=Math.round(100 * f);
      DOM.setStyleAttribute(indicator,"width",size + "%");
    }
 catch (    final Exception e) {
    }
  }
  if (!uidl.getBooleanAttribute("disabled")) {
    interval=uidl.getIntAttribute("pollinginterval");
    poller.scheduleRepeating(interval);
  }
}
