{
  VerticalLayout layout=new VerticalLayout();
  layout.addComponent(new Label("Please click the button"));
  final Button button=new Button("Click me");
  button.addListener(new ClickListener(){
    @Override public void buttonClick(    ClickEvent event){
      Object value=getValue();
      boolean newValue=true;
      if ((value instanceof Boolean) && ((Boolean)value)) {
        newValue=false;
      }
      setValue(newValue);
      button.setCaption(newValue ? "On" : "Off");
    }
  }
);
  layout.addComponent(button);
  return layout;
}
