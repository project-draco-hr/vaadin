{
  setItemDataSource(new BeanItem(dataModel));
  setVisibleItemProperties(new String[]{"name","streetAddress","postalCode","city"});
  getField("name").setRequired(true);
  getField("name").setRequiredError("Name is missing");
  getField("streetAddress").setRequired(true);
  getField("postalCode").setRequired(true);
  replaceWithSelect("city",cities,cities).setNewItemsAllowed(true);
  setImmediate(true);
  setWriteThrough(false);
}
