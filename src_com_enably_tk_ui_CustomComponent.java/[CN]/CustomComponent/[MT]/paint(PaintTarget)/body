{
  if (root == null)   throw new IllegalStateException("Composition root must be set to" + " non-null value before the " + getClass().getName() + " can be painted");
  if (isVisible()) {
    String type=getComponentType();
    if (type != null) {
      if (!target.startTag(this,"component")) {
        target.addAttribute("type",type);
        root.paint(target);
      }
      target.endTag("component");
    }
 else     root.paint(target);
  }
  repaintRequestListenersNotified=false;
}
