{
  FastStringMap<LayoutDependency> dependencies=dependenciesInDirection[direction];
  LayoutDependency dependency=dependencies.get(connectorId);
  if (dependency == null) {
    if (connector == null) {
      connector=(ComponentConnector)ConnectorMap.get(connection).getConnector(connectorId);
    }
    dependency=new LayoutDependency(connector,direction);
    dependencies.put(connectorId,dependency);
  }
  return dependency;
}
