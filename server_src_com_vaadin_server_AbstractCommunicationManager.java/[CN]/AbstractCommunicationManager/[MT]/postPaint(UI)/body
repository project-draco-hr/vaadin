{
  if (uI instanceof LegacyWindow) {
    LegacyWindow legacyWindow=(LegacyWindow)uI;
    if (!legacyWindow.getApplication().isRunning()) {
      legacyWindow.setApplication(null);
      legacyWindow.setSession(null);
    }
  }
  uI.getConnectorTracker().cleanConnectorMap();
  if (pidToNameToStreamVariable != null) {
    Iterator<String> iterator=pidToNameToStreamVariable.keySet().iterator();
    while (iterator.hasNext()) {
      String connectorId=iterator.next();
      if (uI.getConnectorTracker().getConnector(connectorId) == null) {
        Map<String,StreamVariable> removed=pidToNameToStreamVariable.get(connectorId);
        for (        String key : removed.keySet()) {
          streamVariableToSeckey.remove(removed.get(key));
        }
        iterator.remove();
      }
    }
  }
}
