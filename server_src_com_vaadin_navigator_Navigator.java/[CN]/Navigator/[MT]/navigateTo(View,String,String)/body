{
  ViewChangeEvent event=new ViewChangeEvent(this,currentView,view,viewName,parameters);
  if (!fireBeforeViewChange(event)) {
    if (currentNavigationState != null) {
      getStateManager().setState(currentNavigationState);
    }
    return;
  }
  if (null != viewName && getStateManager() != null) {
    String navigationState=viewName;
    if (!parameters.isEmpty()) {
      navigationState+="/" + parameters;
    }
    if (!navigationState.equals(getStateManager().getState())) {
      getStateManager().setState(navigationState);
      currentNavigationState=navigationState;
    }
  }
  if (display != null) {
    display.showView(view);
  }
  view.enter(event);
  currentView=view;
  fireAfterViewChange(event);
}
