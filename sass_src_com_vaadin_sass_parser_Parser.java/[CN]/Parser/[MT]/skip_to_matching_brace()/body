{
  StringBuffer s=new StringBuffer();
  Token tok;
  int nesting=1;
  while (true) {
    tok=getToken(1);
    if (tok.kind == EOF) {
      break;
    }
    s.append(tok.image);
    if (tok.kind == LBRACE) {
      nesting++;
    }
 else     if (tok.kind == RBRACE) {
      nesting--;
      if (nesting == 0) {
        break;
      }
    }
    getNextToken();
  }
  return s.toString();
}
