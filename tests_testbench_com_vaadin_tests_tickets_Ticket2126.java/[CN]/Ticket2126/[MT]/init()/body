{
  setMainWindow(main);
  final IndexedContainer container1=new IndexedContainer();
  container1.addContainerProperty("text",Component.class,null);
  final IndexedContainer container2=new IndexedContainer();
  container2.addContainerProperty("text",Component.class,null);
  for (int i=0; i < 100; i++) {
    Item item=container1.addItem(i);
    item.getItemProperty("text").setValue(new Label("Test " + i));
  }
  table.setContainerDataSource(container1);
  Button refreshTable=new Button("Switch table container");
  refreshTable.addListener(new Button.ClickListener(){
    boolean full=true;
    @Override public void buttonClick(    Button.ClickEvent e){
      if (full) {
        table.setContainerDataSource(container2);
      }
 else {
        table.setContainerDataSource(container1);
      }
      full=!full;
    }
  }
);
  main.addComponent(table);
  main.addComponent(refreshTable);
}
