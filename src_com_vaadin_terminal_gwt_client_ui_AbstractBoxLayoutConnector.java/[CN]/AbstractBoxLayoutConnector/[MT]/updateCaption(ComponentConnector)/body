{
  Slot slot=getWidget().getSlot(child.getWidget());
  String caption=child.getState().getCaption();
  String iconUrl=child.getState().getIcon() != null ? child.getState().getIcon().getURL() : null;
  List<String> styles=child.getState().getStyles();
  String error=child.getState().getErrorMessage();
  boolean required=false;
  if (child instanceof AbstractFieldConnector) {
    required=((AbstractFieldConnector)child).isRequired();
  }
  slot.setCaption(caption,iconUrl,styles,error,required);
  slot.setRelativeWidth(child.isRelativeWidth());
  slot.setRelativeHeight(child.isRelativeHeight());
  if (slot.hasCaption()) {
    CaptionPosition pos=slot.getCaptionPosition();
    getLayoutManager().addElementResizeListener(slot.getCaptionElement(),slotCaptionResizeListener);
    if (child.isRelativeHeight() && (pos == CaptionPosition.TOP || pos == CaptionPosition.BOTTOM)) {
      getWidget().updateCaptionOffset(slot.getCaptionElement());
    }
 else     if (child.isRelativeWidth() && (pos == CaptionPosition.LEFT || pos == CaptionPosition.RIGHT)) {
      getWidget().updateCaptionOffset(slot.getCaptionElement());
    }
  }
 else {
    getLayoutManager().removeElementResizeListener(slot.getCaptionElement(),slotCaptionResizeListener);
  }
  if (!slot.hasCaption()) {
    childCaptionElementHeight.remove(child.getWidget().getElement());
  }
}
