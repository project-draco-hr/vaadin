{
  LayoutManager lm=getLayoutManager();
  VWindow window=getWidget();
  ComponentConnector layout=window.layout;
  Element contentElement=window.contentPanel.getElement();
  boolean needsMinWidth=!isUndefinedWidth() || layout.isRelativeWidth();
  int minWidth=window.getMinWidth();
  if (needsMinWidth && lm.getInnerWidth(contentElement) < minWidth) {
    window.setWidth(minWidth + "px");
  }
  boolean needsMinHeight=!isUndefinedHeight() || layout.isRelativeHeight();
  int minHeight=window.getMinHeight();
  if (needsMinHeight && lm.getInnerHeight(contentElement) < minHeight) {
    window.setHeight(minHeight + "px");
  }
  Style contentStyle=window.contents.getStyle();
  int headerHeight=lm.getOuterHeight(window.header);
  contentStyle.setPaddingTop(headerHeight,Unit.PX);
  contentStyle.setMarginTop(-headerHeight,Unit.PX);
  int footerHeight=lm.getOuterHeight(window.footer);
  contentStyle.setPaddingBottom(footerHeight,Unit.PX);
  contentStyle.setMarginBottom(-footerHeight,Unit.PX);
  Element layoutElement=layout.getWidget().getElement();
  Style childStyle=layoutElement.getStyle();
  if (layout.isRelativeHeight() && !BrowserInfo.get().isIE9()) {
    childStyle.setPosition(Position.ABSOLUTE);
    Style wrapperStyle=contentElement.getStyle();
    if (window.getElement().getStyle().getWidth().length() == 0 && !layout.isRelativeWidth()) {
      int contentWidth=lm.getOuterWidth(layoutElement);
      wrapperStyle.setWidth(contentWidth,Unit.PX);
    }
 else {
      wrapperStyle.clearWidth();
    }
  }
 else {
    childStyle.clearPosition();
  }
}
