{
  if (BrowserInfo.get().isIE8()) {
    if (roundUp) {
      return Math.ceil(size);
    }
 else {
      return (int)size;
    }
  }
  double factor=getSubPixelRoundingFactor();
  if (factor < 0 || size < 0) {
    return size;
  }
  if (roundUp) {
    return roundSizeUp(size,factor);
  }
 else {
    return roundSizeDown(size,factor);
  }
}
