{
  if (fu.getFilename().length() == 0 || submitted || !enabled) {
    ApplicationConnection.getConsole().log("Submit cancelled (disabled, no file or already submitted)");
    return;
  }
  client.sendPendingVariableChanges();
  element.submit();
  submitted=true;
  ApplicationConnection.getConsole().log("Submitted form");
  disableUpload();
  t=new Timer(){
    @Override public void run(){
      ApplicationConnection.getConsole().log("Visiting server to see if upload started event changed UI.");
      client.updateVariable(paintableId,"pollForStart",nextUploadId,true);
    }
  }
;
  t.schedule(800);
}
