{
  Scheduler.get().scheduleDeferred(new Command(){
    public void execute(){
      if (client != null) {
        if (t != null) {
          t.cancel();
        }
        VConsole.log("VUpload:Submit complete");
        client.sendPendingVariableChanges();
      }
      rebuildPanel();
      submitted=false;
      enableUpload();
      if (!isAttached()) {
        cleanTargetFrame();
      }
    }
  }
);
}
