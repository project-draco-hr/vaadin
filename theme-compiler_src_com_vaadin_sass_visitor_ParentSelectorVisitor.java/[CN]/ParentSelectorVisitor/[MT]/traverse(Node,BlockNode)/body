{
  Node pre=block;
  for (  Node child : new ArrayList<Node>(block.getChildren())) {
    if (child instanceof BlockNode) {
      BlockNode blockChild=(BlockNode)child;
      traverse(block,blockChild);
      for (      final String s : blockChild.getSelectorList()) {
        if (s.contains("&")) {
          parent.appendChild(child,pre);
          pre=child;
          block.removeChild(child);
          ArrayList<String> newList=new ArrayList<String>(block.getSelectorList().size());
          for (          final String parentSelector : block.getSelectorList()) {
            newList.add(s.replace("&",parentSelector));
          }
          blockChild.setSelectorList(newList);
        }
      }
    }
  }
}
