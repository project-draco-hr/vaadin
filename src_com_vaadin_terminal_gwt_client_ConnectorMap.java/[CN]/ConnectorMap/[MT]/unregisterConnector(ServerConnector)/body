{
  if (connector == null) {
    VConsole.error("Trying to unregister null connector");
    return;
  }
  String connectorId=connector.getConnectorId();
  VConsole.log("Unregistering connector " + connectorId + " ("+ connector.getClass().getName()+ ")");
  Widget widget=null;
  if (connector instanceof ComponentConnector) {
    widget=((ComponentConnector)connector).getWidget();
  }
  if (widget != null && widget.isAttached()) {
    VConsole.log("Widget for unregistered connector " + connectorId + " is still attached to the DOM.");
  }
  idToComponentDetail.remove(connectorId);
  idToConnector.remove(connectorId);
  if (connector instanceof ComponentContainerConnector) {
    for (    ComponentConnector child : ((ComponentContainerConnector)connector).getChildren()) {
      unregisterConnector(child);
    }
  }
}
