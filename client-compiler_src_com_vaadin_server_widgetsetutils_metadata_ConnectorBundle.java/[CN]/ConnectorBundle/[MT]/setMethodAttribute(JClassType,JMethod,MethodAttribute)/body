{
  if (!hasMethodAttribute(type,method,methodAttribute)) {
    Map<JMethod,Set<MethodAttribute>> typeData=methodAttributes.get(type);
    if (typeData == null) {
      typeData=new TreeMap<JMethod,Set<MethodAttribute>>(jMethodComparator);
      methodAttributes.put(type,typeData);
    }
    Map<JMethod,Set<MethodAttribute>> methods=methodAttributes.get(type);
    if (methods == null) {
      methods=new TreeMap<JMethod,Set<MethodAttribute>>(jMethodComparator);
      methodAttributes.put(type,methods);
    }
    Set<MethodAttribute> attributes=methods.get(method);
    if (attributes == null) {
      attributes=new TreeSet<MethodAttribute>();
      methods.put(method,attributes);
    }
    attributes.add(methodAttribute);
  }
}
