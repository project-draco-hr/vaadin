{
  Object rootClassNameObj=application.getProperty(Application.ROOT_PARAMETER);
  if (rootClassNameObj instanceof String) {
    String rootClassName=rootClassNameObj.toString();
    ClassLoader classLoader=request.getDeploymentConfiguration().getClassLoader();
    if (classLoader == null) {
      classLoader=getClass().getClassLoader();
    }
    try {
      Class<? extends Root> rootClass=Class.forName(rootClassName,true,classLoader).asSubclass(Root.class);
      return rootClass;
    }
 catch (    ClassNotFoundException e) {
      throw new RuntimeException("Could not find root class",e);
    }
  }
  return null;
}
