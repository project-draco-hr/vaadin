{
  String nodeName=getTag();
  Set<String> attributeNames=getAttributeNames();
  for (  String name : attributeNames) {
    final String value=getAttribute(name);
    nodeName+=" " + name + "="+ value;
  }
  final TreeItem item=new TreeItem(nodeName);
  try {
    TreeItem tmp=null;
    Set<String> keySet=getVariableHash().keySet();
    for (    String name : keySet) {
      String value="";
      try {
        value=getStringVariable(name);
      }
 catch (      final Exception e) {
        try {
          final JSONArray a=getArrayVariable(name);
          value=a.toString();
        }
 catch (        final Exception e2) {
          try {
            final int intVal=getIntVariable(name);
            value=String.valueOf(intVal);
          }
 catch (          final Exception e3) {
            value="unknown";
          }
        }
      }
      if (tmp == null) {
        tmp=new TreeItem("variables");
      }
      tmp.addItem(name + "=" + value);
    }
    if (tmp != null) {
      item.addItem(tmp);
    }
  }
 catch (  final Exception e) {
  }
  final Iterator<Object> i=getChildIterator();
  while (i.hasNext()) {
    final Object child=i.next();
    try {
      final UIDL c=(UIDL)child;
      item.addItem(c.dir());
    }
 catch (    final Exception e) {
      item.addItem(child.toString());
    }
  }
  return item;
}
