{
  rendering=true;
  if (!uidl.hasAttribute("cached")) {
    final boolean hasCaption=uidl.hasAttribute("caption") && !uidl.getStringAttribute("caption").equals("");
    setCaption(hasCaption ? uidl.getStringAttribute("caption") : "");
    final String captionBaseClass=CLASSNAME + (hasCaption ? "-caption" : "-nocaption");
    final String contentBaseClass=CLASSNAME + "-content";
    final String decoBaseClass=CLASSNAME + "-deco";
    captionNode.addClassName(captionBaseClass);
    contentNode.addClassName(contentBaseClass);
    bottomDecoration.addClassName(decoBaseClass);
    if (uidl.hasAttribute("style")) {
      final String[] styles=uidl.getStringAttribute("style").split(" ");
      for (      String style : styles) {
        captionNode.addClassName(captionBaseClass + "-" + style);
        contentNode.addClassName(contentBaseClass + "-" + style);
        bottomDecoration.addClassName(decoBaseClass + "-" + style);
      }
    }
  }
  if (client.updateComponent(this,uidl,false)) {
    rendering=false;
    return;
  }
  clickEventHandler.handleEventHandlerRegistration(client);
  this.client=client;
  id=uidl.getId();
  setIconUri(uidl,client);
  handleError(uidl);
  final UIDL layoutUidl=uidl.getChildUIDL(0);
  final Paintable newLayout=client.getPaintable(layoutUidl);
  if (newLayout != layout) {
    if (layout != null) {
      client.unregisterPaintable(layout);
    }
    setWidget((Widget)newLayout);
    layout=newLayout;
  }
  layout.updateFromUIDL(layoutUidl,client);
  if (uidl.getChildCount() > 1) {
    final int cnt=uidl.getChildCount();
    for (int i=1; i < cnt; i++) {
      UIDL childUidl=uidl.getChildUIDL(i);
      if (childUidl.getTag().equals("actions")) {
        if (shortcutHandler == null) {
          shortcutHandler=new ShortcutActionHandler(id,client);
        }
        shortcutHandler.updateActionMap(childUidl);
      }
    }
  }
  if (uidl.hasVariable("scrollTop") && uidl.getIntVariable("scrollTop") != scrollTop) {
    scrollTop=uidl.getIntVariable("scrollTop");
    contentNode.setScrollTop(scrollTop);
    scrollTop=contentNode.getScrollTop();
  }
  if (uidl.hasVariable("scrollLeft") && uidl.getIntVariable("scrollLeft") != scrollLeft) {
    scrollLeft=uidl.getIntVariable("scrollLeft");
    contentNode.setScrollLeft(scrollLeft);
    scrollLeft=contentNode.getScrollLeft();
  }
  runHacks(false);
  if (uidl.hasVariable("tabindex")) {
    contentNode.setTabIndex(uidl.getIntVariable("tabindex"));
  }
  rendering=false;
}
