{
  for (int p=0; p < testablePackages.length; p++) {
    testables.addItem(testablePackages[p]);
    try {
      final List testableClasses=getTestableClassesForPackage(testablePackages[p]);
      for (final Iterator it=testableClasses.iterator(); it.hasNext(); ) {
        final Class t=(Class)it.next();
        if (t.equals(TestBench.class)) {
          continue;
        }
        try {
          testables.addItem(t);
          itemCaptions.put(t,t.getName());
          testables.setParent(t,testablePackages[p]);
          continue;
        }
 catch (        final Exception e) {
          try {
            testables.addItem(t);
            itemCaptions.put(t,t.getName());
            testables.setParent(t,testablePackages[p]);
            continue;
          }
 catch (          final Exception e1) {
            e1.printStackTrace();
          }
        }
      }
    }
 catch (    final Exception e) {
      e.printStackTrace();
    }
  }
  menu=new Tree("Testables",testables);
  for (final Iterator i=itemCaptions.keySet().iterator(); i.hasNext(); ) {
    final Class testable=(Class)i.next();
    final String name=testable.getName().substring(testable.getName().lastIndexOf('.') + 1);
    menu.setItemCaption(testable,name);
  }
  for (final Iterator i=menu.rootItemIds().iterator(); i.hasNext(); ) {
    menu.expandItemsRecursively(i.next());
  }
  menu.addListener(this);
  menu.setImmediate(true);
  mainLayout.addComponent(menu);
  bodyLayout.addStyleName("light");
  bodyLayout.setHeight(100);
  bodyLayout.setHeightUnits(Sizeable.UNITS_PERCENTAGE);
  bodyLayout.setLayout(new ExpandLayout());
  mainLayout.addComponent(bodyLayout);
  mainLayout.setSplitPosition(30);
  mainWindow.setLayout(mainLayout);
  setMainWindow(mainWindow);
}
