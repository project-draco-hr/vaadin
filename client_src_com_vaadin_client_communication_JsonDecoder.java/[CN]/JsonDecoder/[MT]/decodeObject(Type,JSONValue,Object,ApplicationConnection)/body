{
  JSONSerializer<Object> serializer=(JSONSerializer<Object>)type.findSerializer();
  if (serializer != null) {
    if (target != null && serializer instanceof DiffJSONSerializer<?>) {
      DiffJSONSerializer<Object> diffSerializer=(DiffJSONSerializer<Object>)serializer;
      diffSerializer.update(target,type,jsonValue,connection);
      return target;
    }
 else {
      Object object=serializer.deserialize(type,jsonValue,connection);
      return object;
    }
  }
 else {
    try {
      JsArrayObject<Property> properties=type.getPropertiesAsArray();
      if (target == null) {
        target=type.createInstance();
      }
      JSONObject jsonObject=jsonValue.isObject();
      int size=properties.size();
      for (int i=0; i < size; i++) {
        Property property=properties.get(i);
        JSONValue encodedPropertyValue=jsonObject.get(property.getName());
        if (encodedPropertyValue == null) {
          continue;
        }
        Type propertyType=property.getType();
        Object propertyReference;
        if (needsReferenceValue(propertyType)) {
          propertyReference=property.getValue(target);
        }
 else {
          propertyReference=null;
        }
        Object decodedValue=decodeValue(propertyType,encodedPropertyValue,propertyReference,connection);
        property.setValue(target,decodedValue);
      }
      return target;
    }
 catch (    NoDataException e) {
      throw new RuntimeException("Can not deserialize " + type.getSignature(),e);
    }
  }
}
