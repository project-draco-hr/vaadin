{
  final Table table=new Table("Test table");
  table.addContainerProperty("Name",String.class,null,"Name",null,null);
  table.setItemCaptionPropertyId("Name");
  table.setHeight("100px");
  table.setImmediate(true);
  CheckBox showHeaders=new CheckBox("Show headers",new CheckBox.ClickListener(){
    public void buttonClick(    ClickEvent event){
      if (event.getButton().booleanValue()) {
        table.setColumnHeaderMode(Table.COLUMN_HEADER_MODE_EXPLICIT_DEFAULTS_ID);
      }
 else {
        table.setColumnHeaderMode(Table.COLUMN_HEADER_MODE_HIDDEN);
      }
    }
  }
);
  showHeaders.setImmediate(true);
  showHeaders.setValue(true);
  addComponent(showHeaders);
  addComponent(table);
}
