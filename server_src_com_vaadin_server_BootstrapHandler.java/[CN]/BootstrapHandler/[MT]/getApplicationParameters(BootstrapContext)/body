{
  JSONObject appConfig=new JSONObject();
  if (context.getThemeName() != null) {
    appConfig.put("themeUri",getThemeUri(context,context.getThemeName()));
  }
  JSONObject versionInfo=new JSONObject();
  versionInfo.put("vaadinVersion",Version.getFullVersion());
  appConfig.put("versionInfo",versionInfo);
  appConfig.put("widgetset",context.getWidgetsetName());
  appConfig.put("initialPath",context.getRequest().getRequestPathInfo());
  Map<String,String[]> parameterMap=context.getRequest().getParameterMap();
  appConfig.put("initialParams",parameterMap);
  return appConfig;
}
