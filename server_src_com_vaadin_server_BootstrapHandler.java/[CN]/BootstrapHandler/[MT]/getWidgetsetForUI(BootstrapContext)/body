{
  WrappedRequest request=context.getRequest();
  String widgetset=context.getVaadinSession().getUiProvider(context.getRequest(),context.getUIClass()).getWidgetset(context.getRequest(),context.getUIClass());
  if (widgetset == null) {
    widgetset=request.getVaadinService().getConfiguredWidgetset(request);
  }
  widgetset=VaadinServlet.stripSpecialChars(widgetset);
  return widgetset;
}
