{
  WrappedRequest request=context.getRequest();
  String widgetset=context.getApplication().getUiProvider(context.getRequest(),context.getUIClass()).getWidgetsetForUI(context.getRequest(),context.getUIClass());
  if (widgetset == null) {
    widgetset=request.getDeploymentConfiguration().getConfiguredWidgetset(request);
  }
  widgetset=VaadinServlet.stripSpecialChars(widgetset);
  return widgetset;
}
