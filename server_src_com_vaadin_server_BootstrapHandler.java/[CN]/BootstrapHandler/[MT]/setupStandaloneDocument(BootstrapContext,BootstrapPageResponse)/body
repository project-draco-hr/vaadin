{
  response.setHeader("Cache-Control","no-cache");
  response.setHeader("Pragma","no-cache");
  response.setDateHeader("Expires",0);
  Document document=response.getDocument();
  DocumentType doctype=new DocumentType("html","-//W3C//DTD XHTML 1.0 Transitional//EN","http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd",document.baseUri());
  document.child(0).before(doctype);
  document.body().parent().attr("xmlns","http://www.w3.org/1999/xhtml");
  Element head=document.head();
  head.appendElement("meta").attr("http-equiv","Content-Type").attr("content","text/html; charset=utf-8");
  head.appendElement("meta").attr("http-equiv","X-UA-Compatible").attr("content","chrome=1");
  String title=context.getVaadinSession().getUiProvider(context.getRequest(),context.getUIClass()).getPageTitle(context.getRequest(),context.getUIClass());
  if (title != null) {
    head.appendElement("title").appendText(title);
  }
  head.appendElement("style").attr("type","text/css").appendText("html, body {height:100%;margin:0;}");
  String themeName=context.getThemeName();
  if (themeName != null) {
    String themeUri=getThemeUri(context,themeName);
    head.appendElement("link").attr("rel","shortcut icon").attr("type","image/vnd.microsoft.icon").attr("href",themeUri + "/favicon.ico");
    head.appendElement("link").attr("rel","icon").attr("type","image/vnd.microsoft.icon").attr("href",themeUri + "/favicon.ico");
  }
  Element body=document.body();
  body.attr("scroll","auto");
  body.addClass(ApplicationConstants.GENERATED_BODY_CLASSNAME);
}
