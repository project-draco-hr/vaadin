{
  Class<?> classToRun=getClassToRun();
  if (Root.class.isAssignableFrom(classToRun)) {
    return Application.class;
  }
 else   if (Application.class.isAssignableFrom(classToRun)) {
    return classToRun.asSubclass(Application.class);
  }
 else {
    throw new ClassCastException(classToRun.getCanonicalName() + " is not an Application nor a Root");
  }
}
