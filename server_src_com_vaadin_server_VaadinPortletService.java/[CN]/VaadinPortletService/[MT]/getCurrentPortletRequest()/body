{
  VaadinRequest currentRequest=VaadinService.getCurrentRequest();
  if (currentRequest instanceof VaadinPortletRequest) {
    return ((VaadinPortletRequest)currentRequest).getPortletRequest();
  }
 else {
    return null;
  }
}
