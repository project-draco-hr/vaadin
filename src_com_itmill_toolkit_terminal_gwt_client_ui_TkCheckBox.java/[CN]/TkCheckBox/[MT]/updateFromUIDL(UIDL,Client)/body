{
  if (!"switch".equals(uidl.getStringAttribute("type"))) {
    if (this.client != null)     client.repaintComponent(this,uidl);
 else     throw new IllegalStateException("Can not paint button of type: " + uidl.getStringAttribute("type"));
  }
  this.client=client;
  id=uidl.getId();
  setText(uidl.getStringAttribute("caption"));
  setChecked(uidl.getBooleanVariable("state"));
  immediate=uidl.getBooleanAttribute("immediate");
}
