{
  if (indexWidthMap == null) {
    throw new IllegalArgumentException("indexWidthMap was null");
  }
  if (indexWidthMap.isEmpty()) {
    return;
  }
  List<Integer> autosizeColumns=new ArrayList<Integer>();
  for (  Entry<Integer,Double> entry : indexWidthMap.entrySet()) {
    int index=entry.getKey().intValue();
    double width=entry.getValue().doubleValue();
    if (index == getColumnCount() - 1) {
      subpixelBrowserBugDetector.invalidateFix();
    }
    checkValidColumnIndex(index);
    if (width >= 0) {
      columns.get(index).setWidth(width);
    }
 else {
      autosizeColumns.add(index);
    }
  }
  autosizeColumns(autosizeColumns);
  widthsArray=null;
  header.reapplyColumnWidths();
  body.reapplyColumnWidths();
  footer.reapplyColumnWidths();
  subpixelBrowserBugDetector.checkAndFix();
  recalculateElementSizes();
}
