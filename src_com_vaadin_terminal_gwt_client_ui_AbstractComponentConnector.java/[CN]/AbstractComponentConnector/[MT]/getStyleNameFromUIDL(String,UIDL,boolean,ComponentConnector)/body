{
  ComponentState state=connector.getState();
  StringBuffer styleBuf=new StringBuffer();
  styleBuf.append(primaryStyleName);
  styleBuf.append(" v-paintable");
  if (!connector.isEnabled()) {
    styleBuf.append(" ");
    styleBuf.append(ApplicationConnection.DISABLED_CLASSNAME);
  }
  if (connector.isReadOnly()) {
    styleBuf.append(" ");
    styleBuf.append("v-readonly");
  }
  if (state.hasStyles()) {
    for (    String style : state.getStyles()) {
      styleBuf.append(" ");
      styleBuf.append(primaryStyleName);
      styleBuf.append("-");
      styleBuf.append(style);
      styleBuf.append(" ");
      styleBuf.append(style);
    }
  }
  if (field && uidl.hasAttribute("modified")) {
    styleBuf.append(" ");
    styleBuf.append(ApplicationConnection.MODIFIED_CLASSNAME);
  }
  if (null != state.getErrorMessage()) {
    styleBuf.append(" ");
    styleBuf.append(primaryStyleName);
    styleBuf.append(ApplicationConnection.ERROR_CLASSNAME_EXT);
  }
  if (connector instanceof AbstractFieldConnector && ((AbstractFieldConnector)connector).isRequired()) {
    styleBuf.append(" ");
    styleBuf.append(primaryStyleName);
    styleBuf.append(ApplicationConnection.REQUIRED_CLASSNAME_EXT);
  }
  return styleBuf.toString();
}
