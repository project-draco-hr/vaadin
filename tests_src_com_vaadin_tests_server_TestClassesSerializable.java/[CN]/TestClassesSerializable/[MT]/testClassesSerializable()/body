{
  List<String> rawClasspathEntries=getRawClasspathEntries();
  List<String> classes=new ArrayList<String>();
  for (  String location : rawClasspathEntries) {
    classes.addAll(findServerClasses(location));
  }
  List<Class> nonSerializableClasses=new ArrayList<Class>();
  for (  String className : classes) {
    Class<?> cls=Class.forName(className);
    if (cls.isAnnotation()) {
      continue;
    }
    if (!Serializable.class.isAssignableFrom(cls)) {
      nonSerializableClasses.add(cls);
    }
  }
  if (!nonSerializableClasses.isEmpty()) {
    String nonSerializableString="";
    Iterator<Class> it=nonSerializableClasses.iterator();
    nonSerializableString=it.next().getName();
    while (it.hasNext()) {
      nonSerializableString+=", " + it.next().getName();
    }
    fail("Serializable not implemented by the following classes and interfaces: " + nonSerializableString);
  }
}
