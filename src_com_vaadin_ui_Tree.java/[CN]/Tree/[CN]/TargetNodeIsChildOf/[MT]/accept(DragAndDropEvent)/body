{
  try {
    TreeDropTargetDetails eventDetails=(TreeDropTargetDetails)dragEvent.getDropTargetDetails();
    if (eventDetails.getItemIdOver() != null) {
      Object itemIdOver=eventDetails.getItemIdOver();
      Object parent2=getParent(itemIdOver);
      int i=0;
      while (parent2 != null && (depthToCheck == -1 || i < depthToCheck)) {
        if (parent2.equals(parentItemId)) {
          return true;
        }
        i++;
      }
    }
    return false;
  }
 catch (  Exception e) {
    return false;
  }
}
