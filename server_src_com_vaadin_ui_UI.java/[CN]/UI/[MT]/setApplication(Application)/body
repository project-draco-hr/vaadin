{
  if ((application == null) == (this.application == null)) {
    throw new IllegalStateException("Application has already been set");
  }
 else {
    if (application == null) {
      detach();
    }
    this.application=application;
  }
  if (application != null) {
    attach();
  }
}
