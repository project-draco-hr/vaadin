{
  rootLayout.paint(target);
  for (final Iterator<Window> i=windows.iterator(); i.hasNext(); ) {
    final Window w=i.next();
    w.paint(target);
  }
  if (notifications != null) {
    target.startTag("notifications");
    for (final Iterator<Notification> it=notifications.iterator(); it.hasNext(); ) {
      final Notification n=it.next();
      target.startTag("notification");
      if (n.getCaption() != null) {
        target.addAttribute("caption",n.getCaption());
      }
      if (n.getDescription() != null) {
        target.addAttribute("message",n.getDescription());
      }
      if (n.getIcon() != null) {
        target.addAttribute("icon",n.getIcon());
      }
      if (!n.isHtmlContentAllowed()) {
        target.addAttribute(VView.NOTIFICATION_HTML_CONTENT_NOT_ALLOWED,true);
      }
      target.addAttribute("position",n.getPosition());
      target.addAttribute("delay",n.getDelayMsec());
      if (n.getStyleName() != null) {
        target.addAttribute("style",n.getStyleName());
      }
      target.endTag("notification");
    }
    target.endTag("notifications");
    notifications=null;
  }
  if (jsExecQueue != null) {
    for (    String script : jsExecQueue) {
      target.startTag("execJS");
      target.addAttribute("script",script);
      target.endTag("execJS");
    }
    jsExecQueue=null;
  }
  if (scrollIntoView != null) {
    target.addAttribute("scrollTo",scrollIntoView);
    scrollIntoView=null;
  }
  if (pendingFocus != null) {
    if (pendingFocus.getRoot() == this || (pendingFocus.getRoot() != null && pendingFocus.getRoot().getParent() == this)) {
      target.addAttribute("focused",pendingFocus);
    }
    pendingFocus=null;
  }
}
