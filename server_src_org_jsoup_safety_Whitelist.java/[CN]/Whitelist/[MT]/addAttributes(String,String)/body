{
  Validate.notEmpty(tag);
  Validate.notNull(keys);
  Validate.isTrue(keys.length > 0,"No attributes supplied.");
  TagName tagName=TagName.valueOf(tag);
  if (!tagNames.contains(tagName))   tagNames.add(tagName);
  Set<AttributeKey> attributeSet=new HashSet<AttributeKey>();
  for (  String key : keys) {
    Validate.notEmpty(key);
    attributeSet.add(AttributeKey.valueOf(key));
  }
  if (attributes.containsKey(tagName)) {
    Set<AttributeKey> currentSet=attributes.get(tagName);
    currentSet.addAll(attributeSet);
  }
 else {
    attributes.put(tagName,attributeSet);
  }
  return this;
}
