{
  super.onBrowserEvent(event);
  if (disabled) {
    return;
  }
  final int type=DOM.eventGetType(event);
  final Element target=DOM.eventGetTarget(event);
  if (emitClickEvents && DOM.compare(target,nodeCaptionSpan) && (type == Event.ONDBLCLICK || type == Event.ONMOUSEUP)) {
    fireClick(event);
  }
  if (type == Event.ONCLICK) {
    if (DOM.compare(getElement(),target) || DOM.compare(ie6compatnode,target)) {
      toggleState();
    }
 else     if (!readonly && DOM.compare(target,nodeCaptionSpan)) {
      toggleSelection();
    }
    DOM.eventCancelBubble(event,true);
  }
 else {
    ApplicationConnection.getConsole().log("ITree event?? " + DOM.eventToString(event));
  }
}
