{
  TreeNode n=((TreeNode)item);
  if (!selectable)   return;
  String key=n.key;
  if (key != null) {
    if (selectedIds.contains(key) && isNullSelectionAllowed) {
      selectedIds.remove(key);
      n.setISelected(false);
    }
 else {
      if (!isMultiselect) {
        selectedIds.clear();
      }
      selectedIds.add(key);
      n.setISelected(true);
    }
    ITree.this.client.updateVariable(ITree.this.paintableId,"selected",selectedIds.toArray(),immediate);
  }
}
