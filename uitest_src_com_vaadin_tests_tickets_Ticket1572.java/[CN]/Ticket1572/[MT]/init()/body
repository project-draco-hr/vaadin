{
  final LegacyWindow main=new LegacyWindow(getClass().getName().substring(getClass().getName().lastIndexOf(".") + 1));
  setMainWindow(main);
  HorizontalLayout pl=new HorizontalLayout();
  Panel p=new Panel("Test wrapper for gridlayout margin/spacing",pl);
  gl=new GridLayout(3,3);
  gl.setMargin(true);
  for (int i=0; i < 3 * 3; i++) {
    gl.addComponent(new Button("test"));
  }
  pl.addComponent(gl);
  pl.addComponent(new Label("| next component"));
  Button b=new Button("next margin state");
  b.addClickListener(new Button.ClickListener(){
    @Override public void buttonClick(    ClickEvent event){
      nextMarginState();
    }
  }
);
  state=new Label();
  state.setCaption("Current margin state:");
  main.addComponent(state);
  main.addComponent(b);
  Button b2=new Button("next spacing state");
  b2.addClickListener(new Button.ClickListener(){
    @Override public void buttonClick(    ClickEvent event){
      nextSpacingState();
    }
  }
);
  spacingstate=new Label();
  spacingstate.setCaption("Current Spacing State:");
  main.addComponent(spacingstate);
  main.addComponent(b2);
  main.addComponent(p);
  nextMarginState();
  nextSpacingState();
}
