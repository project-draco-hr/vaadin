{
  detectAndApplyPositionFunction();
  final Element root=DOM.createDiv();
  setElement(root);
  setStyleName(CLASS_NAME);
  scroller=DOM.createDiv();
  scroller.setClassName(CLASS_NAME + "-scroller");
  root.appendChild(scroller);
  innerScroller=DOM.createDiv();
  scroller.appendChild(innerScroller);
  tableWrapper=DOM.createDiv();
  tableWrapper.setClassName(CLASS_NAME + "-tablewrapper");
  root.appendChild(tableWrapper);
  final Element table=DOM.createTable();
  tableWrapper.appendChild(table);
  headElem.setClassName(CLASS_NAME + "-header");
  table.appendChild(headElem);
  bodyElem.setClassName(CLASS_NAME + "-body");
  table.appendChild(bodyElem);
  footElem.setClassName(CLASS_NAME + "-footer");
  table.appendChild(footElem);
  addAttachHandler(new AttachEvent.Handler(){
    @Override public void onAttachOrDetach(    final AttachEvent event){
      if (event.isAttached()) {
        recalculateElementSizes();
      }
    }
  }
);
}
